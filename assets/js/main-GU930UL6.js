var Dn=Object.defineProperty;var Gn=(t,e,l)=>e in t?Dn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var tt=(t,e,l)=>(Gn(t,typeof e!="symbol"?e+"":e,l),l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function l(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=l(o);fetch(o.href,r)}})();function D(){}const kn=t=>t;function ve(t,e){for(const l in e)t[l]=e[l];return t}function Un(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function yn(t){return t()}function $t(){return Object.create(null)}function oe(t){t.forEach(yn)}function Ge(t){return typeof t=="function"}function re(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Ue;function xe(t,e){return t===e?!0:(Ue||(Ue=document.createElement("a")),Ue.href=e,t===Ue.href)}function qn(t){return Object.keys(t).length===0}function dt(t,...e){if(t==null){for(const n of e)n(void 0);return D}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function ye(t){let e;return dt(t,l=>e=l)(),e}function $e(t,e,l){t.$$.on_destroy.push(dt(e,l))}function Fe(t,e,l,n){if(t){const o=wn(t,e,l,n);return t[0](o)}}function wn(t,e,l,n){return t[1]&&n?ve(l.ctx.slice(),t[1](n(e))):l.ctx}function We(t,e,l,n){if(t[2]&&n){const o=t[2](n(l));if(e.dirty===void 0)return o;if(typeof o=="object"){const r=[],i=Math.max(e.dirty.length,o.length);for(let f=0;f<i;f+=1)r[f]=e.dirty[f]|o[f];return r}return e.dirty|o}return e.dirty}function Ye(t,e,l,n,o,r){if(o){const i=wn(e,l,n,r);t.p(i,o)}}function Qe(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function st(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function kt(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}function Jn(t,e,l){return t.set(l),e}const vn=typeof window<"u";let Cn=vn?()=>window.performance.now():()=>Date.now(),pt=vn?t=>requestAnimationFrame(t):D;const Ne=new Set;function On(t){Ne.forEach(e=>{e.c(t)||(Ne.delete(e),e.f())}),Ne.size!==0&&pt(On)}function Pn(t){let e;return Ne.size===0&&pt(On),{promise:new Promise(l=>{Ne.add(e={c:t,f:l})}),abort(){Ne.delete(e)}}}function p(t,e){t.appendChild(e)}function An(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function xn(t){const e=_("style");return e.textContent="/* empty */",Hn(An(t),e),e.sheet}function Hn(t,e){return p(t.head||t,e),e.sheet}function b(t,e,l){t.insertBefore(e,l||null)}function g(t){t.parentNode&&t.parentNode.removeChild(t)}function Ce(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function _(t){return document.createElement(t)}function K(t){return document.createTextNode(t)}function C(){return K(" ")}function ie(){return K("")}function H(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function Xe(t){return function(e){return e.preventDefault(),t.call(this,e)}}function $(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}const Kn=["width","height"];function yt(t,e){const l=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:l[n]&&l[n].set&&Kn.indexOf(n)===-1?t[n]=e[n]:$(t,n,e[n])}function Bn(t){return Array.from(t.childNodes)}function Q(t,e){e=""+e,t.data!==e&&(t.data=e)}function X(t,e){t.value=e??""}function He(t,e,l){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e){o.selected=!0;return}}(!l||e!==void 0)&&(t.selectedIndex=-1)}function Sn(t){const e=t.querySelector(":checked");return e&&e.__value}function jn(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}function wt(t,e){return new t(e)}const Ke=new Map;let Be=0;function zn(t){let e=5381,l=t.length;for(;l--;)e=(e<<5)-e^t.charCodeAt(l);return e>>>0}function Vn(t,e){const l={stylesheet:xn(e),rules:{}};return Ke.set(t,l),l}function Nn(t,e,l,n,o,r,i,f=0){const u=16.666/n;let c=`{
`;for(let O=0;O<=1;O+=u){const P=e+(l-e)*r(O);c+=O*100+`%{${i(P,1-P)}}
`}const s=c+`100% {${i(l,1-l)}}
}`,a=`__svelte_${zn(s)}_${f}`,d=An(t),{stylesheet:h,rules:m}=Ke.get(d)||Vn(d,t);m[a]||(m[a]=!0,h.insertRule(`@keyframes ${a} ${s}`,h.cssRules.length));const S=t.style.animation||"";return t.style.animation=`${S?`${S}, `:""}${a} ${n}ms linear ${o}ms 1 both`,Be+=1,a}function ut(t,e){const l=(t.style.animation||"").split(", "),n=l.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),o=l.length-n.length;o&&(t.style.animation=n.join(", "),Be-=o,Be||Fn())}function Fn(){pt(()=>{Be||(Ke.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&g(e)}),Ke.clear())})}let Le;function ge(t){Le=t}function Re(){if(!Le)throw new Error("Function called outside component initialization");return Le}function pe(t){Re().$$.on_mount.push(t)}function Wn(t){Re().$$.on_destroy.push(t)}function Yn(){const t=Re();return(e,l,{cancelable:n=!1}={})=>{const o=t.$$.callbacks[e];if(o){const r=jn(e,l,{cancelable:n});return o.slice().forEach(i=>{i.call(t,r)}),!r.defaultPrevented}return!0}}function nt(t,e){return Re().$$.context.set(t,e),e}function Te(t){return Re().$$.context.get(t)}const Se=[],vt=[];let Ee=[];const Ct=[],Qn=Promise.resolve();let ct=!1;function Xn(){ct||(ct=!0,Qn.then(_t))}function we(t){Ee.push(t)}const lt=new Set;let Pe=0;function _t(){if(Pe!==0)return;const t=Le;do{try{for(;Pe<Se.length;){const e=Se[Pe];Pe++,ge(e),Zn(e.$$)}}catch(e){throw Se.length=0,Pe=0,e}for(ge(null),Se.length=0,Pe=0;vt.length;)vt.pop()();for(let e=0;e<Ee.length;e+=1){const l=Ee[e];lt.has(l)||(lt.add(l),l())}Ee.length=0}while(Se.length);for(;Ct.length;)Ct.pop()();ct=!1,lt.clear(),ge(t)}function Zn(t){if(t.fragment!==null){t.update(),oe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(we)}}function el(t){const e=[],l=[];Ee.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),Ee=e}let Ie;function Tn(){return Ie||(Ie=Promise.resolve(),Ie.then(()=>{Ie=null})),Ie}function ze(t,e,l){t.dispatchEvent(jn(`${e?"intro":"outro"}${l}`))}const Je=new Set;let ke;function ne(){ke={r:0,c:[],p:ke}}function le(){ke.r||oe(ke.c),ke=ke.p}function L(t,e){t&&t.i&&(Je.delete(t),t.i(e))}function M(t,e,l,n){if(t&&t.o){if(Je.has(t))return;Je.add(t),ke.c.push(()=>{Je.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}const En={duration:0};function tl(t,e,l){const n={direction:"in"};let o=e(t,l,n),r=!1,i,f,u=0;function c(){i&&ut(t,i)}function s(){const{delay:d=0,duration:h=300,easing:m=kn,tick:S=D,css:O}=o||En;O&&(i=Nn(t,0,1,h,d,m,O,u++)),S(0,1);const P=Cn()+d,N=P+h;f&&f.abort(),r=!0,we(()=>ze(t,!0,"start")),f=Pn(j=>{if(r){if(j>=N)return S(1,0),ze(t,!0,"end"),c(),r=!1;if(j>=P){const w=m((j-P)/h);S(w,1-w)}}return r})}let a=!1;return{start(){a||(a=!0,ut(t),Ge(o)?(o=o(n),Tn().then(s)):s())},invalidate(){a=!1},end(){r&&(c(),r=!1)}}}function nl(t,e,l){const n={direction:"out"};let o=e(t,l,n),r=!0,i;const f=ke;f.r+=1;let u;function c(){const{delay:s=0,duration:a=300,easing:d=kn,tick:h=D,css:m}=o||En;m&&(i=Nn(t,1,0,a,s,d,m));const S=Cn()+s,O=S+a;we(()=>ze(t,!1,"start")),"inert"in t&&(u=t.inert,t.inert=!0),Pn(P=>{if(r){if(P>=O)return h(0,1),ze(t,!1,"end"),--f.r||oe(f.c),!1;if(P>=S){const N=d((P-S)/a);h(1-N,N)}}return r})}return Ge(o)?Tn().then(()=>{o=o(n),c()}):c(),{end(s){s&&"inert"in t&&(t.inert=u),s&&o.tick&&o.tick(1,0),r&&(i&&ut(t,i),r=!1)}}}function Ot(t,e){const l=e.token={};function n(o,r,i,f){if(e.token!==l)return;e.resolved=f;let u=e.ctx;i!==void 0&&(u=u.slice(),u[i]=f);const c=o&&(e.current=o)(u);let s=!1;e.block&&(e.blocks?e.blocks.forEach((a,d)=>{d!==r&&a&&(ne(),M(a,1,1,()=>{e.blocks[d]===a&&(e.blocks[d]=null)}),le())}):e.block.d(1),c.c(),L(c,1),c.m(e.mount(),e.anchor),s=!0),e.block=c,e.blocks&&(e.blocks[r]=c),s&&_t()}if(Un(t)){const o=Re();if(t.then(r=>{ge(o),n(e.then,1,e.value,r),ge(null)},r=>{if(ge(o),n(e.catch,2,e.error,r),ge(null),!e.hasCatch)throw r}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,t),!0;e.resolved=t}}function ll(t,e,l){const n=e.slice(),{resolved:o}=t;t.current===t.then&&(n[t.value]=o),t.current===t.catch&&(n[t.error]=o),t.block.p(n,l)}function Z(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ht(t,e){M(t,1,1,()=>{e.delete(t.key)})}function mt(t,e,l,n,o,r,i,f,u,c,s,a){let d=t.length,h=r.length,m=d;const S={};for(;m--;)S[t[m].key]=m;const O=[],P=new Map,N=new Map,j=[];for(m=h;m--;){const I=a(o,r,m),k=l(I);let y=i.get(k);y?n&&j.push(()=>y.p(I,e)):(y=c(k,I),y.c()),P.set(k,O[m]=y),k in S&&N.set(k,Math.abs(m-S[k]))}const w=new Set,v=new Set;function R(I){L(I,1),I.m(f,s),i.set(I.key,I),s=I.first,h--}for(;d&&h;){const I=O[h-1],k=t[d-1],y=I.key,A=k.key;I===k?(s=I.first,d--,h--):P.has(A)?!i.has(y)||w.has(y)?R(I):v.has(A)?d--:N.get(y)>N.get(A)?(v.add(y),R(I)):(w.add(A),d--):(u(k,i),d--)}for(;d--;){const I=t[d];P.has(I.key)||u(I,i)}for(;h;)R(O[h-1]);return oe(j),O}function ft(t,e){const l={},n={},o={$$scope:1};let r=t.length;for(;r--;){const i=t[r],f=e[r];if(f){for(const u in i)u in f||(n[u]=1);for(const u in f)o[u]||(l[u]=f[u],o[u]=1);t[r]=f}else for(const u in i)o[u]=1}for(const i in n)i in l||(l[i]=void 0);return l}function qe(t){return typeof t=="object"&&t!==null?t:{}}function x(t){t&&t.c()}function q(t,e,l){const{fragment:n,after_update:o}=t.$$;n&&n.m(e,l),we(()=>{const r=t.$$.on_mount.map(yn).filter(Ge);t.$$.on_destroy?t.$$.on_destroy.push(...r):oe(r),t.$$.on_mount=[]}),o.forEach(we)}function J(t,e){const l=t.$$;l.fragment!==null&&(el(l.after_update),oe(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function ol(t,e){t.$$.dirty[0]===-1&&(Se.push(t),Xn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ae(t,e,l,n,o,r,i=null,f=[-1]){const u=Le;ge(t);const c=t.$$={fragment:null,ctx:[],props:r,update:D,not_equal:o,bound:$t(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:$t(),dirty:f,skip_bound:!1,root:e.target||u.$$.root};i&&i(c.root);let s=!1;if(c.ctx=l?l(t,e.props||{},(a,d,...h)=>{const m=h.length?h[0]:d;return c.ctx&&o(c.ctx[a],c.ctx[a]=m)&&(!c.skip_bound&&c.bound[a]&&c.bound[a](m),s&&ol(t,a)),d}):[],c.update(),s=!0,oe(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const a=Bn(e.target);c.fragment&&c.fragment.l(a),a.forEach(g)}else c.fragment&&c.fragment.c();e.intro&&L(t.$$.fragment),q(t,e.target,e.anchor),_t()}ge(u)}class de{constructor(){tt(this,"$$");tt(this,"$$set")}$destroy(){J(this,1),this.$destroy=D}$on(e,l){if(!Ge(l))return D;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const o=n.indexOf(l);o!==-1&&n.splice(o,1)}}$set(e){this.$$set&&!qn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const rl="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(rl);const at={},Ve={},Rn={},In=/^:(.+)/,Pt=4,il=3,sl=2,ul=1,cl=1,Me=t=>t.replace(/(^\/+|\/+$)/g,"").split("/"),ot=t=>t.replace(/(^\/+|\/+$)/g,""),fl=(t,e)=>{const l=t.default?0:Me(t.path).reduce((n,o)=>(n+=Pt,o===""?n+=cl:In.test(o)?n+=sl:o[0]==="*"?n-=Pt+ul:n+=il,n),0);return{route:t,score:l,index:e}},al=t=>t.map(fl).sort((e,l)=>e.score<l.score?1:e.score>l.score?-1:e.index-l.index),At=(t,e)=>{let l,n;const[o]=e.split("?"),r=Me(o),i=r[0]==="",f=al(t);for(let u=0,c=f.length;u<c;u++){const s=f[u].route;let a=!1;if(s.default){n={route:s,params:{},uri:e};continue}const d=Me(s.path),h={},m=Math.max(r.length,d.length);let S=0;for(;S<m;S++){const O=d[S],P=r[S];if(O&&O[0]==="*"){const j=O==="*"?"*":O.slice(1);h[j]=r.slice(S).map(decodeURIComponent).join("/");break}if(typeof P>"u"){a=!0;break}const N=In.exec(O);if(N&&!i){const j=decodeURIComponent(P);h[N[1]]=j}else if(O!==P){a=!0;break}}if(!a){l={route:s,params:h,uri:"/"+r.slice(0,S).join("/")};break}}return l||n||null},rt=(t,e)=>t+(e?`?${e}`:""),dl=(t,e)=>{if(t.startsWith("/"))return t;const[l,n]=t.split("?"),[o]=e.split("?"),r=Me(l),i=Me(o);if(r[0]==="")return rt(o,n);if(!r[0].startsWith(".")){const c=i.concat(r).join("/");return rt((o==="/"?"":"/")+c,n)}const f=i.concat(r),u=[];return f.forEach(c=>{c===".."?u.pop():c!=="."&&u.push(c)}),rt("/"+u.join("/"),n)},St=(t,e)=>`${ot(e==="/"?t:`${ot(t)}/${ot(e)}`)}/`,pl=t=>!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey),Ln=()=>typeof window<"u"&&"document"in window&&"location"in window,_l=t=>({active:t&4}),jt=t=>({active:!!t[2]});function hl(t){let e,l,n,o;const r=t[17].default,i=Fe(r,t,t[16],jt);let f=[{href:t[0]},{"aria-current":t[2]},t[1],t[6]],u={};for(let c=0;c<f.length;c+=1)u=ve(u,f[c]);return{c(){e=_("a"),i&&i.c(),yt(e,u)},m(c,s){b(c,e,s),i&&i.m(e,null),l=!0,n||(o=H(e,"click",t[5]),n=!0)},p(c,[s]){i&&i.p&&(!l||s&65540)&&Ye(i,r,c,c[16],l?We(r,c[16],s,_l):Qe(c[16]),jt),yt(e,u=ft(f,[(!l||s&1)&&{href:c[0]},(!l||s&4)&&{"aria-current":c[2]},s&2&&c[1],s&64&&c[6]]))},i(c){l||(L(i,c),l=!0)},o(c){M(i,c),l=!1},d(c){c&&g(e),i&&i.d(c),n=!1,o()}}}function ml(t,e,l){let n;const o=["to","replace","state","getProps","preserveScroll"];let r=kt(e,o),i,f,{$$slots:u={},$$scope:c}=e,{to:s="#"}=e,{replace:a=!1}=e,{state:d={}}=e,{getProps:h=()=>({})}=e,{preserveScroll:m=!1}=e;const S=Te(at);$e(t,S,k=>l(14,i=k));const{base:O}=Te(Ve);$e(t,O,k=>l(15,f=k));const{navigate:P}=Te(Rn),N=Yn();let j,w,v,R;const I=k=>{if(N("click",k),pl(k)){k.preventDefault();const y=i.pathname===j||a;P(j,{state:d,replace:y,preserveScroll:m})}};return t.$$set=k=>{e=ve(ve({},e),st(k)),l(6,r=kt(e,o)),"to"in k&&l(7,s=k.to),"replace"in k&&l(8,a=k.replace),"state"in k&&l(9,d=k.state),"getProps"in k&&l(10,h=k.getProps),"preserveScroll"in k&&l(11,m=k.preserveScroll),"$$scope"in k&&l(16,c=k.$$scope)},t.$$.update=()=>{t.$$.dirty&32896&&l(0,j=s==="/"?f.uri:dl(s,f.uri)),t.$$.dirty&16385&&l(12,w=i.pathname.startsWith(j)),t.$$.dirty&16385&&l(13,v=j===i.pathname),t.$$.dirty&8192&&l(2,n=v?"page":void 0),l(1,R=h({location:i,href:j,isPartiallyCurrent:w,isCurrent:v,existingProps:r}))},[j,R,n,S,O,I,r,s,a,d,h,m,w,v,i,f,c,u]}class ce extends de{constructor(e){super(),ae(this,e,ml,hl,re,{to:7,replace:8,state:9,getProps:10,preserveScroll:11})}}const gl=t=>({params:t&4}),Nt=t=>({params:t[2]});function Tt(t){let e,l,n,o;const r=[$l,bl],i=[];function f(u,c){return u[0]?0:1}return e=f(t),l=i[e]=r[e](t),{c(){l.c(),n=ie()},m(u,c){i[e].m(u,c),b(u,n,c),o=!0},p(u,c){let s=e;e=f(u),e===s?i[e].p(u,c):(ne(),M(i[s],1,1,()=>{i[s]=null}),le(),l=i[e],l?l.p(u,c):(l=i[e]=r[e](u),l.c()),L(l,1),l.m(n.parentNode,n))},i(u){o||(L(l),o=!0)},o(u){M(l),o=!1},d(u){u&&g(n),i[e].d(u)}}}function bl(t){let e;const l=t[8].default,n=Fe(l,t,t[7],Nt);return{c(){n&&n.c()},m(o,r){n&&n.m(o,r),e=!0},p(o,r){n&&n.p&&(!e||r&132)&&Ye(n,l,o,o[7],e?We(l,o[7],r,gl):Qe(o[7]),Nt)},i(o){e||(L(n,o),e=!0)},o(o){M(n,o),e=!1},d(o){n&&n.d(o)}}}function $l(t){let e,l,n,o={ctx:t,current:null,token:null,hasCatch:!1,pending:wl,then:yl,catch:kl,value:12,blocks:[,,,]};return Ot(l=t[0],o),{c(){e=ie(),o.block.c()},m(r,i){b(r,e,i),o.block.m(r,o.anchor=i),o.mount=()=>e.parentNode,o.anchor=e,n=!0},p(r,i){t=r,o.ctx=t,i&1&&l!==(l=t[0])&&Ot(l,o)||ll(o,t,i)},i(r){n||(L(o.block),n=!0)},o(r){for(let i=0;i<3;i+=1){const f=o.blocks[i];M(f)}n=!1},d(r){r&&g(e),o.block.d(r),o.token=null,o=null}}}function kl(t){return{c:D,m:D,p:D,i:D,o:D,d:D}}function yl(t){var f;let e,l,n;const o=[t[2],t[3]];var r=((f=t[12])==null?void 0:f.default)||t[12];function i(u,c){let s={};if(c!==void 0&&c&12)s=ft(o,[c&4&&qe(u[2]),c&8&&qe(u[3])]);else for(let a=0;a<o.length;a+=1)s=ve(s,o[a]);return{props:s}}return r&&(e=wt(r,i(t))),{c(){e&&x(e.$$.fragment),l=ie()},m(u,c){e&&q(e,u,c),b(u,l,c),n=!0},p(u,c){var s;if(c&1&&r!==(r=((s=u[12])==null?void 0:s.default)||u[12])){if(e){ne();const a=e;M(a.$$.fragment,1,0,()=>{J(a,1)}),le()}r?(e=wt(r,i(u,c)),x(e.$$.fragment),L(e.$$.fragment,1),q(e,l.parentNode,l)):e=null}else if(r){const a=c&12?ft(o,[c&4&&qe(u[2]),c&8&&qe(u[3])]):{};e.$set(a)}},i(u){n||(e&&L(e.$$.fragment,u),n=!0)},o(u){e&&M(e.$$.fragment,u),n=!1},d(u){u&&g(l),e&&J(e,u)}}}function wl(t){return{c:D,m:D,p:D,i:D,o:D,d:D}}function vl(t){let e,l,n=t[1]&&t[1].route===t[5]&&Tt(t);return{c(){n&&n.c(),e=ie()},m(o,r){n&&n.m(o,r),b(o,e,r),l=!0},p(o,[r]){o[1]&&o[1].route===o[5]?n?(n.p(o,r),r&2&&L(n,1)):(n=Tt(o),n.c(),L(n,1),n.m(e.parentNode,e)):n&&(ne(),M(n,1,1,()=>{n=null}),le())},i(o){l||(L(n),l=!0)},o(o){M(n),l=!1},d(o){o&&g(e),n&&n.d(o)}}}function Cl(t,e,l){let n,{$$slots:o={},$$scope:r}=e,{path:i=""}=e,{component:f=null}=e,u={},c={};const{registerRoute:s,unregisterRoute:a,activeRoute:d}=Te(Ve);$e(t,d,m=>l(1,n=m));const h={path:i,default:i===""};return s(h),Wn(()=>{a(h)}),t.$$set=m=>{l(11,e=ve(ve({},e),st(m))),"path"in m&&l(6,i=m.path),"component"in m&&l(0,f=m.component),"$$scope"in m&&l(7,r=m.$$scope)},t.$$.update=()=>{if(n&&n.route===h){l(2,u=n.params);const{component:m,path:S,...O}=e;l(3,c=O),m&&(m.toString().startsWith("class ")?l(0,f=m):l(0,f=m())),Ln()&&!n.preserveScroll&&(window==null||window.scrollTo(0,0))}},e=st(e),[f,n,u,c,d,h,i,r,o]}class me extends de{constructor(e){super(),ae(this,e,Cl,vl,re,{path:6,component:0})}}const Ae=[];function Ol(t,e){return{subscribe:je(t,e).subscribe}}function je(t,e=D){let l;const n=new Set;function o(f){if(re(t,f)&&(t=f,l)){const u=!Ae.length;for(const c of n)c[1](),Ae.push(c,t);if(u){for(let c=0;c<Ae.length;c+=2)Ae[c][0](Ae[c+1]);Ae.length=0}}}function r(f){o(f(t))}function i(f,u=D){const c=[f,u];return n.add(c),n.size===1&&(l=e(o,r)||D),f(t),()=>{n.delete(c),n.size===0&&l&&(l(),l=null)}}return{set:o,update:r,subscribe:i}}function Pl(t,e,l){const n=!Array.isArray(t),o=n?[t]:t;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Ol(l,(i,f)=>{let u=!1;const c=[];let s=0,a=D;const d=()=>{if(s)return;a();const m=e(n?c[0]:c,i,f);r?i(m):a=Ge(m)?m:D},h=o.map((m,S)=>dt(m,O=>{c[S]=O,s&=~(1<<S),u&&d()},()=>{s|=1<<S}));return u=!0,d(),function(){oe(h),a(),u=!1}})}const it=t=>({...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}),Al=t=>{const e=[];let l=it(t);return{get location(){return l},listen(n){e.push(n);const o=()=>{l=it(t),n({location:l,action:"POP"})};return t.addEventListener("popstate",o),()=>{t.removeEventListener("popstate",o);const r=e.indexOf(n);e.splice(r,1)}},navigate(n,{state:o,replace:r=!1,preserveScroll:i=!1}={}){o={...o,key:Date.now()+""};try{r?t.history.replaceState(o,"",n):t.history.pushState(o,"",n)}catch{t.location[r?"replace":"assign"](n)}l=it(t),e.forEach(f=>f({location:l,action:"PUSH",preserveScroll:i})),document.activeElement.blur()}}},Sl=(t="/")=>{let e=0;const l=[{pathname:t,search:""}],n=[];return{get location(){return l[e]},addEventListener(o,r){},removeEventListener(o,r){},history:{get entries(){return l},get index(){return e},get state(){return n[e]},pushState(o,r,i){const[f,u=""]=i.split("?");e++,l.push({pathname:f,search:u}),n.push(o)},replaceState(o,r,i){const[f,u=""]=i.split("?");l[e]={pathname:f,search:u},n[e]=o}}}},Mn=Al(Ln()?window:Sl()),{navigate:De}=Mn,jl=t=>({route:t&4,location:t&2}),Et=t=>({route:t[2]&&t[2].uri,location:t[1]}),Nl=t=>({route:t&4,location:t&2}),Rt=t=>({route:t[2]&&t[2].uri,location:t[1]});function Tl(t){let e;const l=t[15].default,n=Fe(l,t,t[14],Et);return{c(){n&&n.c()},m(o,r){n&&n.m(o,r),e=!0},p(o,r){n&&n.p&&(!e||r&16390)&&Ye(n,l,o,o[14],e?We(l,o[14],r,jl):Qe(o[14]),Et)},i(o){e||(L(n,o),e=!0)},o(o){M(n,o),e=!1},d(o){n&&n.d(o)}}}function El(t){let e=t[1].pathname,l,n,o=It(t);return{c(){o.c(),l=ie()},m(r,i){o.m(r,i),b(r,l,i),n=!0},p(r,i){i&2&&re(e,e=r[1].pathname)?(ne(),M(o,1,1,D),le(),o=It(r),o.c(),L(o,1),o.m(l.parentNode,l)):o.p(r,i)},i(r){n||(L(o),n=!0)},o(r){M(o),n=!1},d(r){r&&g(l),o.d(r)}}}function It(t){let e,l,n,o;const r=t[15].default,i=Fe(r,t,t[14],Rt);return{c(){e=_("div"),i&&i.c()},m(f,u){b(f,e,u),i&&i.m(e,null),o=!0},p(f,u){i&&i.p&&(!o||u&16390)&&Ye(i,r,f,f[14],o?We(r,f[14],u,Nl):Qe(f[14]),Rt)},i(f){o||(L(i,f),f&&we(()=>{o&&(n&&n.end(1),l=tl(e,t[3],{}),l.start())}),o=!0)},o(f){M(i,f),l&&l.invalidate(),f&&(n=nl(e,t[3],{})),o=!1},d(f){f&&g(e),i&&i.d(f),f&&n&&n.end()}}}function Rl(t){let e,l,n,o;const r=[El,Tl],i=[];function f(u,c){return u[0]?0:1}return e=f(t),l=i[e]=r[e](t),{c(){l.c(),n=ie()},m(u,c){i[e].m(u,c),b(u,n,c),o=!0},p(u,[c]){let s=e;e=f(u),e===s?i[e].p(u,c):(ne(),M(i[s],1,1,()=>{i[s]=null}),le(),l=i[e],l?l.p(u,c):(l=i[e]=r[e](u),l.c()),L(l,1),l.m(n.parentNode,n))},i(u){o||(L(l),o=!0)},o(u){M(l),o=!1},d(u){u&&g(n),i[e].d(u)}}}function Il(t,e,l){let n,o,r,i,{$$slots:f={},$$scope:u}=e,{basepath:c="/"}=e,{url:s=null}=e,{viewtransition:a=null}=e,{history:d=Mn}=e;const h=(y,A,E)=>{const T=a(E);return typeof(T==null?void 0:T.fn)=="function"?T.fn(y,T):T};nt(Rn,d);const m=Te(at),S=Te(Ve),O=je([]);$e(t,O,y=>l(12,o=y));const P=je(null);$e(t,P,y=>l(2,i=y));let N=!1;const j=m||je(s?{pathname:s}:d.location);$e(t,j,y=>l(1,n=y));const w=S?S.routerBase:je({path:c,uri:c});$e(t,w,y=>l(13,r=y));const v=Pl([w,P],([y,A])=>{if(!A)return y;const{path:E}=y,{route:T,uri:U}=A;return{path:T.default?E:T.path.replace(/\*.*$/,""),uri:U}}),R=y=>{const{path:A}=r;let{path:E}=y;if(y._path=E,y.path=St(A,E),typeof window>"u"){if(N)return;const T=At([y],n.pathname);T&&(P.set(T),N=!0)}else O.update(T=>[...T,y])},I=y=>{O.update(A=>A.filter(E=>E!==y))};let k=!1;return m||(pe(()=>d.listen(A=>{l(11,k=A.preserveScroll||!1),j.set(A.location)})),nt(at,j)),nt(Ve,{activeRoute:P,base:w,routerBase:v,registerRoute:R,unregisterRoute:I}),t.$$set=y=>{"basepath"in y&&l(8,c=y.basepath),"url"in y&&l(9,s=y.url),"viewtransition"in y&&l(0,a=y.viewtransition),"history"in y&&l(10,d=y.history),"$$scope"in y&&l(14,u=y.$$scope)},t.$$.update=()=>{if(t.$$.dirty&8192){const{path:y}=r;O.update(A=>A.map(E=>Object.assign(E,{path:St(y,E._path)})))}if(t.$$.dirty&6146){const y=At(o,n.pathname);P.set(y&&{...y,preserveScroll:k})}},[a,n,i,h,O,P,j,w,c,s,d,k,o,r,u,f]}class Ll extends de{constructor(e){super(),ae(this,e,Il,Rl,re,{basepath:8,url:9,viewtransition:0,history:10})}}function Ze(t){function e(n){return n.replace(/([.*+?\^$(){}|\[\]\/\\])/g,"\\$1")}var l=document.cookie.match(RegExp("(?:^|;\\s*)"+e(t)+"=([^;]*)"));return l?l[1]:null}const fe=je(null);async function Ml(t){return await(await fetch("http://localhost:8000/api/usergroups/"+t,{method:"GET",credentials:"include",headers:{"Access-Control-Allow-Origin":"http://localhost:8000"}})).json()}const V="http://iis-project.dolezal.it:8000",F="http://localhost:8000";function Dl(t){let e;return{c(){e=_("b"),e.textContent="Home",$(e,"class","mr-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(l,n){b(l,e,n)},p:D,d(l){l&&g(e)}}}function Gl(t){let e;return{c(){e=_("b"),e.textContent="Groups",$(e,"class","mr-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(l,n){b(l,e,n)},p:D,d(l){l&&g(e)}}}function Ul(t){let e;return{c(){e=_("b"),e.textContent="Profiles",$(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(l,n){b(l,e,n)},p:D,d(l){l&&g(e)}}}function ql(t){let e,l,n,o;return e=new ce({props:{to:"/login",$$slots:{default:[xl]},$$scope:{ctx:t}}}),n=new ce({props:{to:"/register",$$slots:{default:[Hl]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),l=C(),x(n.$$.fragment)},m(r,i){q(e,r,i),b(r,l,i),q(n,r,i),o=!0},p(r,i){const f={};i&4&&(f.$$scope={dirty:i,ctx:r}),e.$set(f);const u={};i&4&&(u.$$scope={dirty:i,ctx:r}),n.$set(u)},i(r){o||(L(e.$$.fragment,r),L(n.$$.fragment,r),o=!0)},o(r){M(e.$$.fragment,r),M(n.$$.fragment,r),o=!1},d(r){r&&g(l),J(e,r),J(n,r)}}}function Jl(t){let e,l,n,o;return e=new ce({props:{to:"/profile/"+t[0].uid,$$slots:{default:[Kl]},$$scope:{ctx:t}}}),n=new ce({props:{to:"/logout",$$slots:{default:[Bl]},$$scope:{ctx:t}}}),n.$on("click",t[1]),{c(){x(e.$$.fragment),l=C(),x(n.$$.fragment)},m(r,i){q(e,r,i),b(r,l,i),q(n,r,i),o=!0},p(r,i){const f={};i&1&&(f.to="/profile/"+r[0].uid),i&4&&(f.$$scope={dirty:i,ctx:r}),e.$set(f);const u={};i&4&&(u.$$scope={dirty:i,ctx:r}),n.$set(u)},i(r){o||(L(e.$$.fragment,r),L(n.$$.fragment,r),o=!0)},o(r){M(e.$$.fragment,r),M(n.$$.fragment,r),o=!1},d(r){r&&g(l),J(e,r),J(n,r)}}}function xl(t){let e;return{c(){e=_("b"),e.textContent="Log in",$(e,"class","mr-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(l,n){b(l,e,n)},p:D,d(l){l&&g(e)}}}function Hl(t){let e;return{c(){e=_("b"),e.textContent="Register",$(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(l,n){b(l,e,n)},p:D,d(l){l&&g(e)}}}function Kl(t){let e;return{c(){e=_("b"),e.textContent="Profile",$(e,"class","mr-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(l,n){b(l,e,n)},p:D,d(l){l&&g(e)}}}function Bl(t){let e;return{c(){e=_("b"),e.textContent="Logout",$(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(l,n){b(l,e,n)},p:D,d(l){l&&g(e)}}}function zl(t){let e,l,n,o,r,i,f,u,c,s,a,d;n=new ce({props:{to:"/",$$slots:{default:[Dl]},$$scope:{ctx:t}}}),r=new ce({props:{to:"/groups",$$slots:{default:[Gl]},$$scope:{ctx:t}}}),f=new ce({props:{to:"/profiles",$$slots:{default:[Ul]},$$scope:{ctx:t}}});const h=[Jl,ql],m=[];function S(O,P){return O[0]?0:1}return s=S(t),a=m[s]=h[s](t),{c(){e=_("div"),l=_("div"),x(n.$$.fragment),o=C(),x(r.$$.fragment),i=C(),x(f.$$.fragment),u=C(),c=_("div"),a.c(),$(l,"class","order-1"),$(c,"class","order-2"),$(e,"class","flex justify-between bg-[#a6f3d9] p-4")},m(O,P){b(O,e,P),p(e,l),q(n,l,null),p(l,o),q(r,l,null),p(l,i),q(f,l,null),p(e,u),p(e,c),m[s].m(c,null),d=!0},p(O,[P]){const N={};P&4&&(N.$$scope={dirty:P,ctx:O}),n.$set(N);const j={};P&4&&(j.$$scope={dirty:P,ctx:O}),r.$set(j);const w={};P&4&&(w.$$scope={dirty:P,ctx:O}),f.$set(w);let v=s;s=S(O),s===v?m[s].p(O,P):(ne(),M(m[v],1,1,()=>{m[v]=null}),le(),a=m[s],a?a.p(O,P):(a=m[s]=h[s](O),a.c()),L(a,1),a.m(c,null))},i(O){d||(L(n.$$.fragment,O),L(r.$$.fragment,O),L(f.$$.fragment,O),L(a),d=!0)},o(O){M(n.$$.fragment,O),M(r.$$.fragment,O),M(f.$$.fragment,O),M(a),d=!1},d(O){O&&g(e),J(n),J(r),J(f),m[s].d()}}}function Vl(t,e,l){let{user:n}=e;async function o(){try{(await fetch(`${F}/api/logout`,{method:"GET",credentials:"include",headers:{"Access-Control-Allow-Origin":`${F}`}})).ok?(console.log("Logged out."),De("/",{replace:!0})):console.log("Logout failed.")}catch{console.log("Error logging out.")}}return t.$$set=r=>{"user"in r&&l(0,n=r.user)},[n,o]}class be extends de{constructor(e){super(),ae(this,e,Vl,zl,re,{user:0})}}function Lt(t){let e,l,n=t[0].name+"",o,r,i=t[0].uid+"",f;return{c(){e=_("p"),l=K("Logged in as "),o=K(n),r=C(),f=K(i)},m(u,c){b(u,e,c),p(e,l),p(e,o),p(e,r),p(e,f)},p(u,c){c&1&&n!==(n=u[0].name+"")&&Q(o,n),c&1&&i!==(i=u[0].uid+"")&&Q(f,i)},d(u){u&&g(e)}}}function Fl(t){let e,l,n,o,r,i;e=new be({props:{user:t[0]}});let f=t[0]&&Lt(t);return{c(){x(e.$$.fragment),l=C(),n=_("div"),o=_("p"),o.textContent="Welcome to the Home Page",r=C(),f&&f.c(),$(o,"class","text-4xl text-gray-900 font-extralight dark:text-gray-900")},m(u,c){q(e,u,c),b(u,l,c),b(u,n,c),p(n,o),p(n,r),f&&f.m(n,null),i=!0},p(u,[c]){const s={};c&1&&(s.user=u[0]),e.$set(s),u[0]?f?f.p(u,c):(f=Lt(u),f.c(),f.m(n,null)):f&&(f.d(1),f=null)},i(u){i||(L(e.$$.fragment,u),i=!0)},o(u){M(e.$$.fragment,u),i=!1},d(u){u&&(g(l),g(n)),J(e,u),f&&f.d()}}}function Wl(t,e,l){console.log(V);let n;return pe(()=>{Ze("SID")?l(0,n=ye(fe)):fe.set(null)}),[n]}class Yl extends de{constructor(e){super(),ae(this,e,Wl,Fl,re,{})}}function Ql(t){let e;return{c(){e=K("Register")},m(l,n){b(l,e,n)},d(l){l&&g(e)}}}function Xl(t){let e,l,n,o,r,i,f,u,c,s,a,d,h,m,S,O,P,N,j,w,v,R,I;return e=new be({props:{user:t[2]}}),j=new ce({props:{to:"/register",$$slots:{default:[Ql]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),l=C(),n=_("div"),o=_("h1"),o.textContent="Login",r=C(),i=_("form"),f=_("label"),f.textContent="Username:",u=C(),c=_("input"),s=C(),a=_("label"),a.textContent="Password:",d=C(),h=_("input"),m=C(),S=_("button"),S.textContent="Login",O=C(),P=_("p"),N=K("Don't have an account yet? "),x(j.$$.fragment),w=K("."),$(f,"for","username"),$(c,"type","text"),$(c,"id","username"),$(a,"for","password"),$(h,"type","password"),$(h,"id","password"),$(S,"type","submit"),$(S,"class","dark:bg-green-500 bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded")},m(k,y){q(e,k,y),b(k,l,y),b(k,n,y),p(n,o),p(n,r),p(n,i),p(i,f),p(i,u),p(i,c),X(c,t[0]),p(i,s),p(i,a),p(i,d),p(i,h),X(h,t[1]),p(i,m),p(i,S),p(n,O),p(n,P),p(P,N),q(j,P,null),p(P,w),v=!0,R||(I=[H(c,"input",t[4]),H(h,"input",t[5]),H(i,"submit",Xe(t[3]))],R=!0)},p(k,[y]){const A={};y&4&&(A.user=k[2]),e.$set(A),y&1&&c.value!==k[0]&&X(c,k[0]),y&2&&h.value!==k[1]&&X(h,k[1]);const E={};y&64&&(E.$$scope={dirty:y,ctx:k}),j.$set(E)},i(k){v||(L(e.$$.fragment,k),L(j.$$.fragment,k),v=!0)},o(k){M(e.$$.fragment,k),M(j.$$.fragment,k),v=!1},d(k){k&&(g(l),g(n)),J(e,k),J(j),R=!1,oe(I)}}}function Zl(t,e,l){let n="",o="",r;pe(()=>{l(2,r=Ze("SID")),r&&(console.log("Already logged in."),De("/",{replace:!0}))});async function i(){let c;try{console.log("Logging in...");const s=await fetch(`${F}/api/login`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":`${F}`},body:JSON.stringify({name:n,pw:o})});s.ok?(console.log("OK."),c=await s.json()):console.log("Login failed.")}catch(s){console.error("Error during fetch:",s)}c&&(fe.set({name:n,uid:c.uid}),De("/",{replace:!0}))}function f(){n=this.value,l(0,n)}function u(){o=this.value,l(1,o)}return[n,o,r,i,f,u]}class eo extends de{constructor(e){super(),ae(this,e,Zl,Xl,re,{})}}function to(t){let e;return{c(){e=K("Login")},m(l,n){b(l,e,n)},d(l){l&&g(e)}}}function no(t){let e,l,n,o,r,i,f,u,c,s,a,d,h,m,S,O,P,N,j,w,v,R,I;return e=new be({props:{user:t[2]}}),j=new ce({props:{to:"/login",$$slots:{default:[to]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),l=C(),n=_("div"),o=_("h1"),o.textContent="Register",r=C(),i=_("form"),f=_("label"),f.textContent="Username:",u=C(),c=_("input"),s=C(),a=_("label"),a.textContent="Password:",d=C(),h=_("input"),m=C(),S=_("button"),S.textContent="Register",O=C(),P=_("p"),N=K("Already have an account? "),x(j.$$.fragment),w=K("."),$(f,"for","username"),$(c,"type","text"),$(c,"id","username"),$(a,"for","password"),$(h,"type","password"),$(h,"id","password"),$(S,"type","submit"),$(S,"class","bg-green-500 dark:bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded")},m(k,y){q(e,k,y),b(k,l,y),b(k,n,y),p(n,o),p(n,r),p(n,i),p(i,f),p(i,u),p(i,c),X(c,t[0]),p(i,s),p(i,a),p(i,d),p(i,h),X(h,t[1]),p(i,m),p(i,S),p(n,O),p(n,P),p(P,N),q(j,P,null),p(P,w),v=!0,R||(I=[H(c,"input",t[4]),H(h,"input",t[5]),H(i,"submit",Xe(t[3]))],R=!0)},p(k,[y]){const A={};y&4&&(A.user=k[2]),e.$set(A),y&1&&c.value!==k[0]&&X(c,k[0]),y&2&&h.value!==k[1]&&X(h,k[1]);const E={};y&64&&(E.$$scope={dirty:y,ctx:k}),j.$set(E)},i(k){v||(L(e.$$.fragment,k),L(j.$$.fragment,k),v=!0)},o(k){M(e.$$.fragment,k),M(j.$$.fragment,k),v=!1},d(k){k&&(g(l),g(n)),J(e,k),J(j),R=!1,oe(I)}}}function lo(t,e,l){let n="",o="",r;pe(()=>{l(2,r=Ze("SID")),r&&(console.log("Already logged in."),De("/",{replace:!0}))});async function i(){let c;try{console.log("Registering...");const s=await fetch(`${F}/api/register`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":`${F}`},body:JSON.stringify({name:n,pw:o})});s.ok?(console.log("OK."),c=await s.json()):console.log("Register failed.")}catch(s){console.error("Error during fetch:",s)}c&&(fe.set({name:n,uid:c.uid}),De("/",{replace:!0}))}function f(){n=this.value,l(0,n)}function u(){o=this.value,l(1,o)}return[n,o,r,i,f,u]}class oo extends de{constructor(e){super(),ae(this,e,lo,no,re,{})}}function Mt(t,e,l){const n=t.slice();return n[3]=e[l],n}function ro(t){let e;return{c(){e=_("p"),e.textContent="No profiles to show."},m(l,n){b(l,e,n)},p:D,i:D,o:D,d(l){l&&g(e)}}}function io(t){let e,l,n,o,r,i,f,u,c=Z(t[0]),s=[];for(let d=0;d<c.length;d+=1)s[d]=Dt(Mt(t,c,d));const a=d=>M(s[d],1,1,()=>{s[d]=null});return{c(){e=_("div"),e.textContent="Profiles",l=C(),n=_("div"),o=_("table"),r=_("thead"),r.innerHTML='<tr><th class="py-2 px-4 border-b text-center">Username</th> <th class="py-2 px-4 border-b text-center">Profile Description</th></tr>',i=C(),f=_("tbody");for(let d=0;d<s.length;d+=1)s[d].c();$(e,"class","text-center my-4 text-2xl font-bold"),$(o,"class","min-w-full bg-white border border-gray-300"),$(n,"class","overflow-x-auto")},m(d,h){b(d,e,h),b(d,l,h),b(d,n,h),p(n,o),p(o,r),p(o,i),p(o,f);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(f,null);u=!0},p(d,h){if(h&1){c=Z(d[0]);let m;for(m=0;m<c.length;m+=1){const S=Mt(d,c,m);s[m]?(s[m].p(S,h),L(s[m],1)):(s[m]=Dt(S),s[m].c(),L(s[m],1),s[m].m(f,null))}for(ne(),m=c.length;m<s.length;m+=1)a(m);le()}},i(d){if(!u){for(let h=0;h<c.length;h+=1)L(s[h]);u=!0}},o(d){s=s.filter(Boolean);for(let h=0;h<s.length;h+=1)M(s[h]);u=!1},d(d){d&&(g(e),g(l),g(n)),Ce(s,d)}}}function so(t){let e=t[3].name+"",l;return{c(){l=K(e)},m(n,o){b(n,l,o)},p(n,o){o&1&&e!==(e=n[3].name+"")&&Q(l,e)},d(n){n&&g(l)}}}function Dt(t){let e,l,n,o,r,i=t[3].profile_desc+"",f,u,c;return n=new ce({props:{to:"/profile/"+t[3].id,$$slots:{default:[so]},$$scope:{ctx:t}}}),{c(){e=_("tr"),l=_("td"),x(n.$$.fragment),o=C(),r=_("td"),f=K(i),u=C(),$(l,"class","py-2 px-4 border-b text-center"),$(r,"class","py-2 px-4 border-b text-center"),$(e,"class","hover:bg-gray-100")},m(s,a){b(s,e,a),p(e,l),q(n,l,null),p(e,o),p(e,r),p(r,f),p(e,u),c=!0},p(s,a){const d={};a&1&&(d.to="/profile/"+s[3].id),a&65&&(d.$$scope={dirty:a,ctx:s}),n.$set(d),(!c||a&1)&&i!==(i=s[3].profile_desc+"")&&Q(f,i)},i(s){c||(L(n.$$.fragment,s),c=!0)},o(s){M(n.$$.fragment,s),c=!1},d(s){s&&g(e),J(n)}}}function uo(t){let e,l,n,o,r,i;e=new be({props:{user:t[1]}});const f=[io,ro],u=[];function c(s,a){return s[0].length>0?0:1}return o=c(t),r=u[o]=f[o](t),{c(){x(e.$$.fragment),l=C(),n=_("div"),r.c()},m(s,a){q(e,s,a),b(s,l,a),b(s,n,a),u[o].m(n,null),i=!0},p(s,[a]){const d={};a&2&&(d.user=s[1]),e.$set(d);let h=o;o=c(s),o===h?u[o].p(s,a):(ne(),M(u[h],1,1,()=>{u[h]=null}),le(),r=u[o],r?r.p(s,a):(r=u[o]=f[o](s),r.c()),L(r,1),r.m(n,null))},i(s){i||(L(e.$$.fragment,s),L(r),i=!0)},o(s){M(e.$$.fragment,s),M(r),i=!1},d(s){s&&(g(l),g(n)),J(e,s),u[o].d()}}}function co(t,e,l){let n=[],o="";pe(()=>{r(),l(1,o=ye(fe))});async function r(){fetch(`${F}/api/profiles`,{method:"GET"}).then(i=>i.json()).then(i=>{l(0,n=i)})}return[n,o]}class fo extends de{constructor(e){super(),ae(this,e,co,uo,re,{})}}function Gt(t,e,l){const n=t.slice();return n[18]=e[l],n}function Ut(t,e,l){const n=t.slice();return n[21]=e[l],n}function ao(t){let e,l,n=t[1].name+"",o,r,i,f,u,c,s,a,d,h=t[1].name+"",m,S,O,P,N,j,w=t[1].profile_img_path&&qt(t);function v(T,U){return T[1].profile_desc===null?mo:ho}let R=v(t),I=R(t),k=t[2]&&Jt(t);const y=[bo,go],A=[];function E(T,U){return T[1].groups.length===0?0:1}return P=E(t),N=A[P]=y[P](t),{c(){e=_("div"),l=_("h1"),o=K(n),r=K("'s profile"),i=C(),f=_("br"),u=C(),w&&w.c(),c=C(),I.c(),s=C(),k&&k.c(),a=C(),d=_("h2"),m=K(h),S=K("'s groups"),O=C(),N.c(),$(l,"class","text-4xl font-bold text-gray-900 dark:text-gray-500")},m(T,U){b(T,e,U),p(e,l),p(l,o),p(l,r),p(e,i),p(e,f),p(e,u),w&&w.m(e,null),p(e,c),I.m(e,null),p(e,s),k&&k.m(e,null),p(e,a),p(e,d),p(d,m),p(d,S),p(e,O),A[P].m(e,null),j=!0},p(T,U){(!j||U&2)&&n!==(n=T[1].name+"")&&Q(o,n),T[1].profile_img_path?w?w.p(T,U):(w=qt(T),w.c(),w.m(e,c)):w&&(w.d(1),w=null),R===(R=v(T))&&I?I.p(T,U):(I.d(1),I=R(T),I&&(I.c(),I.m(e,s))),T[2]?k?k.p(T,U):(k=Jt(T),k.c(),k.m(e,a)):k&&(k.d(1),k=null),(!j||U&2)&&h!==(h=T[1].name+"")&&Q(m,h);let Y=P;P=E(T),P===Y?A[P].p(T,U):(ne(),M(A[Y],1,1,()=>{A[Y]=null}),le(),N=A[P],N?N.p(T,U):(N=A[P]=y[P](T),N.c()),L(N,1),N.m(e,null))},i(T){j||(L(N),j=!0)},o(T){M(N),j=!1},d(T){T&&g(e),w&&w.d(),I.d(),k&&k.d(),A[P].d()}}}function po(t){let e;function l(r,i){return r[1].visibility==2?yo:ko}let n=l(t),o=n(t);return{c(){o.c(),e=ie()},m(r,i){o.m(r,i),b(r,e,i)},p(r,i){n!==(n=l(r))&&(o.d(1),o=n(r),o&&(o.c(),o.m(e.parentNode,e)))},i:D,o:D,d(r){r&&g(e),o.d(r)}}}function _o(t){let e;return{c(){e=_("p"),e.textContent="Loading..."},m(l,n){b(l,e,n)},p:D,i:D,o:D,d(l){l&&g(e)}}}function qt(t){let e,l;return{c(){e=_("img"),$(e,"id","userImage"),xe(e.src,l=t[7]+"/api/profile/"+t[1].id+"/image/"+t[1].profile_img_path)||$(e,"src",l),$(e,"alt","User img"),$(e,"crossorigin","use-credentials")},m(n,o){b(n,e,o)},p(n,o){o&2&&!xe(e.src,l=n[7]+"/api/profile/"+n[1].id+"/image/"+n[1].profile_img_path)&&$(e,"src",l)},d(n){n&&g(e)}}}function ho(t){let e,l=t[1].profile_desc+"",n;return{c(){e=_("p"),n=K(l)},m(o,r){b(o,e,r),p(e,n)},p(o,r){r&2&&l!==(l=o[1].profile_desc+"")&&Q(n,l)},d(o){o&&g(e)}}}function mo(t){let e;return{c(){e=_("p"),e.textContent="No profile description."},m(l,n){b(l,e,n)},p:D,d(l){l&&g(e)}}}function Jt(t){let e,l,n,o,r,i=t[3]&&xt(t);return{c(){e=_("button"),e.textContent="Edit Profile",l=C(),i&&i.c(),n=ie(),$(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(f,u){b(f,e,u),b(f,l,u),i&&i.m(f,u),b(f,n,u),o||(r=H(e,"click",t[12]),o=!0)},p(f,u){f[3]?i?i.p(f,u):(i=xt(f),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(f){f&&(g(e),g(l),g(n)),i&&i.d(f),o=!1,r()}}}function xt(t){let e,l,n,o,r,i,f,u,c,s,a,d,h,m,S,O,P,N,j,w,v,R,I,k,y,A,E,T,U,Y,he,_e,ue,ee,z,W,et,gt,Oe=Z(t[6]),se=[];for(let G=0;G<Oe.length;G+=1)se[G]=Ht(Ut(t,Oe,G));return{c(){e=_("br"),l=C(),n=_("label"),n.textContent="Profile Description:",o=C(),r=_("input"),i=C(),f=_("button"),f.textContent="Save",u=C(),c=_("br"),s=C(),a=_("br"),d=C(),h=_("label"),h.textContent="Profile Image:",m=C(),S=_("input"),O=C(),P=_("br"),N=C(),j=_("br"),w=C(),v=_("button"),v.textContent="Edit Profile Image",R=C(),I=_("br"),k=C(),y=_("br"),A=C(),E=_("form"),T=_("select");for(let G=0;G<se.length;G+=1)se[G].c();U=C(),Y=_("br"),he=C(),_e=_("button"),_e.textContent="Edit Profile Visibility",ue=C(),ee=_("br"),z=C(),W=_("button"),W.textContent="Cancel Profile Edit",$(n,"for","profileDesc"),$(r,"type","text"),$(r,"class","backdrop-blur-3xl"),$(f,"class","bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"),$(h,"for","profileImg"),$(S,"type","file"),$(S,"id","profileImg"),$(S,"name","profileImg"),$(S,"accept","image/png, image/jpeg"),$(S,"class","backdrop-blur-3xl"),$(v,"class","bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"),t[4]===void 0&&we(()=>t[14].call(T)),$(_e,"type","submit"),$(_e,"class","bg-green-500 dark:bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"),$(W,"class","bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded")},m(G,B){b(G,e,B),b(G,l,B),b(G,n,B),b(G,o,B),b(G,r,B),X(r,t[1].profile_desc),b(G,i,B),b(G,f,B),b(G,u,B),b(G,c,B),b(G,s,B),b(G,a,B),b(G,d,B),b(G,h,B),b(G,m,B),b(G,S,B),b(G,O,B),b(G,P,B),b(G,N,B),b(G,j,B),b(G,w,B),b(G,v,B),b(G,R,B),b(G,I,B),b(G,k,B),b(G,y,B),b(G,A,B),b(G,E,B),p(E,T);for(let te=0;te<se.length;te+=1)se[te]&&se[te].m(T,null);He(T,t[4],!0),p(E,U),p(E,Y),p(E,he),p(E,_e),b(G,ue,B),b(G,ee,B),b(G,z,B),b(G,W,B),et||(gt=[H(r,"input",t[13]),H(f,"click",t[8]),H(v,"click",t[9]),H(T,"change",t[14]),H(E,"submit",Xe(t[10])),H(W,"click",t[15])],et=!0)},p(G,B){if(B&2&&r.value!==G[1].profile_desc&&X(r,G[1].profile_desc),B&64){Oe=Z(G[6]);let te;for(te=0;te<Oe.length;te+=1){const bt=Ut(G,Oe,te);se[te]?se[te].p(bt,B):(se[te]=Ht(bt),se[te].c(),se[te].m(T,null))}for(;te<se.length;te+=1)se[te].d(1);se.length=Oe.length}B&80&&He(T,G[4])},d(G){G&&(g(e),g(l),g(n),g(o),g(r),g(i),g(f),g(u),g(c),g(s),g(a),g(d),g(h),g(m),g(S),g(O),g(P),g(N),g(j),g(w),g(v),g(R),g(I),g(k),g(y),g(A),g(E),g(ue),g(ee),g(z),g(W)),Ce(se,G),et=!1,oe(gt)}}}function Ht(t){let e,l=t[21].visibility+"",n;return{c(){e=_("option"),n=K(l),e.__value=t[21],X(e,e.__value)},m(o,r){b(o,e,r),p(e,n)},p:D,d(o){o&&g(e)}}}function go(t){let e,l,n,o,r=[],i=new Map,f,u=Z(t[1].groups);const c=s=>s[18].id;for(let s=0;s<u.length;s+=1){let a=Gt(t,u,s),d=c(a);i.set(d,r[s]=Kt(d,a))}return{c(){e=_("table"),l=_("thead"),l.innerHTML="<tr><th>Group Name</th></tr>",n=C(),o=_("tbody");for(let s=0;s<r.length;s+=1)r[s].c()},m(s,a){b(s,e,a),p(e,l),p(e,n),p(e,o);for(let d=0;d<r.length;d+=1)r[d]&&r[d].m(o,null);f=!0},p(s,a){a&2&&(u=Z(s[1].groups),ne(),r=mt(r,a,c,1,s,u,i,o,ht,Kt,null,Gt),le())},i(s){if(!f){for(let a=0;a<u.length;a+=1)L(r[a]);f=!0}},o(s){for(let a=0;a<r.length;a+=1)M(r[a]);f=!1},d(s){s&&g(e);for(let a=0;a<r.length;a+=1)r[a].d()}}}function bo(t){let e;return{c(){e=_("p"),e.textContent="No groups."},m(l,n){b(l,e,n)},p:D,i:D,o:D,d(l){l&&g(e)}}}function $o(t){let e=t[18].name+"",l;return{c(){l=K(e)},m(n,o){b(n,l,o)},p(n,o){o&2&&e!==(e=n[18].name+"")&&Q(l,e)},d(n){n&&g(l)}}}function Kt(t,e){let l,n,o,r,i;return o=new ce({props:{to:`group/${e[18].id}`,$$slots:{default:[$o]},$$scope:{ctx:e}}}),{key:t,first:null,c(){l=_("tr"),n=_("td"),x(o.$$.fragment),r=C(),this.first=l},m(f,u){b(f,l,u),p(l,n),q(o,n,null),p(l,r),i=!0},p(f,u){e=f;const c={};u&2&&(c.to=`group/${e[18].id}`),u&16777218&&(c.$$scope={dirty:u,ctx:e}),o.$set(c)},i(f){i||(L(o.$$.fragment,f),i=!0)},o(f){M(o.$$.fragment,f),i=!1},d(f){f&&g(l),J(o)}}}function ko(t){let e;return{c(){e=_("p"),e.textContent="Profile not visible, because you are not in any of the groups this user is in."},m(l,n){b(l,e,n)},d(l){l&&g(e)}}}function yo(t){let e;return{c(){e=_("p"),e.textContent="Profile not visible, because you are not registered."},m(l,n){b(l,e,n)},d(l){l&&g(e)}}}function wo(t){let e,l,n,o,r,i;e=new be({props:{user:t[0]}});const f=[_o,po,ao],u=[];function c(s,a){return s[1].name?s[5]?2:1:0}return n=c(t),o=u[n]=f[n](t),{c(){x(e.$$.fragment),l=C(),o.c(),r=ie()},m(s,a){q(e,s,a),b(s,l,a),u[n].m(s,a),b(s,r,a),i=!0},p(s,[a]){const d={};a&1&&(d.user=s[0]),e.$set(d);let h=n;n=c(s),n===h?u[n].p(s,a):(ne(),M(u[h],1,1,()=>{u[h]=null}),le(),o=u[n],o?o.p(s,a):(o=u[n]=f[n](s),o.c()),L(o,1),o.m(r.parentNode,r))},i(s){i||(L(e.$$.fragment,s),L(o),i=!0)},o(s){M(e.$$.fragment,s),M(o),i=!1},d(s){s&&(g(l),g(r)),J(e,s),u[n].d(s)}}}function vo(t,e,l){let{uid:n}=e,o,r={groups:[]},i=!1,f=!1,u=[{id:1,visibility:"public"},{id:2,visibility:"registered"},{id:3,visibility:"groups"}],c,s=!1,a=`${F}`;pe(()=>{Ze("SID")?l(0,o=ye(fe)):fe.set(null),d()});async function d(){fetch(`${F}/api/profile/${n}`,{method:"GET",credentials:"include",headers:{"Access-Control-Allow-Origin":`${F}`}}).then(v=>v.json()).then(v=>{l(1,r=v),r.name===ye(fe).name&&l(2,i=!0),o.uid!=r.id?h():l(5,s=!0)})}async function h(){if(r.visibility===1)l(5,s=!0);else if(r.visibility===2)o?l(5,s=!0):l(5,s=!1);else if(r.visibility===3)if(o){let v=await Ml(o.uid);for(let R=0;R<v.length;R++)for(let I=0;I<r.groups.length;I++)if(v[R].id===r.groups[I].id){l(5,s=!0);return}l(5,s=!1)}else l(5,s=!1)}async function m(){fetch(`${F}/api/profile/edit_description`,{method:"POST",credentials:"include",headers:{"Access-Control-Allow-Origin":`${F}`,"Content-Type":"application/json"},body:JSON.stringify({name:r.name,desc:r.profile_desc})}).then(v=>v.json()).then(v=>{v.status==="OK"?console.log("Profile description updated."):console.log("Profile description update failed.")})}async function S(){let v=new FormData;v.append("file",document.getElementById("profileImg").files[0]),console.log(v),fetch(`${F}/api/profile/edit_image`,{method:"POST",credentials:"include",body:v}).then(R=>R.json()).then(R=>{R.status==="OK"?(console.log("Profile image updated."),l(1,r.profile_image_path=R.path,r),l(1,r),console.log(r.profile_image_path)):console.log("Profile image update failed.")})}async function O(){fetch(`${F}/api/profile/edit_visibility`,{method:"POST",credentials:"include",headers:{"Access-Control-Allow-Origin":"{API_URL}","Content-Type":"application/json"},body:JSON.stringify({name:r.name,visibility:c.visibility})}).then(v=>v.json()).then(v=>{v.status==="OK"?console.log("Profile visibility updated."):console.log("Profile visibility update failed.")})}const P=()=>l(3,f=!0);function N(){r.profile_desc=this.value,l(1,r)}function j(){c=Sn(this),l(4,c),l(6,u)}const w=()=>l(3,f=!1);return t.$$set=v=>{"uid"in v&&l(11,n=v.uid)},[o,r,i,f,c,s,u,a,m,S,O,n,P,N,j,w]}class Co extends de{constructor(e){super(),ae(this,e,vo,wo,re,{uid:11})}}function Bt(t,e,l){const n=t.slice();return n[6]=e[l],n}function Oo(t){let e;return{c(){e=_("p"),e.textContent="No groups to show..."},m(l,n){b(l,e,n)},p:D,i:D,o:D,d(l){l&&g(e)}}}function Po(t){let e,l,n,o,r=[],i=new Map,f,u=Z(t[0]);const c=s=>s[6].id;for(let s=0;s<u.length;s+=1){let a=Bt(t,u,s),d=c(a);i.set(d,r[s]=zt(d,a))}return{c(){e=_("table"),l=_("thead"),l.innerHTML='<tr><th scope="col" class="px-6 py-3">Group Name</th> <th scope="col" class="px-6 py-3">Description</th></tr>',n=C(),o=_("tbody");for(let s=0;s<r.length;s+=1)r[s].c();$(l,"class","text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"),$(e,"class","w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400")},m(s,a){b(s,e,a),p(e,l),p(e,n),p(e,o);for(let d=0;d<r.length;d+=1)r[d]&&r[d].m(o,null);f=!0},p(s,a){a&1&&(u=Z(s[0]),ne(),r=mt(r,a,c,1,s,u,i,o,ht,zt,null,Bt),le())},i(s){if(!f){for(let a=0;a<u.length;a+=1)L(r[a]);f=!0}},o(s){for(let a=0;a<r.length;a+=1)M(r[a]);f=!1},d(s){s&&g(e);for(let a=0;a<r.length;a+=1)r[a].d()}}}function Ao(t){let e=t[6].name+"",l;return{c(){l=K(e)},m(n,o){b(n,l,o)},p(n,o){o&1&&e!==(e=n[6].name+"")&&Q(l,e)},d(n){n&&g(l)}}}function zt(t,e){let l,n,o,r,i,f=e[6].desc+"",u,c,s;return o=new ce({props:{to:`group/${e[6].id}`,$$slots:{default:[Ao]},$$scope:{ctx:e}}}),{key:t,first:null,c(){l=_("tr"),n=_("th"),x(o.$$.fragment),r=C(),i=_("td"),u=K(f),c=C(),$(n,"scope","row"),$(n,"class","px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"),$(i,"class","px-6 py-4"),$(l,"class","bg-white border-b dark:bg-gray-800 dark:border-gray-700"),this.first=l},m(a,d){b(a,l,d),p(l,n),q(o,n,null),p(l,r),p(l,i),p(i,u),p(l,c),s=!0},p(a,d){e=a;const h={};d&1&&(h.to=`group/${e[6].id}`),d&513&&(h.$$scope={dirty:d,ctx:e}),o.$set(h),(!s||d&1)&&f!==(f=e[6].desc+"")&&Q(u,f)},i(a){s||(L(o.$$.fragment,a),s=!0)},o(a){M(o.$$.fragment,a),s=!1},d(a){a&&g(l),J(o)}}}function Vt(t){let e,l,n,o,r,i,f,u;return{c(){e=_("div"),l=_("label"),l.textContent="New Group Name",n=C(),o=_("input"),r=C(),i=_("button"),i.textContent="Create Group",$(l,"for","success"),$(l,"class","block mb-2 text-sm font-bold"),$(o,"type","text"),$(o,"id","success"),$(o,"class","bg-green-50 border border-green-500 text-green-900 dark:text-green-400 placeholder-green-700 dark:placeholder-green-500 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5 dark:bg-gray-700 dark:border-green-500"),$(o,"placeholder","Enter group name"),$(i,"type","button"),$(i,"class","text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"),$(e,"class","mb-6")},m(c,s){b(c,e,s),p(e,l),p(e,n),p(e,o),X(o,t[2]),p(e,r),p(e,i),f||(u=[H(o,"input",t[4]),H(i,"click",t[3])],f=!0)},p(c,s){s&4&&o.value!==c[2]&&X(o,c[2])},d(c){c&&g(e),f=!1,oe(u)}}}function So(t){let e,l,n,o,r,i,f,u;e=new be({props:{user:t[1]}});const c=[Po,Oo],s=[];function a(h,m){return h[0],0;return 1}r=a(t),i=s[r]=c[r](t);let d=t[1]&&Vt(t);return{c(){x(e.$$.fragment),l=C(),n=_("div"),o=_("div"),i.c(),f=C(),d&&d.c(),$(o,"class","relative overflow-x-auto")},m(h,m){q(e,h,m),b(h,l,m),b(h,n,m),p(n,o),s[r].m(o,null),p(n,f),d&&d.m(n,null),u=!0},p(h,[m]){const S={};m&2&&(S.user=h[1]),e.$set(S);let O=r;r=a(h),r===O?s[r].p(h,m):(ne(),M(s[O],1,1,()=>{s[O]=null}),le(),i=s[r],i?i.p(h,m):(i=s[r]=c[r](h),i.c()),L(i,1),i.m(o,null)),h[1]?d?d.p(h,m):(d=Vt(h),d.c(),d.m(n,null)):d&&(d.d(1),d=null)},i(h){u||(L(e.$$.fragment,h),L(i),u=!0)},o(h){M(e.$$.fragment,h),M(i),u=!1},d(h){h&&(g(l),g(n)),J(e,h),s[r].d(),d&&d.d()}}}function jo(t,e,l){let n=[],o="",r="";pe(()=>{i(),l(1,o=ye(fe))});async function i(){fetch(`${V}/api/groups`,{method:"GET",headers:{"Access-Control-Allow-Origin":"*"}}).then(c=>c.json()).then(c=>{l(0,n=c)})}async function f(){if(!r){console.log("No group name entered.");return}fetch(`${V}/api/create_group`,{method:"POST",credentials:"include",headers:{"Access-Control-Allow-Origin":`${V}`,"Content-Type":"application/json"},body:JSON.stringify({name:r})}).then(c=>c.json()).then(c=>{console.log(c),i()})}function u(){r=this.value,l(2,r)}return[n,o,r,f,u]}class No extends de{constructor(e){super(),ae(this,e,jo,So,re,{})}}function Ft(t,e,l){const n=t.slice();return n[23]=e[l],n}function Wt(t,e,l){const n=t.slice();return n[26]=e[l],n}function Yt(t){let e,l,n,o,r,i,f;return l=new ce({props:{to:`group/${t[0].id}/manage`,$$slots:{default:[To]},$$scope:{ctx:t}}}),{c(){e=_("button"),x(l.$$.fragment),n=C(),o=_("br"),r=C(),i=_("br"),$(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(u,c){b(u,e,c),q(l,e,null),b(u,n,c),b(u,o,c),b(u,r,c),b(u,i,c),f=!0},p(u,c){const s={};c&1&&(s.to=`group/${u[0].id}/manage`),c&536870912&&(s.$$scope={dirty:c,ctx:u}),l.$set(s)},i(u){f||(L(l.$$.fragment,u),f=!0)},o(u){M(l.$$.fragment,u),f=!1},d(u){u&&(g(e),g(n),g(o),g(r),g(i)),J(l)}}}function To(t){let e;return{c(){e=K("Manage Group")},m(l,n){b(l,e,n)},d(l){l&&g(e)}}}function Qt(t){let e,l,n,o,r,i=t[9]&&Xt(t);return{c(){e=_("button"),e.textContent="Edit Group",l=C(),i&&i.c(),n=ie(),$(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(f,u){b(f,e,u),b(f,l,u),i&&i.m(f,u),b(f,n,u),o||(r=H(e,"click",t[17]),o=!0)},p(f,u){f[9]?i?i.p(f,u):(i=Xt(f),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(f){f&&(g(e),g(l),g(n)),i&&i.d(f),o=!1,r()}}}function Xt(t){let e,l,n,o,r,i,f,u,c,s,a,d,h,m,S,O,P,N,j=Z(t[11]),w=[];for(let v=0;v<j.length;v+=1)w[v]=Zt(Wt(t,j,v));return{c(){e=_("br"),l=C(),n=_("label"),n.textContent="Group Description:",o=C(),r=_("input"),i=C(),f=_("button"),f.textContent="Save",u=C(),c=_("form"),s=_("select");for(let v=0;v<w.length;v+=1)w[v].c();a=C(),d=_("br"),h=C(),m=_("button"),m.textContent="Edit Group Visibility",S=C(),O=_("button"),O.textContent="Cancel Group Edit",$(n,"for","groupDesc"),$(r,"type","text"),$(r,"class","backdrop-blur-3xl"),$(f,"class","bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"),t[10]===void 0&&we(()=>t[19].call(s)),$(m,"type","submit"),$(m,"class","bg-green-500 dark:bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"),$(O,"class","bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded")},m(v,R){b(v,e,R),b(v,l,R),b(v,n,R),b(v,o,R),b(v,r,R),X(r,t[0].desc),b(v,i,R),b(v,f,R),b(v,u,R),b(v,c,R),p(c,s);for(let I=0;I<w.length;I+=1)w[I]&&w[I].m(s,null);He(s,t[10],!0),p(c,a),p(c,d),p(c,h),p(c,m),b(v,S,R),b(v,O,R),P||(N=[H(r,"input",t[18]),H(f,"click",t[15]),H(s,"change",t[19]),H(c,"submit",Xe(Jo)),H(O,"click",t[20])],P=!0)},p(v,R){if(R&1&&r.value!==v[0].desc&&X(r,v[0].desc),R&2048){j=Z(v[11]);let I;for(I=0;I<j.length;I+=1){const k=Wt(v,j,I);w[I]?w[I].p(k,R):(w[I]=Zt(k),w[I].c(),w[I].m(s,null))}for(;I<w.length;I+=1)w[I].d(1);w.length=j.length}R&3072&&He(s,v[10])},d(v){v&&(g(e),g(l),g(n),g(o),g(r),g(i),g(f),g(u),g(c),g(S),g(O)),Ce(w,v),P=!1,oe(N)}}}function Zt(t){let e,l=t[26].visibility+"",n;return{c(){e=_("option"),n=K(l),e.__value=t[26],X(e,e.__value)},m(o,r){b(o,e,r),p(e,n)},p:D,d(o){o&&g(e)}}}function en(t){let e,l=t[0].desc+"",n;return{c(){e=_("h1"),n=K(l),$(e,"class","text-2x3 font-semibold text-gray-800")},m(o,r){b(o,e,r),p(e,n)},p(o,r){r&1&&l!==(l=o[0].desc+"")&&Q(n,l)},d(o){o&&g(e)}}}function Eo(t){let e;return{c(){e=_("p"),e.textContent="No threads to show..."},m(l,n){b(l,e,n)},p:D,i:D,o:D,d(l){l&&g(e)}}}function Ro(t){let e,l,n,o,r=[],i=new Map,f,u=Z(t[0].threads);const c=s=>s[23].id;for(let s=0;s<u.length;s+=1){let a=Ft(t,u,s),d=c(a);i.set(d,r[s]=tn(d,a))}return{c(){e=_("table"),l=_("thead"),l.innerHTML='<tr><th scope="col" class="px-6 py-3">Thread Name</th> <th scope="col" class="px-6 py-3">Description</th></tr>',n=C(),o=_("tbody");for(let s=0;s<r.length;s+=1)r[s].c();$(l,"class","text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"),$(e,"class","w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400")},m(s,a){b(s,e,a),p(e,l),p(e,n),p(e,o);for(let d=0;d<r.length;d+=1)r[d]&&r[d].m(o,null);f=!0},p(s,a){a&1&&(u=Z(s[0].threads),ne(),r=mt(r,a,c,1,s,u,i,o,ht,tn,null,Ft),le())},i(s){if(!f){for(let a=0;a<u.length;a+=1)L(r[a]);f=!0}},o(s){for(let a=0;a<r.length;a+=1)M(r[a]);f=!1},d(s){s&&g(e);for(let a=0;a<r.length;a+=1)r[a].d()}}}function Io(t){let e=t[23].name+"",l;return{c(){l=K(e)},m(n,o){b(n,l,o)},p(n,o){o&1&&e!==(e=n[23].name+"")&&Q(l,e)},d(n){n&&g(l)}}}function tn(t,e){let l,n,o,r,i,f=e[23].desc+"",u,c,s;return o=new ce({props:{to:`group/${e[0].id}/thread/${e[23].id}`,$$slots:{default:[Io]},$$scope:{ctx:e}}}),{key:t,first:null,c(){l=_("tr"),n=_("th"),x(o.$$.fragment),r=C(),i=_("td"),u=K(f),c=C(),$(n,"scope","row"),$(n,"class","px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"),$(i,"class","px-6 py-4"),$(l,"class","bg-white border-b dark:bg-gray-800 dark:border-gray-700"),this.first=l},m(a,d){b(a,l,d),p(l,n),q(o,n,null),p(l,r),p(l,i),p(i,u),p(l,c),s=!0},p(a,d){e=a;const h={};d&1&&(h.to=`group/${e[0].id}/thread/${e[23].id}`),d&536870913&&(h.$$scope={dirty:d,ctx:e}),o.$set(h),(!s||d&1)&&f!==(f=e[23].desc+"")&&Q(u,f)},i(a){s||(L(o.$$.fragment,a),s=!0)},o(a){M(o.$$.fragment,a),s=!1},d(a){a&&g(l),J(o)}}}function Lo(t){let e;return{c(){e=_("p"),e.textContent="You are registered for this group.",$(e,"class","text-4xl text-gray-900 font-extralight dark:text-gray-900")},m(l,n){b(l,e,n)},p:D,d(l){l&&g(e)}}}function Mo(t){let e,l,n;return{c(){e=_("button"),e.textContent="Request to join group",$(e,"class","text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800")},m(o,r){b(o,e,r),l||(n=H(e,"click",t[13]),l=!0)},p:D,d(o){o&&g(e),l=!1,n()}}}function Do(t){let e,l,n,o,r,i,f,u;return{c(){e=_("div"),l=_("label"),l.textContent="New Thread",n=C(),o=_("input"),r=C(),i=_("button"),i.textContent="Create Thread",$(l,"for","success"),$(l,"class","block mb-2 text-sm font-bold"),$(o,"type","text"),$(o,"id","success"),$(o,"class","bg-green-50 border border-green-500 text-green-900 dark:text-green-400 placeholder-green-700 dark:placeholder-green-500 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5 dark:bg-gray-700 dark:border-green-500"),$(o,"placeholder","Enter thread name"),$(i,"type","button"),$(i,"class","text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"),$(e,"class","mb-6")},m(c,s){b(c,e,s),p(e,l),p(e,n),p(e,o),X(o,t[8]),p(e,r),p(e,i),f||(u=[H(o,"input",t[21]),H(i,"click",t[12])],f=!0)},p(c,s){s&256&&o.value!==c[8]&&X(o,c[8])},d(c){c&&g(e),f=!1,oe(u)}}}function nn(t){let e;function l(r,i){return r[7]?Go:Uo}let n=l(t),o=n(t);return{c(){o.c(),e=ie()},m(r,i){o.m(r,i),b(r,e,i)},p(r,i){n===(n=l(r))&&o?o.p(r,i):(o.d(1),o=n(r),o&&(o.c(),o.m(e.parentNode,e)))},d(r){r&&g(e),o.d(r)}}}function Go(t){let e;return{c(){e=_("p"),e.textContent="You have already requested to be a moderator.",$(e,"class","text-4xl text-gray-900 font-extralight dark:text-gray-900")},m(l,n){b(l,e,n)},p:D,d(l){l&&g(e)}}}function Uo(t){let e,l,n;return{c(){e=_("button"),e.textContent="Request moderator",$(e,"class","text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800")},m(o,r){b(o,e,r),l||(n=H(e,"click",t[14]),l=!0)},p:D,d(o){o&&g(e),l=!1,n()}}}function qo(t){let e,l,n,o,r,i,f,u=t[0].name+"",c,s,a,d,h,m,S,O,P;e=new be({props:{user:t[1]}});let N=(t[5]||t[4])&&Yt(t),j=t[5]&&Qt(t),w=t[0].desc&&en(t);const v=[Ro,Eo],R=[];function I(T,U){return T[2]?0:1}h=I(t),m=R[h]=v[h](t);function k(T,U){return T[3]?Do:T[6]?Lo:Mo}let y=k(t),A=y(t),E=t[3]&&!t[4]&&nn(t);return{c(){x(e.$$.fragment),l=C(),N&&N.c(),n=C(),j&&j.c(),o=C(),r=_("div"),i=_("h1"),f=K("Group "),c=K(u),s=C(),w&&w.c(),a=C(),d=_("div"),m.c(),S=C(),A.c(),O=C(),E&&E.c(),$(i,"class","text-2xl font-semibold text-gray-800"),$(d,"class","relative overflow-x-auto")},m(T,U){q(e,T,U),b(T,l,U),N&&N.m(T,U),b(T,n,U),j&&j.m(T,U),b(T,o,U),b(T,r,U),p(r,i),p(i,f),p(i,c),p(r,s),w&&w.m(r,null),p(r,a),p(r,d),R[h].m(d,null),p(r,S),A.m(r,null),p(r,O),E&&E.m(r,null),P=!0},p(T,[U]){const Y={};U&2&&(Y.user=T[1]),e.$set(Y),T[5]||T[4]?N?(N.p(T,U),U&48&&L(N,1)):(N=Yt(T),N.c(),L(N,1),N.m(n.parentNode,n)):N&&(ne(),M(N,1,1,()=>{N=null}),le()),T[5]?j?j.p(T,U):(j=Qt(T),j.c(),j.m(o.parentNode,o)):j&&(j.d(1),j=null),(!P||U&1)&&u!==(u=T[0].name+"")&&Q(c,u),T[0].desc?w?w.p(T,U):(w=en(T),w.c(),w.m(r,a)):w&&(w.d(1),w=null);let he=h;h=I(T),h===he?R[h].p(T,U):(ne(),M(R[he],1,1,()=>{R[he]=null}),le(),m=R[h],m?m.p(T,U):(m=R[h]=v[h](T),m.c()),L(m,1),m.m(d,null)),y===(y=k(T))&&A?A.p(T,U):(A.d(1),A=y(T),A&&(A.c(),A.m(r,O))),T[3]&&!T[4]?E?E.p(T,U):(E=nn(T),E.c(),E.m(r,null)):E&&(E.d(1),E=null)},i(T){P||(L(e.$$.fragment,T),L(N),L(m),P=!0)},o(T){M(e.$$.fragment,T),M(N),M(m),P=!1},d(T){T&&(g(l),g(n),g(o),g(r)),J(e,T),N&&N.d(T),j&&j.d(T),w&&w.d(),R[h].d(),A.d(),E&&E.d()}}}async function Jo(){}function xo(t,e,l){let{id:n}=e,o={name:"",id:0,desc:"",img_path:"",visibility:"",owner_id:0,owner:{name:""},moderators:[{name:"",uid:0}],members:[],registrations:[],mod_requests:[],threads:[]},r,i=!1,f=!1,u=!1,c=!1,s=!1,a=!1,d="",h=!1,m=[{id:1,visibility:"public"},{id:2,visibility:"registered"},{id:3,visibility:"groups"}],S;pe(()=>{l(1,r=ye(fe)),O()});async function O(){fetch(`${V}/api/group/${n}`,{method:"GET",credentials:"include",headers:{"Access-Control-Allow-Origin":"http://localhost:8000"}}).then(A=>A.json()).then(A=>{l(0,o=A),console.log(o),A.threads.length>0&&l(2,i=!0),l(3,f=A.members.some(E=>E.name===r.name)),l(4,u=A.moderators.some(E=>E.name===r.name)),l(5,c=A.owner_id===r.uid),l(6,s=A.registrations.some(E=>E.name===r.name)),l(7,a=A.mod_requests.some(E=>E.name===r.name))})}async function P(){fetch(`${V}/api/create_thread`,{method:"POST",credentials:"include",headers:{"Access-Control-Allow-Origin":`${V}`,"Content-Type":"application/json"},body:JSON.stringify({name:d,group_id:n})}).then(A=>A.json()).then(A=>{console.log(A),O()})}async function N(){fetch(`${V}/api/group/${n}/join`,{method:"POST",credentials:"include",headers:{"Access-Control-Allow-Origin":`${V}`}}).then(A=>A.json()).then(A=>{console.log(A),O()})}async function j(){fetch(`${V}/api/group/${n}/request_mod`,{method:"POST",credentials:"include",headers:{"Access-Control-Allow-Origin":`${V}`}}).then(A=>A.json()).then(A=>{console.log(A),O()})}async function w(){fetch(`${V}/api/group/${n}/edit_desc`,{method:"POST",credentials:"include",headers:{"Access-Control-Allow-Origin":`${V}`,"Content-Type":"application/json"},body:JSON.stringify({desc:o.desc})}).then(A=>A.json()).then(A=>{console.log(A),O()})}const v=()=>l(9,h=!0);function R(){o.desc=this.value,l(0,o)}function I(){S=Sn(this),l(10,S),l(11,m)}const k=()=>l(9,h=!1);function y(){d=this.value,l(8,d)}return t.$$set=A=>{"id"in A&&l(16,n=A.id)},[o,r,i,f,u,c,s,a,d,h,S,m,P,N,j,w,n,v,R,I,k,y]}class Ho extends de{constructor(e){super(),ae(this,e,xo,qo,re,{id:16})}}function ln(t,e,l){const n=t.slice();return n[22]=e[l],n}function on(t,e,l){const n=t.slice();return n[22]=e[l],n}function rn(t,e,l){const n=t.slice();return n[27]=e[l],n}function sn(t){let e,l,n,o,r,i,f,u=Z(t[0].moderators),c=[];for(let s=0;s<u.length;s+=1)c[s]=cn(rn(t,u,s));return{c(){e=_("div"),e.textContent="Moderators",l=C(),n=_("div"),o=_("table"),r=_("thead"),r.innerHTML='<tr><th class="py-2 px-4 border-b text-center">Username</th> <th class="py-2 px-4 border-b text-center">Remove</th></tr>',i=C(),f=_("tbody");for(let s=0;s<c.length;s+=1)c[s].c();$(e,"class","text-center my-4 text-2xl font-bold"),$(o,"class","min-w-full bg-white border border-gray-300"),$(n,"class","overflow-x-auto")},m(s,a){b(s,e,a),b(s,l,a),b(s,n,a),p(n,o),p(o,r),p(o,i),p(o,f);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(f,null)},p(s,a){if(a&257){u=Z(s[0].moderators);let d;for(d=0;d<u.length;d+=1){const h=rn(s,u,d);c[d]?c[d].p(h,a):(c[d]=cn(h),c[d].c(),c[d].m(f,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=u.length}},d(s){s&&(g(e),g(l),g(n)),Ce(c,s)}}}function un(t){let e,l,n=t[27].name+"",o,r,i,f,u,c,s,a;function d(){return t[12](t[27])}return{c(){e=_("tr"),l=_("td"),o=K(n),r=C(),i=_("td"),f=_("div"),u=_("button"),u.textContent="Remove",c=C(),$(l,"class","py-2 px-4 border-b text-center"),$(u,"class","text-red-500 hover:text-red-700 focus:outline-none"),$(f,"class","flex justify-center"),$(i,"class","py-2 px-4 border-b"),$(e,"class","hover:bg-gray-100")},m(h,m){b(h,e,m),p(e,l),p(l,o),p(e,r),p(e,i),p(i,f),p(f,u),p(e,c),s||(a=H(u,"click",d),s=!0)},p(h,m){t=h,m&1&&n!==(n=t[27].name+"")&&Q(o,n)},d(h){h&&g(e),s=!1,a()}}}function cn(t){let e,l=t[27].id!=t[0].owner_id&&un(t);return{c(){l&&l.c(),e=ie()},m(n,o){l&&l.m(n,o),b(n,e,o)},p(n,o){n[27].id!=n[0].owner_id?l?l.p(n,o):(l=un(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(n){n&&g(e),l&&l.d(n)}}}function fn(t){let e,l,n,o,r,i,f,u=t[4].length>0&&an(t);return{c(){e=_("div"),e.textContent="Moderator Requests",l=C(),n=_("div"),o=_("table"),r=_("thead"),r.innerHTML='<tr><th class="py-2 px-4 border-b text-center">Name</th> <th class="py-2 px-4 border-b text-center">Accept</th> <th class="py-2 px-4 border-b text-center">Reject</th></tr>',i=C(),f=_("tbody"),u&&u.c(),$(e,"class","text-center my-4 text-2xl font-bold"),$(o,"class","min-w-full bg-white border border-gray-300"),$(n,"class","overflow-x-auto")},m(c,s){b(c,e,s),b(c,l,s),b(c,n,s),p(n,o),p(o,r),p(o,i),p(o,f),u&&u.m(f,null)},p(c,s){c[4].length>0?u?u.p(c,s):(u=an(c),u.c(),u.m(f,null)):u&&(u.d(1),u=null)},d(c){c&&(g(e),g(l),g(n)),u&&u.d()}}}function an(t){let e,l=Z(t[4]),n=[];for(let o=0;o<l.length;o+=1)n[o]=dn(on(t,l,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=ie()},m(o,r){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(o,r);b(o,e,r)},p(o,r){if(r&1552){l=Z(o[4]);let i;for(i=0;i<l.length;i+=1){const f=on(o,l,i);n[i]?n[i].p(f,r):(n[i]=dn(f),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(o){o&&g(e),Ce(n,o)}}}function dn(t){let e,l,n=t[22].name+"",o,r,i,f,u,c,s,a,d,h,m,S;function O(){return t[13](t[22])}function P(){return t[14](t[22])}return{c(){e=_("tr"),l=_("td"),o=K(n),r=C(),i=_("td"),f=_("div"),u=_("button"),u.textContent="Accept",c=C(),s=_("td"),a=_("div"),d=_("button"),d.textContent="Reject",h=C(),$(l,"class","py-2 px-4 border-b text-center"),$(u,"class","bg-green-500 hover:bg-green-700 text-white py-1 px-2 rounded focus:outline-none"),$(f,"class","flex justify-center"),$(i,"class","py-2 px-4 border-b"),$(d,"class","bg-red-500 hover:bg-red-700 text-white py-1 px-2 rounded focus:outline-none"),$(a,"class","flex justify-center"),$(s,"class","py-2 px-4 border-b"),$(e,"class","hover:bg-gray-100")},m(N,j){b(N,e,j),p(e,l),p(l,o),p(e,r),p(e,i),p(i,f),p(f,u),p(e,c),p(e,s),p(s,a),p(a,d),p(e,h),m||(S=[H(u,"click",O),H(d,"click",P)],m=!0)},p(N,j){t=N,j&16&&n!==(n=t[22].name+"")&&Q(o,n)},d(N){N&&g(e),m=!1,oe(S)}}}function pn(t){let e,l,n,o,r,i,f,u=t[5].length>0&&_n(t);return{c(){e=_("div"),e.textContent="Join requests",l=C(),n=_("div"),o=_("table"),r=_("thead"),r.innerHTML='<tr><th class="py-2 px-4 border-b text-center">Name</th> <th class="py-2 px-4 border-b text-center">Accept</th> <th class="py-2 px-4 border-b text-center">Reject</th></tr>',i=C(),f=_("tbody"),u&&u.c(),$(e,"class","text-center my-4 text-2xl font-bold"),$(o,"class","min-w-full bg-white border border-gray-300"),$(n,"class","overflow-x-auto")},m(c,s){b(c,e,s),b(c,l,s),b(c,n,s),p(n,o),p(o,r),p(o,i),p(o,f),u&&u.m(f,null)},p(c,s){c[5].length>0?u?u.p(c,s):(u=_n(c),u.c(),u.m(f,null)):u&&(u.d(1),u=null)},d(c){c&&(g(e),g(l),g(n)),u&&u.d()}}}function _n(t){let e,l=Z(t[5]),n=[];for(let o=0;o<l.length;o+=1)n[o]=hn(ln(t,l,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=ie()},m(o,r){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(o,r);b(o,e,r)},p(o,r){if(r&224){l=Z(o[5]);let i;for(i=0;i<l.length;i+=1){const f=ln(o,l,i);n[i]?n[i].p(f,r):(n[i]=hn(f),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(o){o&&g(e),Ce(n,o)}}}function hn(t){let e,l,n=t[22].name+"",o,r,i,f,u,c,s,a,d,h,m,S;function O(){return t[15](t[22])}function P(){return t[16](t[22])}return{c(){e=_("tr"),l=_("td"),o=K(n),r=C(),i=_("td"),f=_("div"),u=_("button"),u.textContent="Accept",c=C(),s=_("td"),a=_("div"),d=_("button"),d.textContent="Reject",h=C(),$(l,"class","py-2 px-4 border-b text-center"),$(u,"class","bg-green-500 hover:bg-green-700 text-white py-1 px-2 rounded focus:outline-none"),$(f,"class","flex justify-center"),$(i,"class","py-2 px-4 border-b"),$(d,"class","bg-red-500 hover:bg-red-700 text-white py-1 px-2 rounded focus:outline-none"),$(a,"class","flex justify-center"),$(s,"class","py-2 px-4 border-b"),$(e,"class","hover:bg-gray-100")},m(N,j){b(N,e,j),p(e,l),p(l,o),p(e,r),p(e,i),p(i,f),p(f,u),p(e,c),p(e,s),p(s,a),p(a,d),p(e,h),m||(S=[H(u,"click",O),H(d,"click",P)],m=!0)},p(N,j){t=N,j&32&&n!==(n=t[22].name+"")&&Q(o,n)},d(N){N&&g(e),m=!1,oe(S)}}}function Ko(t){let e,l,n,o,r,i;e=new be({props:{user:t[1]}});let f=t[2]&&sn(t),u=t[2]&&fn(t),c=(t[2]||t[3])&&pn(t);return{c(){x(e.$$.fragment),l=C(),f&&f.c(),n=C(),u&&u.c(),o=C(),c&&c.c(),r=ie()},m(s,a){q(e,s,a),b(s,l,a),f&&f.m(s,a),b(s,n,a),u&&u.m(s,a),b(s,o,a),c&&c.m(s,a),b(s,r,a),i=!0},p(s,[a]){const d={};a&2&&(d.user=s[1]),e.$set(d),s[2]?f?f.p(s,a):(f=sn(s),f.c(),f.m(n.parentNode,n)):f&&(f.d(1),f=null),s[2]?u?u.p(s,a):(u=fn(s),u.c(),u.m(o.parentNode,o)):u&&(u.d(1),u=null),s[2]||s[3]?c?c.p(s,a):(c=pn(s),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null)},i(s){i||(L(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&(g(l),g(n),g(o),g(r)),J(e,s),f&&f.d(s),u&&u.d(s),c&&c.d(s)}}}function Bo(t,e,l){let{gid:n}=e,o,r,i=!1,f=!1,u=[],c=[];pe(()=>{l(1,r=ye(fe)),s()});async function s(){try{await a(),d(),console.log(i),console.log(f),h(o.id),m(o.id)}catch(y){console.log(y)}}async function a(){return fetch(`${V}/api/group/${n}`,{method:"GET",credentials:"include",headers:{"Access-Control-Allow-Origin":`${V}`}}).then(y=>y.json()).then(y=>{l(0,o=y),console.log(o)})}async function d(){if(console.log("group"),console.log(`group.owner_id: ${o.owner_id}, user.uid: ${r.uid}`),o.owner_id===r.uid)return l(2,i=!0),!0;for(let y=0;y<o.moderators.length;y++)if(o.moderators[y].id===r.uid)return l(3,f=!0),!0;return!1}async function h(y){fetch(`${V}/api/group/`+y+"/mod_requests",{method:"GET",credentials:"include",headers:{"Access-Control-Allow-Origin":`${V}`}}).then(A=>A.json()).then(A=>{console.log(A),l(4,u=A)})}async function m(y){fetch(`${V}/api/group/`+y+"/join_requests",{method:"GET",credentials:"include",headers:{"Access-Control-Allow-Origin":`${V}`}}).then(A=>A.json()).then(A=>{console.log(A),l(5,c=A)})}async function S(y,A){fetch(`${V}/api/group/`+o.id+"/accept_join_request",{method:"POST",credentials:"include",headers:{"Access-Control-Allow-Origin":`${V}`,"Content-Type":"application/json"},body:JSON.stringify({id:y,name:A})}).then(E=>E.json()).then(E=>{console.log(E),m(o.id)})}async function O(y,A){fetch(`${V}/api/group/`+o.id+"/reject_join_request",{method:"POST",credentials:"include",headers:{"Access-Control-Allow-Origin":`${V}`,"Content-Type":"application/json"},body:JSON.stringify({id:y,name:A})}).then(E=>E.json()).then(E=>{console.log(E),m(o.id)})}async function P(y,A){fetch(`${V}/api/group/`+o.id+"/remove_mod",{method:"POST",credentials:"include",headers:{"Access-Control-Allow-Origin":`${V}`,"Content-Type":"application/json"},body:JSON.stringify({id:y,name:A})}).then(E=>E.json()).then(E=>{console.log(E),a()})}async function N(y,A){fetch("http://localhost:8000/api/group/"+o.id+"/accept_mod_request",{method:"POST",credentials:"include",headers:{"Access-Control-Allow-Origin":"http://localhost:8000","Content-Type":"application/json"},body:JSON.stringify({id:y,name:A})}).then(E=>E.json()).then(E=>{console.log(E),h(o.id),a()})}async function j(y,A){fetch("http://localhost:8000/api/group/"+o.id+"/reject_mod_request",{method:"POST",credentials:"include",headers:{"Access-Control-Allow-Origin":"http://localhost:8000","Content-Type":"application/json"},body:JSON.stringify({id:y,name:A})}).then(E=>E.json()).then(E=>{console.log(E),h(o.id)})}const w=y=>{P(y.id,y.name)},v=y=>{N(y.id,y.name)},R=y=>{j(y.id,y.name)},I=y=>{S(y.id,y.name)},k=y=>{O(y.id,y.name)};return t.$$set=y=>{"gid"in y&&l(11,n=y.gid)},[o,r,i,f,u,c,S,O,P,N,j,n,w,v,R,I,k]}class zo extends de{constructor(e){super(),ae(this,e,Bo,Ko,re,{gid:11})}}function mn(t,e,l){const n=t.slice();return n[23]=e[l],n}function Vo(t){let e;return{c(){e=_("p"),e.textContent="No posts yet."},m(l,n){b(l,e,n)},p:D,d(l){l&&g(e)}}}function Fo(t){let e,l=Z(t[2]),n=[];for(let o=0;o<l.length;o+=1)n[o]=$n(mn(t,l,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=ie()},m(o,r){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(o,r);b(o,e,r)},p(o,r){if(r&429){l=Z(o[2]);let i;for(i=0;i<l.length;i+=1){const f=mn(o,l,i);n[i]?n[i].p(f,r):(n[i]=$n(f),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(o){o&&g(e),Ce(n,o)}}}function gn(t){let e,l;return{c(){e=_("img"),xe(e.src,l=t[5]+"/api/profile/"+t[23].author_id+"/image/"+t[23].author_image_path)||$(e,"src",l),$(e,"alt","Profile img"),$(e,"crossorigin","use-credentials")},m(n,o){b(n,e,o)},p(n,o){o&4&&!xe(e.src,l=n[5]+"/api/profile/"+n[23].author_id+"/image/"+n[23].author_image_path)&&$(e,"src",l)},d(n){n&&g(e)}}}function Wo(t){let e,l,n;function o(){return t[14](t[23])}return{c(){e=_("button"),e.textContent="Upvote",$(e,"class","bg-gray-500 hover:bg-green-700 text-white py-1 px-2 rounded focus:outline-none")},m(r,i){b(r,e,i),l||(n=H(e,"click",o),l=!0)},p(r,i){t=r},d(r){r&&g(e),l=!1,n()}}}function Yo(t){let e,l,n;function o(){return t[13](t[23])}return{c(){e=_("button"),e.textContent="Upvoted",$(e,"class","bg-green-500 hover:bg-gray-700 text-white py-1 px-2 rounded focus:outline-none")},m(r,i){b(r,e,i),l||(n=H(e,"click",o),l=!0)},p(r,i){t=r},d(r){r&&g(e),l=!1,n()}}}function Qo(t){let e,l,n;function o(){return t[16](t[23])}return{c(){e=_("button"),e.textContent="Downvote",$(e,"class","bg-gray-500 hover:bg-red-700 text-white py-1 px-2 rounded focus:outline-none")},m(r,i){b(r,e,i),l||(n=H(e,"click",o),l=!0)},p(r,i){t=r},d(r){r&&g(e),l=!1,n()}}}function Xo(t){let e,l,n;function o(){return t[15](t[23])}return{c(){e=_("button"),e.textContent="Downvoted",$(e,"class","bg-red-500 hover:bg-gray-700 text-white py-1 px-2 rounded focus:outline-none")},m(r,i){b(r,e,i),l||(n=H(e,"click",o),l=!0)},p(r,i){t=r},d(r){r&&g(e),l=!1,n()}}}function bn(t){let e,l,n,o;function r(){return t[17](t[23])}return{c(){e=_("div"),l=_("button"),l.textContent="Delete",$(l,"class","bg-red-500 hover:bg-red-700 text-white py-1 px-2 rounded focus:outline-none"),$(e,"class","bg-yellow-100")},m(i,f){b(i,e,f),p(e,l),n||(o=H(l,"click",r),n=!0)},p(i,f){t=i},d(i){i&&g(e),n=!1,o()}}}function $n(t){let e,l,n,o=t[23].author_name+"",r,i,f,u,c,s=t[23].content+"",a,d,h,m=t[23].rating+"",S,O,P,N,j,w,v,R,I,k,y,A,E=t[23].author_image_path&&gn(t);function T(z,W){return W&5&&(N=null),N==null&&(N=!!z[23].ratings.some(z[12])),N?Yo:Wo}let U=T(t,-1),Y=U(t);function he(z,W){return W&5&&(k=null),k==null&&(k=!!z[23].ratings.some(z[11])),k?Xo:Qo}let _e=he(t,-1),ue=_e(t),ee=t[3]&&bn(t);return{c(){e=_("div"),l=_("div"),n=_("div"),r=K(o),i=C(),f=_("div"),E&&E.c(),u=C(),c=_("div"),a=K(s),d=C(),h=_("div"),S=K(m),O=C(),P=_("div"),Y.c(),j=C(),w=_("br"),v=C(),R=_("br"),I=C(),ue.c(),y=C(),ee&&ee.c(),A=C(),$(n,"class","bg-red-100"),$(f,"class","bg-blue-100"),$(l,"class","flex flex-col"),$(c,"class","bg-slate-400"),$(h,"class","bg-green-100"),$(e,"class","flex flex-row border-2")},m(z,W){b(z,e,W),p(e,l),p(l,n),p(n,r),p(l,i),p(l,f),E&&E.m(f,null),p(e,u),p(e,c),p(c,a),p(e,d),p(e,h),p(h,S),p(e,O),p(e,P),Y.m(P,null),p(P,j),p(P,w),p(P,v),p(P,R),p(P,I),ue.m(P,null),p(e,y),ee&&ee.m(e,null),p(e,A)},p(z,W){W&4&&o!==(o=z[23].author_name+"")&&Q(r,o),z[23].author_image_path?E?E.p(z,W):(E=gn(z),E.c(),E.m(f,null)):E&&(E.d(1),E=null),W&4&&s!==(s=z[23].content+"")&&Q(a,s),W&4&&m!==(m=z[23].rating+"")&&Q(S,m),U===(U=T(z,W))&&Y?Y.p(z,W):(Y.d(1),Y=U(z),Y&&(Y.c(),Y.m(P,j))),_e===(_e=he(z,W))&&ue?ue.p(z,W):(ue.d(1),ue=_e(z),ue&&(ue.c(),ue.m(P,null))),z[3]?ee?ee.p(z,W):(ee=bn(z),ee.c(),ee.m(e,A)):ee&&(ee.d(1),ee=null)},d(z){z&&g(e),E&&E.d(),Y.d(),ue.d(),ee&&ee.d()}}}function Zo(t){let e,l,n,o,r=t[4].name+"",i,f,u,c,s,a,d,h,m,S,O,P;e=new be({props:{user:t[0]}});function N(v,R){return v[2].length>0?Fo:Vo}let j=N(t),w=j(t);return{c(){x(e.$$.fragment),l=C(),n=_("h1"),o=K("Thread "),i=K(r),f=C(),w.c(),u=C(),c=_("div"),s=_("label"),s.textContent="New Post",a=C(),d=_("input"),h=C(),m=_("button"),m.textContent="Post",$(n,"class","text-2xl font-semibold text-gray-800"),$(s,"for","success"),$(s,"class","block mb-2 text-sm font-bold"),$(d,"type","text"),$(d,"id","success"),$(d,"class","bg-green-50 border border-green-500 text-green-900 dark:text-green-400 placeholder-green-700 dark:placeholder-green-500 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5 dark:bg-gray-700 dark:border-green-500"),$(d,"placeholder","Post content"),$(m,"type","button"),$(m,"class","text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"),$(c,"class","mb-6")},m(v,R){q(e,v,R),b(v,l,R),b(v,n,R),p(n,o),p(n,i),b(v,f,R),w.m(v,R),b(v,u,R),b(v,c,R),p(c,s),p(c,a),p(c,d),X(d,t[1]),p(c,h),p(c,m),S=!0,O||(P=[H(d,"input",t[18]),H(m,"click",t[6])],O=!0)},p(v,[R]){const I={};R&1&&(I.user=v[0]),e.$set(I),(!S||R&16)&&r!==(r=v[4].name+"")&&Q(i,r),j===(j=N(v))&&w?w.p(v,R):(w.d(1),w=j(v),w&&(w.c(),w.m(u.parentNode,u))),R&2&&d.value!==v[1]&&X(d,v[1])},i(v){S||(L(e.$$.fragment,v),S=!0)},o(v){M(e.$$.fragment,v),S=!1},d(v){v&&(g(l),g(n),g(f),g(u),g(c)),J(e,v),w.d(v),O=!1,oe(P)}}}function er(t,e,l){let{gid:n}=e,{tid:o}=e,r,i="",f=[],u=!1,c={name:""},s=`${F}`;pe(()=>{l(0,r=ye(fe)),a(),d()});async function a(){fetch(`${F}/api/group/${n}`,{method:"GET",credentials:"include",headers:{"Access-Control-Allow-Origin":`${F}`}}).then(k=>k.json()).then(k=>{k.members.some(y=>y.name===r.name),l(3,u=k.moderators.some(y=>y.name===r.name)),l(4,c=k.threads.find(y=>y.id==o))})}async function d(){fetch(`${F}/api/group/${n}/thread/${o}`,{method:"GET",credentials:"include",headers:{"Access-Control-Allow-Origin":`${F}`}}).then(k=>k.json()).then(k=>{console.log(k),l(2,f=k)})}async function h(){fetch(`${F}/api/create_post`,{method:"POST",credentials:"include",headers:{"Access-Control-Allow-Origin":`${F}`,"Content-Type":"application/json"},body:JSON.stringify({content:i,thread_id:o})}).then(k=>k.json()).then(k=>{console.log(k),d()})}async function m(k){fetch(`${F}/api/delete_post/${k}`,{method:"DELETE",credentials:"include",headers:{"Access-Control-Allow-Origin":`${F}`}}).then(y=>y.json()).then(y=>{console.log(y),d()})}async function S(k,y){fetch(`${F}/api/vote_post/${k}`,{method:"POST",credentials:"include",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":`${F}`},body:JSON.stringify({rating:y})}).then(A=>A.json()).then(A=>{console.log(A),d()})}const O=k=>k.user_id===r.uid&&k.rating===-1,P=k=>k.user_id===r.uid&&k.rating===1,N=k=>{S(k.id,1)},j=k=>{S(k.id,1)},w=k=>{S(k.id,-1)},v=k=>{S(k.id,-1)},R=k=>{m(k.id)};function I(){i=this.value,l(1,i)}return t.$$set=k=>{"gid"in k&&l(9,n=k.gid),"tid"in k&&l(10,o=k.tid)},[r,i,f,u,c,s,h,m,S,n,o,O,P,N,j,w,v,R,I]}class tr extends de{constructor(e){super(),ae(this,e,er,Zo,re,{gid:9,tid:10})}}function nr(t){let e,l;return e=new Co({props:{uid:t[3].id}}),{c(){x(e.$$.fragment)},m(n,o){q(e,n,o),l=!0},p(n,o){const r={};o&8&&(r.uid=n[3].id),e.$set(r)},i(n){l||(L(e.$$.fragment,n),l=!0)},o(n){M(e.$$.fragment,n),l=!1},d(n){J(e,n)}}}function lr(t){let e,l;return e=new Ho({props:{id:t[3].id}}),{c(){x(e.$$.fragment)},m(n,o){q(e,n,o),l=!0},p(n,o){const r={};o&8&&(r.id=n[3].id),e.$set(r)},i(n){l||(L(e.$$.fragment,n),l=!0)},o(n){M(e.$$.fragment,n),l=!1},d(n){J(e,n)}}}function or(t){let e,l;return e=new zo({props:{gid:t[3].id}}),{c(){x(e.$$.fragment)},m(n,o){q(e,n,o),l=!0},p(n,o){const r={};o&8&&(r.gid=n[3].id),e.$set(r)},i(n){l||(L(e.$$.fragment,n),l=!0)},o(n){M(e.$$.fragment,n),l=!1},d(n){J(e,n)}}}function rr(t){let e,l;return e=new tr({props:{gid:t[3].gid,tid:t[3].tid}}),{c(){x(e.$$.fragment)},m(n,o){q(e,n,o),l=!0},p(n,o){const r={};o&8&&(r.gid=n[3].gid),o&8&&(r.tid=n[3].tid),e.$set(r)},i(n){l||(L(e.$$.fragment,n),l=!0)},o(n){M(e.$$.fragment,n),l=!1},d(n){J(e,n)}}}function ir(t){let e,l;return e=new Yl({}),{c(){x(e.$$.fragment)},m(n,o){q(e,n,o),l=!0},i(n){l||(L(e.$$.fragment,n),l=!0)},o(n){M(e.$$.fragment,n),l=!1},d(n){J(e,n)}}}function sr(t){let e,l,n,o,r,i,f,u,c,s,a,d,h,m,S,O,P,N,j;return l=new me({props:{path:"/login",component:eo}}),o=new me({props:{path:"/register",component:oo}}),i=new me({props:{path:"/profiles",component:fo}}),u=new me({props:{path:"/profile/:id",$$slots:{default:[nr,({params:w})=>({3:w}),({params:w})=>w?8:0]},$$scope:{ctx:t}}}),s=new me({props:{path:"/groups",component:No}}),d=new me({props:{path:"/group/:id",$$slots:{default:[lr,({params:w})=>({3:w}),({params:w})=>w?8:0]},$$scope:{ctx:t}}}),m=new me({props:{path:"/group/:id/manage",$$slots:{default:[or,({params:w})=>({3:w}),({params:w})=>w?8:0]},$$scope:{ctx:t}}}),O=new me({props:{path:"/group/:gid/thread/:tid",$$slots:{default:[rr,({params:w})=>({3:w}),({params:w})=>w?8:0]},$$scope:{ctx:t}}}),N=new me({props:{path:"/",$$slots:{default:[ir]},$$scope:{ctx:t}}}),{c(){e=_("div"),x(l.$$.fragment),n=C(),x(o.$$.fragment),r=C(),x(i.$$.fragment),f=C(),x(u.$$.fragment),c=C(),x(s.$$.fragment),a=C(),x(d.$$.fragment),h=C(),x(m.$$.fragment),S=C(),x(O.$$.fragment),P=C(),x(N.$$.fragment),$(e,"class","bg-blue-100 h-screen svelte-1joi4ca")},m(w,v){b(w,e,v),q(l,e,null),p(e,n),q(o,e,null),p(e,r),q(i,e,null),p(e,f),q(u,e,null),p(e,c),q(s,e,null),p(e,a),q(d,e,null),p(e,h),q(m,e,null),p(e,S),q(O,e,null),p(e,P),q(N,e,null),j=!0},p(w,v){const R={};v&24&&(R.$$scope={dirty:v,ctx:w}),u.$set(R);const I={};v&24&&(I.$$scope={dirty:v,ctx:w}),d.$set(I);const k={};v&24&&(k.$$scope={dirty:v,ctx:w}),m.$set(k);const y={};v&24&&(y.$$scope={dirty:v,ctx:w}),O.$set(y);const A={};v&16&&(A.$$scope={dirty:v,ctx:w}),N.$set(A)},i(w){j||(L(l.$$.fragment,w),L(o.$$.fragment,w),L(i.$$.fragment,w),L(u.$$.fragment,w),L(s.$$.fragment,w),L(d.$$.fragment,w),L(m.$$.fragment,w),L(O.$$.fragment,w),L(N.$$.fragment,w),j=!0)},o(w){M(l.$$.fragment,w),M(o.$$.fragment,w),M(i.$$.fragment,w),M(u.$$.fragment,w),M(s.$$.fragment,w),M(d.$$.fragment,w),M(m.$$.fragment,w),M(O.$$.fragment,w),M(N.$$.fragment,w),j=!1},d(w){w&&g(e),J(l),J(o),J(i),J(u),J(s),J(d),J(m),J(O),J(N)}}}function ur(t){let e,l;return e=new Ll({props:{url:t[0],$$slots:{default:[sr]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(n,o){q(e,n,o),l=!0},p(n,[o]){const r={};o&1&&(r.url=n[0]),o&16&&(r.$$scope={dirty:o,ctx:n}),e.$set(r)},i(n){l||(L(e.$$.fragment,n),l=!0)},o(n){M(e.$$.fragment,n),l=!1},d(n){J(e,n)}}}function cr(t,e,l){let n;$e(t,fe,i=>l(2,n=i)),localStorage.theme="light";let o=!1;pe(async()=>{let i=window.sessionStorage.getItem("store");i&&(console.log("sob-- ~ loading ses",i),Jn(fe,n=JSON.parse(i),n)),l(1,o=!0)});let{url:r=""}=e;return t.$$set=i=>{"url"in i&&l(0,r=i.url)},t.$$.update=()=>{t.$$.dirty&6&&o&&n&&window.sessionStorage.setItem("store",JSON.stringify(n))},[r,o,n]}class fr extends de{constructor(e){super(),ae(this,e,cr,ur,re,{url:0})}}new fr({target:document.getElementById("app")});
