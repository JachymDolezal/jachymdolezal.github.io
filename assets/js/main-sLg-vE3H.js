var Mn=Object.defineProperty;var Dn=(t,e,l)=>e in t?Mn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var et=(t,e,l)=>(Dn(t,typeof e!="symbol"?e+"":e,l),l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function l(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=l(o);fetch(o.href,r)}})();function D(){}const $n=t=>t;function we(t,e){for(const l in e)t[l]=e[l];return t}function Gn(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function kn(t){return t()}function gt(){return Object.create(null)}function le(t){t.forEach(kn)}function De(t){return typeof t=="function"}function oe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Ge;function Je(t,e){return t===e?!0:(Ge||(Ge=document.createElement("a")),Ge.href=e,t===Ge.href)}function Un(t){return Object.keys(t).length===0}function at(t,...e){if(t==null){for(const n of e)n(void 0);return D}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function ke(t){let e;return at(t,l=>e=l)(),e}function ge(t,e,l){t.$$.on_destroy.push(at(e,l))}function ze(t,e,l,n){if(t){const o=yn(t,e,l,n);return t[0](o)}}function yn(t,e,l,n){return t[1]&&n?we(l.ctx.slice(),t[1](n(e))):l.ctx}function Fe(t,e,l,n){if(t[2]&&n){const o=t[2](n(l));if(e.dirty===void 0)return o;if(typeof o=="object"){const r=[],i=Math.max(e.dirty.length,o.length);for(let f=0;f<i;f+=1)r[f]=e.dirty[f]|o[f];return r}return e.dirty|o}return e.dirty}function We(t,e,l,n,o,r){if(o){const i=yn(e,l,n,r);t.p(i,o)}}function Ye(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function it(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function $t(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}function qn(t,e,l){return t.set(l),e}const wn=typeof window<"u";let vn=wn?()=>window.performance.now():()=>Date.now(),dt=wn?t=>requestAnimationFrame(t):D;const je=new Set;function Cn(t){je.forEach(e=>{e.c(t)||(je.delete(e),e.f())}),je.size!==0&&dt(Cn)}function On(t){let e;return je.size===0&&dt(Cn),{promise:new Promise(l=>{je.add(e={c:t,f:l})}),abort(){je.delete(e)}}}function p(t,e){t.appendChild(e)}function Pn(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Jn(t){const e=_("style");return e.textContent="/* empty */",xn(Pn(t),e),e.sheet}function xn(t,e){return p(t.head||t,e),e.sheet}function g(t,e,l){t.insertBefore(e,l||null)}function b(t){t.parentNode&&t.parentNode.removeChild(t)}function ve(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function _(t){return document.createElement(t)}function K(t){return document.createTextNode(t)}function C(){return K(" ")}function re(){return K("")}function H(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function Qe(t){return function(e){return e.preventDefault(),t.call(this,e)}}function $(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}const Hn=["width","height"];function kt(t,e){const l=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:l[n]&&l[n].set&&Hn.indexOf(n)===-1?t[n]=e[n]:$(t,n,e[n])}function Kn(t){return Array.from(t.childNodes)}function Y(t,e){e=""+e,t.data!==e&&(t.data=e)}function Q(t,e){t.value=e??""}function xe(t,e,l){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e){o.selected=!0;return}}(!l||e!==void 0)&&(t.selectedIndex=-1)}function Sn(t){const e=t.querySelector(":checked");return e&&e.__value}function An(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}function yt(t,e){return new t(e)}const He=new Map;let Ke=0;function Bn(t){let e=5381,l=t.length;for(;l--;)e=(e<<5)-e^t.charCodeAt(l);return e>>>0}function Vn(t,e){const l={stylesheet:Jn(e),rules:{}};return He.set(t,l),l}function jn(t,e,l,n,o,r,i,f=0){const c=16.666/n;let u=`{
`;for(let O=0;O<=1;O+=c){const P=e+(l-e)*r(O);u+=O*100+`%{${i(P,1-P)}}
`}const s=u+`100% {${i(l,1-l)}}
}`,a=`__svelte_${Bn(s)}_${f}`,d=Pn(t),{stylesheet:h,rules:m}=He.get(d)||Vn(d,t);m[a]||(m[a]=!0,h.insertRule(`@keyframes ${a} ${s}`,h.cssRules.length));const A=t.style.animation||"";return t.style.animation=`${A?`${A}, `:""}${a} ${n}ms linear ${o}ms 1 both`,Ke+=1,a}function st(t,e){const l=(t.style.animation||"").split(", "),n=l.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),o=l.length-n.length;o&&(t.style.animation=n.join(", "),Ke-=o,Ke||zn())}function zn(){dt(()=>{Ke||(He.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&b(e)}),He.clear())})}let Ie;function me(t){Ie=t}function Ee(){if(!Ie)throw new Error("Function called outside component initialization");return Ie}function de(t){Ee().$$.on_mount.push(t)}function Fn(t){Ee().$$.on_destroy.push(t)}function Wn(){const t=Ee();return(e,l,{cancelable:n=!1}={})=>{const o=t.$$.callbacks[e];if(o){const r=An(e,l,{cancelable:n});return o.slice().forEach(i=>{i.call(t,r)}),!r.defaultPrevented}return!0}}function tt(t,e){return Ee().$$.context.set(t,e),e}function Ne(t){return Ee().$$.context.get(t)}const Se=[],wt=[];let Te=[];const vt=[],Yn=Promise.resolve();let ct=!1;function Qn(){ct||(ct=!0,Yn.then(pt))}function ye(t){Te.push(t)}const nt=new Set;let Oe=0;function pt(){if(Oe!==0)return;const t=Ie;do{try{for(;Oe<Se.length;){const e=Se[Oe];Oe++,me(e),Xn(e.$$)}}catch(e){throw Se.length=0,Oe=0,e}for(me(null),Se.length=0,Oe=0;wt.length;)wt.pop()();for(let e=0;e<Te.length;e+=1){const l=Te[e];nt.has(l)||(nt.add(l),l())}Te.length=0}while(Se.length);for(;vt.length;)vt.pop()();ct=!1,nt.clear(),me(t)}function Xn(t){if(t.fragment!==null){t.update(),le(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ye)}}function Zn(t){const e=[],l=[];Te.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),Te=e}let Re;function Nn(){return Re||(Re=Promise.resolve(),Re.then(()=>{Re=null})),Re}function Be(t,e,l){t.dispatchEvent(An(`${e?"intro":"outro"}${l}`))}const qe=new Set;let $e;function te(){$e={r:0,c:[],p:$e}}function ne(){$e.r||le($e.c),$e=$e.p}function L(t,e){t&&t.i&&(qe.delete(t),t.i(e))}function M(t,e,l,n){if(t&&t.o){if(qe.has(t))return;qe.add(t),$e.c.push(()=>{qe.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}const Tn={duration:0};function el(t,e,l){const n={direction:"in"};let o=e(t,l,n),r=!1,i,f,c=0;function u(){i&&st(t,i)}function s(){const{delay:d=0,duration:h=300,easing:m=$n,tick:A=D,css:O}=o||Tn;O&&(i=jn(t,0,1,h,d,m,O,c++)),A(0,1);const P=vn()+d,N=P+h;f&&f.abort(),r=!0,ye(()=>Be(t,!0,"start")),f=On(j=>{if(r){if(j>=N)return A(1,0),Be(t,!0,"end"),u(),r=!1;if(j>=P){const w=m((j-P)/h);A(w,1-w)}}return r})}let a=!1;return{start(){a||(a=!0,st(t),De(o)?(o=o(n),Nn().then(s)):s())},invalidate(){a=!1},end(){r&&(u(),r=!1)}}}function tl(t,e,l){const n={direction:"out"};let o=e(t,l,n),r=!0,i;const f=$e;f.r+=1;let c;function u(){const{delay:s=0,duration:a=300,easing:d=$n,tick:h=D,css:m}=o||Tn;m&&(i=jn(t,1,0,a,s,d,m));const A=vn()+s,O=A+a;ye(()=>Be(t,!1,"start")),"inert"in t&&(c=t.inert,t.inert=!0),On(P=>{if(r){if(P>=O)return h(0,1),Be(t,!1,"end"),--f.r||le(f.c),!1;if(P>=A){const N=d((P-A)/a);h(1-N,N)}}return r})}return De(o)?Nn().then(()=>{o=o(n),u()}):u(),{end(s){s&&"inert"in t&&(t.inert=c),s&&o.tick&&o.tick(1,0),r&&(i&&st(t,i),r=!1)}}}function Ct(t,e){const l=e.token={};function n(o,r,i,f){if(e.token!==l)return;e.resolved=f;let c=e.ctx;i!==void 0&&(c=c.slice(),c[i]=f);const u=o&&(e.current=o)(c);let s=!1;e.block&&(e.blocks?e.blocks.forEach((a,d)=>{d!==r&&a&&(te(),M(a,1,1,()=>{e.blocks[d]===a&&(e.blocks[d]=null)}),ne())}):e.block.d(1),u.c(),L(u,1),u.m(e.mount(),e.anchor),s=!0),e.block=u,e.blocks&&(e.blocks[r]=u),s&&pt()}if(Gn(t)){const o=Ee();if(t.then(r=>{me(o),n(e.then,1,e.value,r),me(null)},r=>{if(me(o),n(e.catch,2,e.error,r),me(null),!e.hasCatch)throw r}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,t),!0;e.resolved=t}}function nl(t,e,l){const n=e.slice(),{resolved:o}=t;t.current===t.then&&(n[t.value]=o),t.current===t.catch&&(n[t.error]=o),t.block.p(n,l)}function X(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function _t(t,e){M(t,1,1,()=>{e.delete(t.key)})}function ht(t,e,l,n,o,r,i,f,c,u,s,a){let d=t.length,h=r.length,m=d;const A={};for(;m--;)A[t[m].key]=m;const O=[],P=new Map,N=new Map,j=[];for(m=h;m--;){const I=a(o,r,m),k=l(I);let y=i.get(k);y?n&&j.push(()=>y.p(I,e)):(y=u(k,I),y.c()),P.set(k,O[m]=y),k in A&&N.set(k,Math.abs(m-A[k]))}const w=new Set,v=new Set;function R(I){L(I,1),I.m(f,s),i.set(I.key,I),s=I.first,h--}for(;d&&h;){const I=O[h-1],k=t[d-1],y=I.key,S=k.key;I===k?(s=I.first,d--,h--):P.has(S)?!i.has(y)||w.has(y)?R(I):v.has(S)?d--:N.get(y)>N.get(S)?(v.add(y),R(I)):(w.add(S),d--):(c(k,i),d--)}for(;d--;){const I=t[d];P.has(I.key)||c(I,i)}for(;h;)R(O[h-1]);return le(j),O}function ut(t,e){const l={},n={},o={$$scope:1};let r=t.length;for(;r--;){const i=t[r],f=e[r];if(f){for(const c in i)c in f||(n[c]=1);for(const c in f)o[c]||(l[c]=f[c],o[c]=1);t[r]=f}else for(const c in i)o[c]=1}for(const i in n)i in l||(l[i]=void 0);return l}function Ue(t){return typeof t=="object"&&t!==null?t:{}}function x(t){t&&t.c()}function q(t,e,l){const{fragment:n,after_update:o}=t.$$;n&&n.m(e,l),ye(()=>{const r=t.$$.on_mount.map(kn).filter(De);t.$$.on_destroy?t.$$.on_destroy.push(...r):le(r),t.$$.on_mount=[]}),o.forEach(ye)}function J(t,e){const l=t.$$;l.fragment!==null&&(Zn(l.after_update),le(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function ll(t,e){t.$$.dirty[0]===-1&&(Se.push(t),Qn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function fe(t,e,l,n,o,r,i=null,f=[-1]){const c=Ie;me(t);const u=t.$$={fragment:null,ctx:[],props:r,update:D,not_equal:o,bound:gt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:gt(),dirty:f,skip_bound:!1,root:e.target||c.$$.root};i&&i(u.root);let s=!1;if(u.ctx=l?l(t,e.props||{},(a,d,...h)=>{const m=h.length?h[0]:d;return u.ctx&&o(u.ctx[a],u.ctx[a]=m)&&(!u.skip_bound&&u.bound[a]&&u.bound[a](m),s&&ll(t,a)),d}):[],u.update(),s=!0,le(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const a=Kn(e.target);u.fragment&&u.fragment.l(a),a.forEach(b)}else u.fragment&&u.fragment.c();e.intro&&L(t.$$.fragment),q(t,e.target,e.anchor),pt()}me(c)}class ae{constructor(){et(this,"$$");et(this,"$$set")}$destroy(){J(this,1),this.$destroy=D}$on(e,l){if(!De(l))return D;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const o=n.indexOf(l);o!==-1&&n.splice(o,1)}}$set(e){this.$$set&&!Un(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ol="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ol);const ft={},Ve={},En={},Rn=/^:(.+)/,Ot=4,rl=3,il=2,sl=1,cl=1,Le=t=>t.replace(/(^\/+|\/+$)/g,"").split("/"),lt=t=>t.replace(/(^\/+|\/+$)/g,""),ul=(t,e)=>{const l=t.default?0:Le(t.path).reduce((n,o)=>(n+=Ot,o===""?n+=cl:Rn.test(o)?n+=il:o[0]==="*"?n-=Ot+sl:n+=rl,n),0);return{route:t,score:l,index:e}},fl=t=>t.map(ul).sort((e,l)=>e.score<l.score?1:e.score>l.score?-1:e.index-l.index),Pt=(t,e)=>{let l,n;const[o]=e.split("?"),r=Le(o),i=r[0]==="",f=fl(t);for(let c=0,u=f.length;c<u;c++){const s=f[c].route;let a=!1;if(s.default){n={route:s,params:{},uri:e};continue}const d=Le(s.path),h={},m=Math.max(r.length,d.length);let A=0;for(;A<m;A++){const O=d[A],P=r[A];if(O&&O[0]==="*"){const j=O==="*"?"*":O.slice(1);h[j]=r.slice(A).map(decodeURIComponent).join("/");break}if(typeof P>"u"){a=!0;break}const N=Rn.exec(O);if(N&&!i){const j=decodeURIComponent(P);h[N[1]]=j}else if(O!==P){a=!0;break}}if(!a){l={route:s,params:h,uri:"/"+r.slice(0,A).join("/")};break}}return l||n||null},ot=(t,e)=>t+(e?`?${e}`:""),al=(t,e)=>{if(t.startsWith("/"))return t;const[l,n]=t.split("?"),[o]=e.split("?"),r=Le(l),i=Le(o);if(r[0]==="")return ot(o,n);if(!r[0].startsWith(".")){const u=i.concat(r).join("/");return ot((o==="/"?"":"/")+u,n)}const f=i.concat(r),c=[];return f.forEach(u=>{u===".."?c.pop():u!=="."&&c.push(u)}),ot("/"+c.join("/"),n)},St=(t,e)=>`${lt(e==="/"?t:`${lt(t)}/${lt(e)}`)}/`,dl=t=>!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey),In=()=>typeof window<"u"&&"document"in window&&"location"in window,pl=t=>({active:t&4}),At=t=>({active:!!t[2]});function _l(t){let e,l,n,o;const r=t[17].default,i=ze(r,t,t[16],At);let f=[{href:t[0]},{"aria-current":t[2]},t[1],t[6]],c={};for(let u=0;u<f.length;u+=1)c=we(c,f[u]);return{c(){e=_("a"),i&&i.c(),kt(e,c)},m(u,s){g(u,e,s),i&&i.m(e,null),l=!0,n||(o=H(e,"click",t[5]),n=!0)},p(u,[s]){i&&i.p&&(!l||s&65540)&&We(i,r,u,u[16],l?Fe(r,u[16],s,pl):Ye(u[16]),At),kt(e,c=ut(f,[(!l||s&1)&&{href:u[0]},(!l||s&4)&&{"aria-current":u[2]},s&2&&u[1],s&64&&u[6]]))},i(u){l||(L(i,u),l=!0)},o(u){M(i,u),l=!1},d(u){u&&b(e),i&&i.d(u),n=!1,o()}}}function hl(t,e,l){let n;const o=["to","replace","state","getProps","preserveScroll"];let r=$t(e,o),i,f,{$$slots:c={},$$scope:u}=e,{to:s="#"}=e,{replace:a=!1}=e,{state:d={}}=e,{getProps:h=()=>({})}=e,{preserveScroll:m=!1}=e;const A=Ne(ft);ge(t,A,k=>l(14,i=k));const{base:O}=Ne(Ve);ge(t,O,k=>l(15,f=k));const{navigate:P}=Ne(En),N=Wn();let j,w,v,R;const I=k=>{if(N("click",k),dl(k)){k.preventDefault();const y=i.pathname===j||a;P(j,{state:d,replace:y,preserveScroll:m})}};return t.$$set=k=>{e=we(we({},e),it(k)),l(6,r=$t(e,o)),"to"in k&&l(7,s=k.to),"replace"in k&&l(8,a=k.replace),"state"in k&&l(9,d=k.state),"getProps"in k&&l(10,h=k.getProps),"preserveScroll"in k&&l(11,m=k.preserveScroll),"$$scope"in k&&l(16,u=k.$$scope)},t.$$.update=()=>{t.$$.dirty&32896&&l(0,j=s==="/"?f.uri:al(s,f.uri)),t.$$.dirty&16385&&l(12,w=i.pathname.startsWith(j)),t.$$.dirty&16385&&l(13,v=j===i.pathname),t.$$.dirty&8192&&l(2,n=v?"page":void 0),l(1,R=h({location:i,href:j,isPartiallyCurrent:w,isCurrent:v,existingProps:r}))},[j,R,n,A,O,I,r,s,a,d,h,m,w,v,i,f,u,c]}class ce extends ae{constructor(e){super(),fe(this,e,hl,_l,oe,{to:7,replace:8,state:9,getProps:10,preserveScroll:11})}}const ml=t=>({params:t&4}),jt=t=>({params:t[2]});function Nt(t){let e,l,n,o;const r=[gl,bl],i=[];function f(c,u){return c[0]?0:1}return e=f(t),l=i[e]=r[e](t),{c(){l.c(),n=re()},m(c,u){i[e].m(c,u),g(c,n,u),o=!0},p(c,u){let s=e;e=f(c),e===s?i[e].p(c,u):(te(),M(i[s],1,1,()=>{i[s]=null}),ne(),l=i[e],l?l.p(c,u):(l=i[e]=r[e](c),l.c()),L(l,1),l.m(n.parentNode,n))},i(c){o||(L(l),o=!0)},o(c){M(l),o=!1},d(c){c&&b(n),i[e].d(c)}}}function bl(t){let e;const l=t[8].default,n=ze(l,t,t[7],jt);return{c(){n&&n.c()},m(o,r){n&&n.m(o,r),e=!0},p(o,r){n&&n.p&&(!e||r&132)&&We(n,l,o,o[7],e?Fe(l,o[7],r,ml):Ye(o[7]),jt)},i(o){e||(L(n,o),e=!0)},o(o){M(n,o),e=!1},d(o){n&&n.d(o)}}}function gl(t){let e,l,n,o={ctx:t,current:null,token:null,hasCatch:!1,pending:yl,then:kl,catch:$l,value:12,blocks:[,,,]};return Ct(l=t[0],o),{c(){e=re(),o.block.c()},m(r,i){g(r,e,i),o.block.m(r,o.anchor=i),o.mount=()=>e.parentNode,o.anchor=e,n=!0},p(r,i){t=r,o.ctx=t,i&1&&l!==(l=t[0])&&Ct(l,o)||nl(o,t,i)},i(r){n||(L(o.block),n=!0)},o(r){for(let i=0;i<3;i+=1){const f=o.blocks[i];M(f)}n=!1},d(r){r&&b(e),o.block.d(r),o.token=null,o=null}}}function $l(t){return{c:D,m:D,p:D,i:D,o:D,d:D}}function kl(t){var f;let e,l,n;const o=[t[2],t[3]];var r=((f=t[12])==null?void 0:f.default)||t[12];function i(c,u){let s={};if(u!==void 0&&u&12)s=ut(o,[u&4&&Ue(c[2]),u&8&&Ue(c[3])]);else for(let a=0;a<o.length;a+=1)s=we(s,o[a]);return{props:s}}return r&&(e=yt(r,i(t))),{c(){e&&x(e.$$.fragment),l=re()},m(c,u){e&&q(e,c,u),g(c,l,u),n=!0},p(c,u){var s;if(u&1&&r!==(r=((s=c[12])==null?void 0:s.default)||c[12])){if(e){te();const a=e;M(a.$$.fragment,1,0,()=>{J(a,1)}),ne()}r?(e=yt(r,i(c,u)),x(e.$$.fragment),L(e.$$.fragment,1),q(e,l.parentNode,l)):e=null}else if(r){const a=u&12?ut(o,[u&4&&Ue(c[2]),u&8&&Ue(c[3])]):{};e.$set(a)}},i(c){n||(e&&L(e.$$.fragment,c),n=!0)},o(c){e&&M(e.$$.fragment,c),n=!1},d(c){c&&b(l),e&&J(e,c)}}}function yl(t){return{c:D,m:D,p:D,i:D,o:D,d:D}}function wl(t){let e,l,n=t[1]&&t[1].route===t[5]&&Nt(t);return{c(){n&&n.c(),e=re()},m(o,r){n&&n.m(o,r),g(o,e,r),l=!0},p(o,[r]){o[1]&&o[1].route===o[5]?n?(n.p(o,r),r&2&&L(n,1)):(n=Nt(o),n.c(),L(n,1),n.m(e.parentNode,e)):n&&(te(),M(n,1,1,()=>{n=null}),ne())},i(o){l||(L(n),l=!0)},o(o){M(n),l=!1},d(o){o&&b(e),n&&n.d(o)}}}function vl(t,e,l){let n,{$$slots:o={},$$scope:r}=e,{path:i=""}=e,{component:f=null}=e,c={},u={};const{registerRoute:s,unregisterRoute:a,activeRoute:d}=Ne(Ve);ge(t,d,m=>l(1,n=m));const h={path:i,default:i===""};return s(h),Fn(()=>{a(h)}),t.$$set=m=>{l(11,e=we(we({},e),it(m))),"path"in m&&l(6,i=m.path),"component"in m&&l(0,f=m.component),"$$scope"in m&&l(7,r=m.$$scope)},t.$$.update=()=>{if(n&&n.route===h){l(2,c=n.params);const{component:m,path:A,...O}=e;l(3,u=O),m&&(m.toString().startsWith("class ")?l(0,f=m):l(0,f=m())),In()&&!n.preserveScroll&&(window==null||window.scrollTo(0,0))}},e=it(e),[f,n,c,u,d,h,i,r,o]}class he extends ae{constructor(e){super(),fe(this,e,vl,wl,oe,{path:6,component:0})}}const Pe=[];function Cl(t,e){return{subscribe:Ae(t,e).subscribe}}function Ae(t,e=D){let l;const n=new Set;function o(f){if(oe(t,f)&&(t=f,l)){const c=!Pe.length;for(const u of n)u[1](),Pe.push(u,t);if(c){for(let u=0;u<Pe.length;u+=2)Pe[u][0](Pe[u+1]);Pe.length=0}}}function r(f){o(f(t))}function i(f,c=D){const u=[f,c];return n.add(u),n.size===1&&(l=e(o,r)||D),f(t),()=>{n.delete(u),n.size===0&&l&&(l(),l=null)}}return{set:o,update:r,subscribe:i}}function Ol(t,e,l){const n=!Array.isArray(t),o=n?[t]:t;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Cl(l,(i,f)=>{let c=!1;const u=[];let s=0,a=D;const d=()=>{if(s)return;a();const m=e(n?u[0]:u,i,f);r?i(m):a=De(m)?m:D},h=o.map((m,A)=>at(m,O=>{u[A]=O,s&=~(1<<A),c&&d()},()=>{s|=1<<A}));return c=!0,d(),function(){le(h),a(),c=!1}})}const rt=t=>({...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}),Pl=t=>{const e=[];let l=rt(t);return{get location(){return l},listen(n){e.push(n);const o=()=>{l=rt(t),n({location:l,action:"POP"})};return t.addEventListener("popstate",o),()=>{t.removeEventListener("popstate",o);const r=e.indexOf(n);e.splice(r,1)}},navigate(n,{state:o,replace:r=!1,preserveScroll:i=!1}={}){o={...o,key:Date.now()+""};try{r?t.history.replaceState(o,"",n):t.history.pushState(o,"",n)}catch{t.location[r?"replace":"assign"](n)}l=rt(t),e.forEach(f=>f({location:l,action:"PUSH",preserveScroll:i})),document.activeElement.blur()}}},Sl=(t="/")=>{let e=0;const l=[{pathname:t,search:""}],n=[];return{get location(){return l[e]},addEventListener(o,r){},removeEventListener(o,r){},history:{get entries(){return l},get index(){return e},get state(){return n[e]},pushState(o,r,i){const[f,c=""]=i.split("?");e++,l.push({pathname:f,search:c}),n.push(o)},replaceState(o,r,i){const[f,c=""]=i.split("?");l[e]={pathname:f,search:c},n[e]=o}}}},Ln=Pl(In()?window:Sl()),{navigate:Me}=Ln,Al=t=>({route:t&4,location:t&2}),Tt=t=>({route:t[2]&&t[2].uri,location:t[1]}),jl=t=>({route:t&4,location:t&2}),Et=t=>({route:t[2]&&t[2].uri,location:t[1]});function Nl(t){let e;const l=t[15].default,n=ze(l,t,t[14],Tt);return{c(){n&&n.c()},m(o,r){n&&n.m(o,r),e=!0},p(o,r){n&&n.p&&(!e||r&16390)&&We(n,l,o,o[14],e?Fe(l,o[14],r,Al):Ye(o[14]),Tt)},i(o){e||(L(n,o),e=!0)},o(o){M(n,o),e=!1},d(o){n&&n.d(o)}}}function Tl(t){let e=t[1].pathname,l,n,o=Rt(t);return{c(){o.c(),l=re()},m(r,i){o.m(r,i),g(r,l,i),n=!0},p(r,i){i&2&&oe(e,e=r[1].pathname)?(te(),M(o,1,1,D),ne(),o=Rt(r),o.c(),L(o,1),o.m(l.parentNode,l)):o.p(r,i)},i(r){n||(L(o),n=!0)},o(r){M(o),n=!1},d(r){r&&b(l),o.d(r)}}}function Rt(t){let e,l,n,o;const r=t[15].default,i=ze(r,t,t[14],Et);return{c(){e=_("div"),i&&i.c()},m(f,c){g(f,e,c),i&&i.m(e,null),o=!0},p(f,c){i&&i.p&&(!o||c&16390)&&We(i,r,f,f[14],o?Fe(r,f[14],c,jl):Ye(f[14]),Et)},i(f){o||(L(i,f),f&&ye(()=>{o&&(n&&n.end(1),l=el(e,t[3],{}),l.start())}),o=!0)},o(f){M(i,f),l&&l.invalidate(),f&&(n=tl(e,t[3],{})),o=!1},d(f){f&&b(e),i&&i.d(f),f&&n&&n.end()}}}function El(t){let e,l,n,o;const r=[Tl,Nl],i=[];function f(c,u){return c[0]?0:1}return e=f(t),l=i[e]=r[e](t),{c(){l.c(),n=re()},m(c,u){i[e].m(c,u),g(c,n,u),o=!0},p(c,[u]){let s=e;e=f(c),e===s?i[e].p(c,u):(te(),M(i[s],1,1,()=>{i[s]=null}),ne(),l=i[e],l?l.p(c,u):(l=i[e]=r[e](c),l.c()),L(l,1),l.m(n.parentNode,n))},i(c){o||(L(l),o=!0)},o(c){M(l),o=!1},d(c){c&&b(n),i[e].d(c)}}}function Rl(t,e,l){let n,o,r,i,{$$slots:f={},$$scope:c}=e,{basepath:u="/"}=e,{url:s=null}=e,{viewtransition:a=null}=e,{history:d=Ln}=e;const h=(y,S,E)=>{const T=a(E);return typeof(T==null?void 0:T.fn)=="function"?T.fn(y,T):T};tt(En,d);const m=Ne(ft),A=Ne(Ve),O=Ae([]);ge(t,O,y=>l(12,o=y));const P=Ae(null);ge(t,P,y=>l(2,i=y));let N=!1;const j=m||Ae(s?{pathname:s}:d.location);ge(t,j,y=>l(1,n=y));const w=A?A.routerBase:Ae({path:u,uri:u});ge(t,w,y=>l(13,r=y));const v=Ol([w,P],([y,S])=>{if(!S)return y;const{path:E}=y,{route:T,uri:U}=S;return{path:T.default?E:T.path.replace(/\*.*$/,""),uri:U}}),R=y=>{const{path:S}=r;let{path:E}=y;if(y._path=E,y.path=St(S,E),typeof window>"u"){if(N)return;const T=Pt([y],n.pathname);T&&(P.set(T),N=!0)}else O.update(T=>[...T,y])},I=y=>{O.update(S=>S.filter(E=>E!==y))};let k=!1;return m||(de(()=>d.listen(S=>{l(11,k=S.preserveScroll||!1),j.set(S.location)})),tt(ft,j)),tt(Ve,{activeRoute:P,base:w,routerBase:v,registerRoute:R,unregisterRoute:I}),t.$$set=y=>{"basepath"in y&&l(8,u=y.basepath),"url"in y&&l(9,s=y.url),"viewtransition"in y&&l(0,a=y.viewtransition),"history"in y&&l(10,d=y.history),"$$scope"in y&&l(14,c=y.$$scope)},t.$$.update=()=>{if(t.$$.dirty&8192){const{path:y}=r;O.update(S=>S.map(E=>Object.assign(E,{path:St(y,E._path)})))}if(t.$$.dirty&6146){const y=Pt(o,n.pathname);P.set(y&&{...y,preserveScroll:k})}},[a,n,i,h,O,P,j,w,u,s,d,k,o,r,c,f]}class Il extends ae{constructor(e){super(),fe(this,e,Rl,El,oe,{basepath:8,url:9,viewtransition:0,history:10})}}function Xe(t){function e(n){return n.replace(/([.*+?\^$(){}|\[\]\/\\])/g,"\\$1")}var l=document.cookie.match(RegExp("(?:^|;\\s*)"+e(t)+"=([^;]*)"));return l?l[1]:null}const ue=Ae(null);async function Ll(t){return await(await fetch("http://localhost:8000/api/usergroups/"+t,{method:"GET",credentials:"include",headers:{"Access-Control-Allow-Origin":"http://localhost:8000"}})).json()}const z="http://localhost:8000";function Ml(t){let e;return{c(){e=_("b"),e.textContent="Home",$(e,"class","mr-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(l,n){g(l,e,n)},p:D,d(l){l&&b(e)}}}function Dl(t){let e;return{c(){e=_("b"),e.textContent="Groups",$(e,"class","mr-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(l,n){g(l,e,n)},p:D,d(l){l&&b(e)}}}function Gl(t){let e;return{c(){e=_("b"),e.textContent="Profiles",$(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(l,n){g(l,e,n)},p:D,d(l){l&&b(e)}}}function Ul(t){let e,l,n,o;return e=new ce({props:{to:"/login",$$slots:{default:[Jl]},$$scope:{ctx:t}}}),n=new ce({props:{to:"/register",$$slots:{default:[xl]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),l=C(),x(n.$$.fragment)},m(r,i){q(e,r,i),g(r,l,i),q(n,r,i),o=!0},p(r,i){const f={};i&4&&(f.$$scope={dirty:i,ctx:r}),e.$set(f);const c={};i&4&&(c.$$scope={dirty:i,ctx:r}),n.$set(c)},i(r){o||(L(e.$$.fragment,r),L(n.$$.fragment,r),o=!0)},o(r){M(e.$$.fragment,r),M(n.$$.fragment,r),o=!1},d(r){r&&b(l),J(e,r),J(n,r)}}}function ql(t){let e,l,n,o;return e=new ce({props:{to:"/profile/"+t[0].uid,$$slots:{default:[Hl]},$$scope:{ctx:t}}}),n=new ce({props:{to:"/logout",$$slots:{default:[Kl]},$$scope:{ctx:t}}}),n.$on("click",t[1]),{c(){x(e.$$.fragment),l=C(),x(n.$$.fragment)},m(r,i){q(e,r,i),g(r,l,i),q(n,r,i),o=!0},p(r,i){const f={};i&1&&(f.to="/profile/"+r[0].uid),i&4&&(f.$$scope={dirty:i,ctx:r}),e.$set(f);const c={};i&4&&(c.$$scope={dirty:i,ctx:r}),n.$set(c)},i(r){o||(L(e.$$.fragment,r),L(n.$$.fragment,r),o=!0)},o(r){M(e.$$.fragment,r),M(n.$$.fragment,r),o=!1},d(r){r&&b(l),J(e,r),J(n,r)}}}function Jl(t){let e;return{c(){e=_("b"),e.textContent="Log in",$(e,"class","mr-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(l,n){g(l,e,n)},p:D,d(l){l&&b(e)}}}function xl(t){let e;return{c(){e=_("b"),e.textContent="Register",$(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(l,n){g(l,e,n)},p:D,d(l){l&&b(e)}}}function Hl(t){let e;return{c(){e=_("b"),e.textContent="Profile",$(e,"class","mr-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(l,n){g(l,e,n)},p:D,d(l){l&&b(e)}}}function Kl(t){let e;return{c(){e=_("b"),e.textContent="Logout",$(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(l,n){g(l,e,n)},p:D,d(l){l&&b(e)}}}function Bl(t){let e,l,n,o,r,i,f,c,u,s,a,d;n=new ce({props:{to:"/",$$slots:{default:[Ml]},$$scope:{ctx:t}}}),r=new ce({props:{to:"/groups",$$slots:{default:[Dl]},$$scope:{ctx:t}}}),f=new ce({props:{to:"/profiles",$$slots:{default:[Gl]},$$scope:{ctx:t}}});const h=[ql,Ul],m=[];function A(O,P){return O[0]?0:1}return s=A(t),a=m[s]=h[s](t),{c(){e=_("div"),l=_("div"),x(n.$$.fragment),o=C(),x(r.$$.fragment),i=C(),x(f.$$.fragment),c=C(),u=_("div"),a.c(),$(l,"class","order-1"),$(u,"class","order-2"),$(e,"class","flex justify-between bg-[#a6f3d9] p-4")},m(O,P){g(O,e,P),p(e,l),q(n,l,null),p(l,o),q(r,l,null),p(l,i),q(f,l,null),p(e,c),p(e,u),m[s].m(u,null),d=!0},p(O,[P]){const N={};P&4&&(N.$$scope={dirty:P,ctx:O}),n.$set(N);const j={};P&4&&(j.$$scope={dirty:P,ctx:O}),r.$set(j);const w={};P&4&&(w.$$scope={dirty:P,ctx:O}),f.$set(w);let v=s;s=A(O),s===v?m[s].p(O,P):(te(),M(m[v],1,1,()=>{m[v]=null}),ne(),a=m[s],a?a.p(O,P):(a=m[s]=h[s](O),a.c()),L(a,1),a.m(u,null))},i(O){d||(L(n.$$.fragment,O),L(r.$$.fragment,O),L(f.$$.fragment,O),L(a),d=!0)},o(O){M(n.$$.fragment,O),M(r.$$.fragment,O),M(f.$$.fragment,O),M(a),d=!1},d(O){O&&b(e),J(n),J(r),J(f),m[s].d()}}}function Vl(t,e,l){let{user:n}=e;async function o(){try{(await fetch(`${z}/api/logout`,{method:"GET",credentials:"include",headers:{"Access-Control-Allow-Origin":`${z}`}})).ok?(console.log("Logged out."),Me("/",{replace:!0})):console.log("Logout failed.")}catch{console.log("Error logging out.")}}return t.$$set=r=>{"user"in r&&l(0,n=r.user)},[n,o]}class be extends ae{constructor(e){super(),fe(this,e,Vl,Bl,oe,{user:0})}}function It(t){let e,l,n=t[0].name+"",o,r,i=t[0].uid+"",f;return{c(){e=_("p"),l=K("Logged in as "),o=K(n),r=C(),f=K(i)},m(c,u){g(c,e,u),p(e,l),p(e,o),p(e,r),p(e,f)},p(c,u){u&1&&n!==(n=c[0].name+"")&&Y(o,n),u&1&&i!==(i=c[0].uid+"")&&Y(f,i)},d(c){c&&b(e)}}}function zl(t){let e,l,n,o,r,i;e=new be({props:{user:t[0]}});let f=t[0]&&It(t);return{c(){x(e.$$.fragment),l=C(),n=_("div"),o=_("p"),o.textContent="Welcome to the Home Page",r=C(),f&&f.c(),$(o,"class","text-4xl text-gray-900 font-extralight dark:text-gray-900")},m(c,u){q(e,c,u),g(c,l,u),g(c,n,u),p(n,o),p(n,r),f&&f.m(n,null),i=!0},p(c,[u]){const s={};u&1&&(s.user=c[0]),e.$set(s),c[0]?f?f.p(c,u):(f=It(c),f.c(),f.m(n,null)):f&&(f.d(1),f=null)},i(c){i||(L(e.$$.fragment,c),i=!0)},o(c){M(e.$$.fragment,c),i=!1},d(c){c&&(b(l),b(n)),J(e,c),f&&f.d()}}}function Fl(t,e,l){let n;return de(()=>{Xe("SID")?l(0,n=ke(ue)):ue.set(null)}),[n]}class Wl extends ae{constructor(e){super(),fe(this,e,Fl,zl,oe,{})}}function Yl(t){let e;return{c(){e=K("Register")},m(l,n){g(l,e,n)},d(l){l&&b(e)}}}function Ql(t){let e,l,n,o,r,i,f,c,u,s,a,d,h,m,A,O,P,N,j,w,v,R,I;return e=new be({props:{user:t[2]}}),j=new ce({props:{to:"/register",$$slots:{default:[Yl]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),l=C(),n=_("div"),o=_("h1"),o.textContent="Login",r=C(),i=_("form"),f=_("label"),f.textContent="Username:",c=C(),u=_("input"),s=C(),a=_("label"),a.textContent="Password:",d=C(),h=_("input"),m=C(),A=_("button"),A.textContent="Login",O=C(),P=_("p"),N=K("Don't have an account yet? "),x(j.$$.fragment),w=K("."),$(f,"for","username"),$(u,"type","text"),$(u,"id","username"),$(a,"for","password"),$(h,"type","password"),$(h,"id","password"),$(A,"type","submit"),$(A,"class","dark:bg-green-500 bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded")},m(k,y){q(e,k,y),g(k,l,y),g(k,n,y),p(n,o),p(n,r),p(n,i),p(i,f),p(i,c),p(i,u),Q(u,t[0]),p(i,s),p(i,a),p(i,d),p(i,h),Q(h,t[1]),p(i,m),p(i,A),p(n,O),p(n,P),p(P,N),q(j,P,null),p(P,w),v=!0,R||(I=[H(u,"input",t[4]),H(h,"input",t[5]),H(i,"submit",Qe(t[3]))],R=!0)},p(k,[y]){const S={};y&4&&(S.user=k[2]),e.$set(S),y&1&&u.value!==k[0]&&Q(u,k[0]),y&2&&h.value!==k[1]&&Q(h,k[1]);const E={};y&64&&(E.$$scope={dirty:y,ctx:k}),j.$set(E)},i(k){v||(L(e.$$.fragment,k),L(j.$$.fragment,k),v=!0)},o(k){M(e.$$.fragment,k),M(j.$$.fragment,k),v=!1},d(k){k&&(b(l),b(n)),J(e,k),J(j),R=!1,le(I)}}}function Xl(t,e,l){let n="",o="",r;de(()=>{l(2,r=Xe("SID")),r&&(console.log("Already logged in."),Me("/",{replace:!0}))});async function i(){let u;try{console.log("Logging in...");const s=await fetch(`${z}/api/login`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":`${z}`},body:JSON.stringify({name:n,pw:o})});s.ok?(console.log("OK."),u=await s.json()):console.log("Login failed.")}catch(s){console.error("Error during fetch:",s)}u&&(ue.set({name:n,uid:u.uid}),Me("/",{replace:!0}))}function f(){n=this.value,l(0,n)}function c(){o=this.value,l(1,o)}return[n,o,r,i,f,c]}class Zl extends ae{constructor(e){super(),fe(this,e,Xl,Ql,oe,{})}}function eo(t){let e;return{c(){e=K("Login")},m(l,n){g(l,e,n)},d(l){l&&b(e)}}}function to(t){let e,l,n,o,r,i,f,c,u,s,a,d,h,m,A,O,P,N,j,w,v,R,I;return e=new be({props:{user:t[2]}}),j=new ce({props:{to:"/login",$$slots:{default:[eo]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),l=C(),n=_("div"),o=_("h1"),o.textContent="Register",r=C(),i=_("form"),f=_("label"),f.textContent="Username:",c=C(),u=_("input"),s=C(),a=_("label"),a.textContent="Password:",d=C(),h=_("input"),m=C(),A=_("button"),A.textContent="Register",O=C(),P=_("p"),N=K("Already have an account? "),x(j.$$.fragment),w=K("."),$(f,"for","username"),$(u,"type","text"),$(u,"id","username"),$(a,"for","password"),$(h,"type","password"),$(h,"id","password"),$(A,"type","submit"),$(A,"class","bg-green-500 dark:bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded")},m(k,y){q(e,k,y),g(k,l,y),g(k,n,y),p(n,o),p(n,r),p(n,i),p(i,f),p(i,c),p(i,u),Q(u,t[0]),p(i,s),p(i,a),p(i,d),p(i,h),Q(h,t[1]),p(i,m),p(i,A),p(n,O),p(n,P),p(P,N),q(j,P,null),p(P,w),v=!0,R||(I=[H(u,"input",t[4]),H(h,"input",t[5]),H(i,"submit",Qe(t[3]))],R=!0)},p(k,[y]){const S={};y&4&&(S.user=k[2]),e.$set(S),y&1&&u.value!==k[0]&&Q(u,k[0]),y&2&&h.value!==k[1]&&Q(h,k[1]);const E={};y&64&&(E.$$scope={dirty:y,ctx:k}),j.$set(E)},i(k){v||(L(e.$$.fragment,k),L(j.$$.fragment,k),v=!0)},o(k){M(e.$$.fragment,k),M(j.$$.fragment,k),v=!1},d(k){k&&(b(l),b(n)),J(e,k),J(j),R=!1,le(I)}}}function no(t,e,l){let n="",o="",r;de(()=>{l(2,r=Xe("SID")),r&&(console.log("Already logged in."),Me("/",{replace:!0}))});async function i(){let u;try{console.log("Registering...");const s=await fetch(`${z}/api/register`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":`${z}`},body:JSON.stringify({name:n,pw:o})});s.ok?(console.log("OK."),u=await s.json()):console.log("Register failed.")}catch(s){console.error("Error during fetch:",s)}u&&(ue.set({name:n,uid:u.uid}),Me("/",{replace:!0}))}function f(){n=this.value,l(0,n)}function c(){o=this.value,l(1,o)}return[n,o,r,i,f,c]}class lo extends ae{constructor(e){super(),fe(this,e,no,to,oe,{})}}function Lt(t,e,l){const n=t.slice();return n[3]=e[l],n}function oo(t){let e;return{c(){e=_("p"),e.textContent="No profiles to show."},m(l,n){g(l,e,n)},p:D,i:D,o:D,d(l){l&&b(e)}}}function ro(t){let e,l,n,o,r,i,f,c,u=X(t[0]),s=[];for(let d=0;d<u.length;d+=1)s[d]=Mt(Lt(t,u,d));const a=d=>M(s[d],1,1,()=>{s[d]=null});return{c(){e=_("div"),e.textContent="Profiles",l=C(),n=_("div"),o=_("table"),r=_("thead"),r.innerHTML='<tr><th class="py-2 px-4 border-b text-center">Username</th> <th class="py-2 px-4 border-b text-center">Profile Description</th></tr>',i=C(),f=_("tbody");for(let d=0;d<s.length;d+=1)s[d].c();$(e,"class","text-center my-4 text-2xl font-bold"),$(o,"class","min-w-full bg-white border border-gray-300"),$(n,"class","overflow-x-auto")},m(d,h){g(d,e,h),g(d,l,h),g(d,n,h),p(n,o),p(o,r),p(o,i),p(o,f);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(f,null);c=!0},p(d,h){if(h&1){u=X(d[0]);let m;for(m=0;m<u.length;m+=1){const A=Lt(d,u,m);s[m]?(s[m].p(A,h),L(s[m],1)):(s[m]=Mt(A),s[m].c(),L(s[m],1),s[m].m(f,null))}for(te(),m=u.length;m<s.length;m+=1)a(m);ne()}},i(d){if(!c){for(let h=0;h<u.length;h+=1)L(s[h]);c=!0}},o(d){s=s.filter(Boolean);for(let h=0;h<s.length;h+=1)M(s[h]);c=!1},d(d){d&&(b(e),b(l),b(n)),ve(s,d)}}}function io(t){let e=t[3].name+"",l;return{c(){l=K(e)},m(n,o){g(n,l,o)},p(n,o){o&1&&e!==(e=n[3].name+"")&&Y(l,e)},d(n){n&&b(l)}}}function Mt(t){let e,l,n,o,r,i=t[3].profile_desc+"",f,c,u;return n=new ce({props:{to:"/profile/"+t[3].id,$$slots:{default:[io]},$$scope:{ctx:t}}}),{c(){e=_("tr"),l=_("td"),x(n.$$.fragment),o=C(),r=_("td"),f=K(i),c=C(),$(l,"class","py-2 px-4 border-b text-center"),$(r,"class","py-2 px-4 border-b text-center"),$(e,"class","hover:bg-gray-100")},m(s,a){g(s,e,a),p(e,l),q(n,l,null),p(e,o),p(e,r),p(r,f),p(e,c),u=!0},p(s,a){const d={};a&1&&(d.to="/profile/"+s[3].id),a&65&&(d.$$scope={dirty:a,ctx:s}),n.$set(d),(!u||a&1)&&i!==(i=s[3].profile_desc+"")&&Y(f,i)},i(s){u||(L(n.$$.fragment,s),u=!0)},o(s){M(n.$$.fragment,s),u=!1},d(s){s&&b(e),J(n)}}}function so(t){let e,l,n,o,r,i;e=new be({props:{user:t[1]}});const f=[ro,oo],c=[];function u(s,a){return s[0].length>0?0:1}return o=u(t),r=c[o]=f[o](t),{c(){x(e.$$.fragment),l=C(),n=_("div"),r.c()},m(s,a){q(e,s,a),g(s,l,a),g(s,n,a),c[o].m(n,null),i=!0},p(s,[a]){const d={};a&2&&(d.user=s[1]),e.$set(d);let h=o;o=u(s),o===h?c[o].p(s,a):(te(),M(c[h],1,1,()=>{c[h]=null}),ne(),r=c[o],r?r.p(s,a):(r=c[o]=f[o](s),r.c()),L(r,1),r.m(n,null))},i(s){i||(L(e.$$.fragment,s),L(r),i=!0)},o(s){M(e.$$.fragment,s),M(r),i=!1},d(s){s&&(b(l),b(n)),J(e,s),c[o].d()}}}function co(t,e,l){let n=[],o="";de(()=>{r(),l(1,o=ke(ue))});async function r(){fetch(`${z}/api/profiles`,{method:"GET"}).then(i=>i.json()).then(i=>{l(0,n=i)})}return[n,o]}class uo extends ae{constructor(e){super(),fe(this,e,co,so,oe,{})}}function Dt(t,e,l){const n=t.slice();return n[18]=e[l],n}function Gt(t,e,l){const n=t.slice();return n[21]=e[l],n}function fo(t){let e,l,n=t[1].name+"",o,r,i,f,c,u,s,a,d,h=t[1].name+"",m,A,O,P,N,j,w=t[1].profile_img_path&&Ut(t);function v(T,U){return T[1].profile_desc===null?ho:_o}let R=v(t),I=R(t),k=t[2]&&qt(t);const y=[bo,mo],S=[];function E(T,U){return T[1].groups.length===0?0:1}return P=E(t),N=S[P]=y[P](t),{c(){e=_("div"),l=_("h1"),o=K(n),r=K("'s profile"),i=C(),f=_("br"),c=C(),w&&w.c(),u=C(),I.c(),s=C(),k&&k.c(),a=C(),d=_("h2"),m=K(h),A=K("'s groups"),O=C(),N.c(),$(l,"class","text-4xl font-bold text-gray-900 dark:text-gray-500")},m(T,U){g(T,e,U),p(e,l),p(l,o),p(l,r),p(e,i),p(e,f),p(e,c),w&&w.m(e,null),p(e,u),I.m(e,null),p(e,s),k&&k.m(e,null),p(e,a),p(e,d),p(d,m),p(d,A),p(e,O),S[P].m(e,null),j=!0},p(T,U){(!j||U&2)&&n!==(n=T[1].name+"")&&Y(o,n),T[1].profile_img_path?w?w.p(T,U):(w=Ut(T),w.c(),w.m(e,u)):w&&(w.d(1),w=null),R===(R=v(T))&&I?I.p(T,U):(I.d(1),I=R(T),I&&(I.c(),I.m(e,s))),T[2]?k?k.p(T,U):(k=qt(T),k.c(),k.m(e,a)):k&&(k.d(1),k=null),(!j||U&2)&&h!==(h=T[1].name+"")&&Y(m,h);let W=P;P=E(T),P===W?S[P].p(T,U):(te(),M(S[W],1,1,()=>{S[W]=null}),ne(),N=S[P],N?N.p(T,U):(N=S[P]=y[P](T),N.c()),L(N,1),N.m(e,null))},i(T){j||(L(N),j=!0)},o(T){M(N),j=!1},d(T){T&&b(e),w&&w.d(),I.d(),k&&k.d(),S[P].d()}}}function ao(t){let e;function l(r,i){return r[1].visibility==2?ko:$o}let n=l(t),o=n(t);return{c(){o.c(),e=re()},m(r,i){o.m(r,i),g(r,e,i)},p(r,i){n!==(n=l(r))&&(o.d(1),o=n(r),o&&(o.c(),o.m(e.parentNode,e)))},i:D,o:D,d(r){r&&b(e),o.d(r)}}}function po(t){let e;return{c(){e=_("p"),e.textContent="Loading..."},m(l,n){g(l,e,n)},p:D,i:D,o:D,d(l){l&&b(e)}}}function Ut(t){let e,l;return{c(){e=_("img"),$(e,"id","userImage"),Je(e.src,l=t[7]+"/api/profile/"+t[1].id+"/image/"+t[1].profile_img_path)||$(e,"src",l),$(e,"alt","User img"),$(e,"crossorigin","use-credentials")},m(n,o){g(n,e,o)},p(n,o){o&2&&!Je(e.src,l=n[7]+"/api/profile/"+n[1].id+"/image/"+n[1].profile_img_path)&&$(e,"src",l)},d(n){n&&b(e)}}}function _o(t){let e,l=t[1].profile_desc+"",n;return{c(){e=_("p"),n=K(l)},m(o,r){g(o,e,r),p(e,n)},p(o,r){r&2&&l!==(l=o[1].profile_desc+"")&&Y(n,l)},d(o){o&&b(e)}}}function ho(t){let e;return{c(){e=_("p"),e.textContent="No profile description."},m(l,n){g(l,e,n)},p:D,d(l){l&&b(e)}}}function qt(t){let e,l,n,o,r,i=t[3]&&Jt(t);return{c(){e=_("button"),e.textContent="Edit Profile",l=C(),i&&i.c(),n=re(),$(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(f,c){g(f,e,c),g(f,l,c),i&&i.m(f,c),g(f,n,c),o||(r=H(e,"click",t[12]),o=!0)},p(f,c){f[3]?i?i.p(f,c):(i=Jt(f),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(f){f&&(b(e),b(l),b(n)),i&&i.d(f),o=!1,r()}}}function Jt(t){let e,l,n,o,r,i,f,c,u,s,a,d,h,m,A,O,P,N,j,w,v,R,I,k,y,S,E,T,U,W,_e,pe,se,Z,V,F,Ze,mt,Ce=X(t[6]),ie=[];for(let G=0;G<Ce.length;G+=1)ie[G]=xt(Gt(t,Ce,G));return{c(){e=_("br"),l=C(),n=_("label"),n.textContent="Profile Description:",o=C(),r=_("input"),i=C(),f=_("button"),f.textContent="Save",c=C(),u=_("br"),s=C(),a=_("br"),d=C(),h=_("label"),h.textContent="Profile Image:",m=C(),A=_("input"),O=C(),P=_("br"),N=C(),j=_("br"),w=C(),v=_("button"),v.textContent="Edit Profile Image",R=C(),I=_("br"),k=C(),y=_("br"),S=C(),E=_("form"),T=_("select");for(let G=0;G<ie.length;G+=1)ie[G].c();U=C(),W=_("br"),_e=C(),pe=_("button"),pe.textContent="Edit Profile Visibility",se=C(),Z=_("br"),V=C(),F=_("button"),F.textContent="Cancel Profile Edit",$(n,"for","profileDesc"),$(r,"type","text"),$(r,"class","backdrop-blur-3xl"),$(f,"class","bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"),$(h,"for","profileImg"),$(A,"type","file"),$(A,"id","profileImg"),$(A,"name","profileImg"),$(A,"accept","image/png, image/jpeg"),$(A,"class","backdrop-blur-3xl"),$(v,"class","bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"),t[4]===void 0&&ye(()=>t[14].call(T)),$(pe,"type","submit"),$(pe,"class","bg-green-500 dark:bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"),$(F,"class","bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded")},m(G,B){g(G,e,B),g(G,l,B),g(G,n,B),g(G,o,B),g(G,r,B),Q(r,t[1].profile_desc),g(G,i,B),g(G,f,B),g(G,c,B),g(G,u,B),g(G,s,B),g(G,a,B),g(G,d,B),g(G,h,B),g(G,m,B),g(G,A,B),g(G,O,B),g(G,P,B),g(G,N,B),g(G,j,B),g(G,w,B),g(G,v,B),g(G,R,B),g(G,I,B),g(G,k,B),g(G,y,B),g(G,S,B),g(G,E,B),p(E,T);for(let ee=0;ee<ie.length;ee+=1)ie[ee]&&ie[ee].m(T,null);xe(T,t[4],!0),p(E,U),p(E,W),p(E,_e),p(E,pe),g(G,se,B),g(G,Z,B),g(G,V,B),g(G,F,B),Ze||(mt=[H(r,"input",t[13]),H(f,"click",t[8]),H(v,"click",t[9]),H(T,"change",t[14]),H(E,"submit",Qe(t[10])),H(F,"click",t[15])],Ze=!0)},p(G,B){if(B&2&&r.value!==G[1].profile_desc&&Q(r,G[1].profile_desc),B&64){Ce=X(G[6]);let ee;for(ee=0;ee<Ce.length;ee+=1){const bt=Gt(G,Ce,ee);ie[ee]?ie[ee].p(bt,B):(ie[ee]=xt(bt),ie[ee].c(),ie[ee].m(T,null))}for(;ee<ie.length;ee+=1)ie[ee].d(1);ie.length=Ce.length}B&80&&xe(T,G[4])},d(G){G&&(b(e),b(l),b(n),b(o),b(r),b(i),b(f),b(c),b(u),b(s),b(a),b(d),b(h),b(m),b(A),b(O),b(P),b(N),b(j),b(w),b(v),b(R),b(I),b(k),b(y),b(S),b(E),b(se),b(Z),b(V),b(F)),ve(ie,G),Ze=!1,le(mt)}}}function xt(t){let e,l=t[21].visibility+"",n;return{c(){e=_("option"),n=K(l),e.__value=t[21],Q(e,e.__value)},m(o,r){g(o,e,r),p(e,n)},p:D,d(o){o&&b(e)}}}function mo(t){let e,l,n,o,r=[],i=new Map,f,c=X(t[1].groups);const u=s=>s[18].id;for(let s=0;s<c.length;s+=1){let a=Dt(t,c,s),d=u(a);i.set(d,r[s]=Ht(d,a))}return{c(){e=_("table"),l=_("thead"),l.innerHTML="<tr><th>Group Name</th></tr>",n=C(),o=_("tbody");for(let s=0;s<r.length;s+=1)r[s].c()},m(s,a){g(s,e,a),p(e,l),p(e,n),p(e,o);for(let d=0;d<r.length;d+=1)r[d]&&r[d].m(o,null);f=!0},p(s,a){a&2&&(c=X(s[1].groups),te(),r=ht(r,a,u,1,s,c,i,o,_t,Ht,null,Dt),ne())},i(s){if(!f){for(let a=0;a<c.length;a+=1)L(r[a]);f=!0}},o(s){for(let a=0;a<r.length;a+=1)M(r[a]);f=!1},d(s){s&&b(e);for(let a=0;a<r.length;a+=1)r[a].d()}}}function bo(t){let e;return{c(){e=_("p"),e.textContent="No groups."},m(l,n){g(l,e,n)},p:D,i:D,o:D,d(l){l&&b(e)}}}function go(t){let e=t[18].name+"",l;return{c(){l=K(e)},m(n,o){g(n,l,o)},p(n,o){o&2&&e!==(e=n[18].name+"")&&Y(l,e)},d(n){n&&b(l)}}}function Ht(t,e){let l,n,o,r,i;return o=new ce({props:{to:`group/${e[18].id}`,$$slots:{default:[go]},$$scope:{ctx:e}}}),{key:t,first:null,c(){l=_("tr"),n=_("td"),x(o.$$.fragment),r=C(),this.first=l},m(f,c){g(f,l,c),p(l,n),q(o,n,null),p(l,r),i=!0},p(f,c){e=f;const u={};c&2&&(u.to=`group/${e[18].id}`),c&16777218&&(u.$$scope={dirty:c,ctx:e}),o.$set(u)},i(f){i||(L(o.$$.fragment,f),i=!0)},o(f){M(o.$$.fragment,f),i=!1},d(f){f&&b(l),J(o)}}}function $o(t){let e;return{c(){e=_("p"),e.textContent="Profile not visible, because you are not in any of the groups this user is in."},m(l,n){g(l,e,n)},d(l){l&&b(e)}}}function ko(t){let e;return{c(){e=_("p"),e.textContent="Profile not visible, because you are not registered."},m(l,n){g(l,e,n)},d(l){l&&b(e)}}}function yo(t){let e,l,n,o,r,i;e=new be({props:{user:t[0]}});const f=[po,ao,fo],c=[];function u(s,a){return s[1].name?s[5]?2:1:0}return n=u(t),o=c[n]=f[n](t),{c(){x(e.$$.fragment),l=C(),o.c(),r=re()},m(s,a){q(e,s,a),g(s,l,a),c[n].m(s,a),g(s,r,a),i=!0},p(s,[a]){const d={};a&1&&(d.user=s[0]),e.$set(d);let h=n;n=u(s),n===h?c[n].p(s,a):(te(),M(c[h],1,1,()=>{c[h]=null}),ne(),o=c[n],o?o.p(s,a):(o=c[n]=f[n](s),o.c()),L(o,1),o.m(r.parentNode,r))},i(s){i||(L(e.$$.fragment,s),L(o),i=!0)},o(s){M(e.$$.fragment,s),M(o),i=!1},d(s){s&&(b(l),b(r)),J(e,s),c[n].d(s)}}}function wo(t,e,l){let{uid:n}=e,o,r={groups:[]},i=!1,f=!1,c=[{id:1,visibility:"public"},{id:2,visibility:"registered"},{id:3,visibility:"groups"}],u,s=!1,a=`${z}`;de(()=>{Xe("SID")?l(0,o=ke(ue)):ue.set(null),d()});async function d(){fetch(`${z}/api/profile/${n}`,{method:"GET",credentials:"include",headers:{"Access-Control-Allow-Origin":`${z}`}}).then(v=>v.json()).then(v=>{l(1,r=v),r.name===ke(ue).name&&l(2,i=!0),o.uid!=r.id?h():l(5,s=!0)})}async function h(){if(r.visibility===1)l(5,s=!0);else if(r.visibility===2)o?l(5,s=!0):l(5,s=!1);else if(r.visibility===3)if(o){let v=await Ll(o.uid);for(let R=0;R<v.length;R++)for(let I=0;I<r.groups.length;I++)if(v[R].id===r.groups[I].id){l(5,s=!0);return}l(5,s=!1)}else l(5,s=!1)}async function m(){fetch(`${z}/api/profile/edit_description`,{method:"POST",credentials:"include",headers:{"Access-Control-Allow-Origin":`${z}`,"Content-Type":"application/json"},body:JSON.stringify({name:r.name,desc:r.profile_desc})}).then(v=>v.json()).then(v=>{v.status==="OK"?console.log("Profile description updated."):console.log("Profile description update failed.")})}async function A(){let v=new FormData;v.append("file",document.getElementById("profileImg").files[0]),console.log(v),fetch(`${z}/api/profile/edit_image`,{method:"POST",credentials:"include",body:v}).then(R=>R.json()).then(R=>{R.status==="OK"?(console.log("Profile image updated."),l(1,r.profile_image_path=R.path,r),l(1,r),console.log(r.profile_image_path)):console.log("Profile image update failed.")})}async function O(){fetch(`${z}/api/profile/edit_visibility`,{method:"POST",credentials:"include",headers:{"Access-Control-Allow-Origin":"{API_URL}","Content-Type":"application/json"},body:JSON.stringify({name:r.name,visibility:u.visibility})}).then(v=>v.json()).then(v=>{v.status==="OK"?console.log("Profile visibility updated."):console.log("Profile visibility update failed.")})}const P=()=>l(3,f=!0);function N(){r.profile_desc=this.value,l(1,r)}function j(){u=Sn(this),l(4,u),l(6,c)}const w=()=>l(3,f=!1);return t.$$set=v=>{"uid"in v&&l(11,n=v.uid)},[o,r,i,f,u,s,c,a,m,A,O,n,P,N,j,w]}class vo extends ae{constructor(e){super(),fe(this,e,wo,yo,oe,{uid:11})}}function Kt(t,e,l){const n=t.slice();return n[6]=e[l],n}function Co(t){let e;return{c(){e=_("p"),e.textContent="No groups to show..."},m(l,n){g(l,e,n)},p:D,i:D,o:D,d(l){l&&b(e)}}}function Oo(t){let e,l,n,o,r=[],i=new Map,f,c=X(t[0]);const u=s=>s[6].id;for(let s=0;s<c.length;s+=1){let a=Kt(t,c,s),d=u(a);i.set(d,r[s]=Bt(d,a))}return{c(){e=_("table"),l=_("thead"),l.innerHTML='<tr><th scope="col" class="px-6 py-3">Group Name</th> <th scope="col" class="px-6 py-3">Description</th></tr>',n=C(),o=_("tbody");for(let s=0;s<r.length;s+=1)r[s].c();$(l,"class","text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"),$(e,"class","w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400")},m(s,a){g(s,e,a),p(e,l),p(e,n),p(e,o);for(let d=0;d<r.length;d+=1)r[d]&&r[d].m(o,null);f=!0},p(s,a){a&1&&(c=X(s[0]),te(),r=ht(r,a,u,1,s,c,i,o,_t,Bt,null,Kt),ne())},i(s){if(!f){for(let a=0;a<c.length;a+=1)L(r[a]);f=!0}},o(s){for(let a=0;a<r.length;a+=1)M(r[a]);f=!1},d(s){s&&b(e);for(let a=0;a<r.length;a+=1)r[a].d()}}}function Po(t){let e=t[6].name+"",l;return{c(){l=K(e)},m(n,o){g(n,l,o)},p(n,o){o&1&&e!==(e=n[6].name+"")&&Y(l,e)},d(n){n&&b(l)}}}function Bt(t,e){let l,n,o,r,i,f=e[6].desc+"",c,u,s;return o=new ce({props:{to:`group/${e[6].id}`,$$slots:{default:[Po]},$$scope:{ctx:e}}}),{key:t,first:null,c(){l=_("tr"),n=_("th"),x(o.$$.fragment),r=C(),i=_("td"),c=K(f),u=C(),$(n,"scope","row"),$(n,"class","px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"),$(i,"class","px-6 py-4"),$(l,"class","bg-white border-b dark:bg-gray-800 dark:border-gray-700"),this.first=l},m(a,d){g(a,l,d),p(l,n),q(o,n,null),p(l,r),p(l,i),p(i,c),p(l,u),s=!0},p(a,d){e=a;const h={};d&1&&(h.to=`group/${e[6].id}`),d&513&&(h.$$scope={dirty:d,ctx:e}),o.$set(h),(!s||d&1)&&f!==(f=e[6].desc+"")&&Y(c,f)},i(a){s||(L(o.$$.fragment,a),s=!0)},o(a){M(o.$$.fragment,a),s=!1},d(a){a&&b(l),J(o)}}}function Vt(t){let e,l,n,o,r,i,f,c;return{c(){e=_("div"),l=_("label"),l.textContent="New Group Name",n=C(),o=_("input"),r=C(),i=_("button"),i.textContent="Create Group",$(l,"for","success"),$(l,"class","block mb-2 text-sm font-bold"),$(o,"type","text"),$(o,"id","success"),$(o,"class","bg-green-50 border border-green-500 text-green-900 dark:text-green-400 placeholder-green-700 dark:placeholder-green-500 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5 dark:bg-gray-700 dark:border-green-500"),$(o,"placeholder","Enter group name"),$(i,"type","button"),$(i,"class","text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"),$(e,"class","mb-6")},m(u,s){g(u,e,s),p(e,l),p(e,n),p(e,o),Q(o,t[2]),p(e,r),p(e,i),f||(c=[H(o,"input",t[4]),H(i,"click",t[3])],f=!0)},p(u,s){s&4&&o.value!==u[2]&&Q(o,u[2])},d(u){u&&b(e),f=!1,le(c)}}}function So(t){let e,l,n,o,r,i,f,c;e=new be({props:{user:t[1]}});const u=[Oo,Co],s=[];function a(h,m){return h[0],0;return 1}r=a(t),i=s[r]=u[r](t);let d=t[1]&&Vt(t);return{c(){x(e.$$.fragment),l=C(),n=_("div"),o=_("div"),i.c(),f=C(),d&&d.c(),$(o,"class","relative overflow-x-auto")},m(h,m){q(e,h,m),g(h,l,m),g(h,n,m),p(n,o),s[r].m(o,null),p(n,f),d&&d.m(n,null),c=!0},p(h,[m]){const A={};m&2&&(A.user=h[1]),e.$set(A);let O=r;r=a(h),r===O?s[r].p(h,m):(te(),M(s[O],1,1,()=>{s[O]=null}),ne(),i=s[r],i?i.p(h,m):(i=s[r]=u[r](h),i.c()),L(i,1),i.m(o,null)),h[1]?d?d.p(h,m):(d=Vt(h),d.c(),d.m(n,null)):d&&(d.d(1),d=null)},i(h){c||(L(e.$$.fragment,h),L(i),c=!0)},o(h){M(e.$$.fragment,h),M(i),c=!1},d(h){h&&(b(l),b(n)),J(e,h),s[r].d(),d&&d.d()}}}function Ao(t,e,l){let n=[],o="",r="";de(()=>{i(),l(1,o=ke(ue))});async function i(){fetch(`${z}/api/groups`,{method:"GET",credentials:"include",headers:{"Access-Control-Allow-Origin":`${z}`}}).then(u=>u.json()).then(u=>{l(0,n=u)})}async function f(){if(!r){console.log("No group name entered.");return}fetch(`${z}/api/create_group`,{method:"POST",credentials:"include",headers:{"Access-Control-Allow-Origin":`${z}`,"Content-Type":"application/json"},body:JSON.stringify({name:r})}).then(u=>u.json()).then(u=>{console.log(u),i()})}function c(){r=this.value,l(2,r)}return[n,o,r,f,c]}class jo extends ae{constructor(e){super(),fe(this,e,Ao,So,oe,{})}}function zt(t,e,l){const n=t.slice();return n[23]=e[l],n}function Ft(t,e,l){const n=t.slice();return n[26]=e[l],n}function Wt(t){let e,l,n,o,r,i,f;return l=new ce({props:{to:`group/${t[0].id}/manage`,$$slots:{default:[No]},$$scope:{ctx:t}}}),{c(){e=_("button"),x(l.$$.fragment),n=C(),o=_("br"),r=C(),i=_("br"),$(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(c,u){g(c,e,u),q(l,e,null),g(c,n,u),g(c,o,u),g(c,r,u),g(c,i,u),f=!0},p(c,u){const s={};u&1&&(s.to=`group/${c[0].id}/manage`),u&536870912&&(s.$$scope={dirty:u,ctx:c}),l.$set(s)},i(c){f||(L(l.$$.fragment,c),f=!0)},o(c){M(l.$$.fragment,c),f=!1},d(c){c&&(b(e),b(n),b(o),b(r),b(i)),J(l)}}}function No(t){let e;return{c(){e=K("Manage Group")},m(l,n){g(l,e,n)},d(l){l&&b(e)}}}function Yt(t){let e,l,n,o,r,i=t[9]&&Qt(t);return{c(){e=_("button"),e.textContent="Edit Group",l=C(),i&&i.c(),n=re(),$(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(f,c){g(f,e,c),g(f,l,c),i&&i.m(f,c),g(f,n,c),o||(r=H(e,"click",t[17]),o=!0)},p(f,c){f[9]?i?i.p(f,c):(i=Qt(f),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(f){f&&(b(e),b(l),b(n)),i&&i.d(f),o=!1,r()}}}function Qt(t){let e,l,n,o,r,i,f,c,u,s,a,d,h,m,A,O,P,N,j=X(t[11]),w=[];for(let v=0;v<j.length;v+=1)w[v]=Xt(Ft(t,j,v));return{c(){e=_("br"),l=C(),n=_("label"),n.textContent="Group Description:",o=C(),r=_("input"),i=C(),f=_("button"),f.textContent="Save",c=C(),u=_("form"),s=_("select");for(let v=0;v<w.length;v+=1)w[v].c();a=C(),d=_("br"),h=C(),m=_("button"),m.textContent="Edit Group Visibility",A=C(),O=_("button"),O.textContent="Cancel Group Edit",$(n,"for","groupDesc"),$(r,"type","text"),$(r,"class","backdrop-blur-3xl"),$(f,"class","bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"),t[10]===void 0&&ye(()=>t[19].call(s)),$(m,"type","submit"),$(m,"class","bg-green-500 dark:bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"),$(O,"class","bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded")},m(v,R){g(v,e,R),g(v,l,R),g(v,n,R),g(v,o,R),g(v,r,R),Q(r,t[0].desc),g(v,i,R),g(v,f,R),g(v,c,R),g(v,u,R),p(u,s);for(let I=0;I<w.length;I+=1)w[I]&&w[I].m(s,null);xe(s,t[10],!0),p(u,a),p(u,d),p(u,h),p(u,m),g(v,A,R),g(v,O,R),P||(N=[H(r,"input",t[18]),H(f,"click",t[15]),H(s,"change",t[19]),H(u,"submit",Qe(qo)),H(O,"click",t[20])],P=!0)},p(v,R){if(R&1&&r.value!==v[0].desc&&Q(r,v[0].desc),R&2048){j=X(v[11]);let I;for(I=0;I<j.length;I+=1){const k=Ft(v,j,I);w[I]?w[I].p(k,R):(w[I]=Xt(k),w[I].c(),w[I].m(s,null))}for(;I<w.length;I+=1)w[I].d(1);w.length=j.length}R&3072&&xe(s,v[10])},d(v){v&&(b(e),b(l),b(n),b(o),b(r),b(i),b(f),b(c),b(u),b(A),b(O)),ve(w,v),P=!1,le(N)}}}function Xt(t){let e,l=t[26].visibility+"",n;return{c(){e=_("option"),n=K(l),e.__value=t[26],Q(e,e.__value)},m(o,r){g(o,e,r),p(e,n)},p:D,d(o){o&&b(e)}}}function Zt(t){let e,l=t[0].desc+"",n;return{c(){e=_("h1"),n=K(l),$(e,"class","text-2x3 font-semibold text-gray-800")},m(o,r){g(o,e,r),p(e,n)},p(o,r){r&1&&l!==(l=o[0].desc+"")&&Y(n,l)},d(o){o&&b(e)}}}function To(t){let e;return{c(){e=_("p"),e.textContent="No threads to show..."},m(l,n){g(l,e,n)},p:D,i:D,o:D,d(l){l&&b(e)}}}function Eo(t){let e,l,n,o,r=[],i=new Map,f,c=X(t[0].threads);const u=s=>s[23].id;for(let s=0;s<c.length;s+=1){let a=zt(t,c,s),d=u(a);i.set(d,r[s]=en(d,a))}return{c(){e=_("table"),l=_("thead"),l.innerHTML='<tr><th scope="col" class="px-6 py-3">Thread Name</th> <th scope="col" class="px-6 py-3">Description</th></tr>',n=C(),o=_("tbody");for(let s=0;s<r.length;s+=1)r[s].c();$(l,"class","text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"),$(e,"class","w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400")},m(s,a){g(s,e,a),p(e,l),p(e,n),p(e,o);for(let d=0;d<r.length;d+=1)r[d]&&r[d].m(o,null);f=!0},p(s,a){a&1&&(c=X(s[0].threads),te(),r=ht(r,a,u,1,s,c,i,o,_t,en,null,zt),ne())},i(s){if(!f){for(let a=0;a<c.length;a+=1)L(r[a]);f=!0}},o(s){for(let a=0;a<r.length;a+=1)M(r[a]);f=!1},d(s){s&&b(e);for(let a=0;a<r.length;a+=1)r[a].d()}}}function Ro(t){let e=t[23].name+"",l;return{c(){l=K(e)},m(n,o){g(n,l,o)},p(n,o){o&1&&e!==(e=n[23].name+"")&&Y(l,e)},d(n){n&&b(l)}}}function en(t,e){let l,n,o,r,i,f=e[23].desc+"",c,u,s;return o=new ce({props:{to:`group/${e[0].id}/thread/${e[23].id}`,$$slots:{default:[Ro]},$$scope:{ctx:e}}}),{key:t,first:null,c(){l=_("tr"),n=_("th"),x(o.$$.fragment),r=C(),i=_("td"),c=K(f),u=C(),$(n,"scope","row"),$(n,"class","px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"),$(i,"class","px-6 py-4"),$(l,"class","bg-white border-b dark:bg-gray-800 dark:border-gray-700"),this.first=l},m(a,d){g(a,l,d),p(l,n),q(o,n,null),p(l,r),p(l,i),p(i,c),p(l,u),s=!0},p(a,d){e=a;const h={};d&1&&(h.to=`group/${e[0].id}/thread/${e[23].id}`),d&536870913&&(h.$$scope={dirty:d,ctx:e}),o.$set(h),(!s||d&1)&&f!==(f=e[23].desc+"")&&Y(c,f)},i(a){s||(L(o.$$.fragment,a),s=!0)},o(a){M(o.$$.fragment,a),s=!1},d(a){a&&b(l),J(o)}}}function Io(t){let e;return{c(){e=_("p"),e.textContent="You are registered for this group.",$(e,"class","text-4xl text-gray-900 font-extralight dark:text-gray-900")},m(l,n){g(l,e,n)},p:D,d(l){l&&b(e)}}}function Lo(t){let e,l,n;return{c(){e=_("button"),e.textContent="Request to join group",$(e,"class","text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800")},m(o,r){g(o,e,r),l||(n=H(e,"click",t[13]),l=!0)},p:D,d(o){o&&b(e),l=!1,n()}}}function Mo(t){let e,l,n,o,r,i,f,c;return{c(){e=_("div"),l=_("label"),l.textContent="New Thread",n=C(),o=_("input"),r=C(),i=_("button"),i.textContent="Create Thread",$(l,"for","success"),$(l,"class","block mb-2 text-sm font-bold"),$(o,"type","text"),$(o,"id","success"),$(o,"class","bg-green-50 border border-green-500 text-green-900 dark:text-green-400 placeholder-green-700 dark:placeholder-green-500 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5 dark:bg-gray-700 dark:border-green-500"),$(o,"placeholder","Enter thread name"),$(i,"type","button"),$(i,"class","text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"),$(e,"class","mb-6")},m(u,s){g(u,e,s),p(e,l),p(e,n),p(e,o),Q(o,t[8]),p(e,r),p(e,i),f||(c=[H(o,"input",t[21]),H(i,"click",t[12])],f=!0)},p(u,s){s&256&&o.value!==u[8]&&Q(o,u[8])},d(u){u&&b(e),f=!1,le(c)}}}function tn(t){let e;function l(r,i){return r[7]?Do:Go}let n=l(t),o=n(t);return{c(){o.c(),e=re()},m(r,i){o.m(r,i),g(r,e,i)},p(r,i){n===(n=l(r))&&o?o.p(r,i):(o.d(1),o=n(r),o&&(o.c(),o.m(e.parentNode,e)))},d(r){r&&b(e),o.d(r)}}}function Do(t){let e;return{c(){e=_("p"),e.textContent="You have already requested to be a moderator.",$(e,"class","text-4xl text-gray-900 font-extralight dark:text-gray-900")},m(l,n){g(l,e,n)},p:D,d(l){l&&b(e)}}}function Go(t){let e,l,n;return{c(){e=_("button"),e.textContent="Request moderator",$(e,"class","text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800")},m(o,r){g(o,e,r),l||(n=H(e,"click",t[14]),l=!0)},p:D,d(o){o&&b(e),l=!1,n()}}}function Uo(t){let e,l,n,o,r,i,f,c=t[0].name+"",u,s,a,d,h,m,A,O,P;e=new be({props:{user:t[1]}});let N=(t[5]||t[4])&&Wt(t),j=t[5]&&Yt(t),w=t[0].desc&&Zt(t);const v=[Eo,To],R=[];function I(T,U){return T[2]?0:1}h=I(t),m=R[h]=v[h](t);function k(T,U){return T[3]?Mo:T[6]?Io:Lo}let y=k(t),S=y(t),E=t[3]&&!t[4]&&tn(t);return{c(){x(e.$$.fragment),l=C(),N&&N.c(),n=C(),j&&j.c(),o=C(),r=_("div"),i=_("h1"),f=K("Group "),u=K(c),s=C(),w&&w.c(),a=C(),d=_("div"),m.c(),A=C(),S.c(),O=C(),E&&E.c(),$(i,"class","text-2xl font-semibold text-gray-800"),$(d,"class","relative overflow-x-auto")},m(T,U){q(e,T,U),g(T,l,U),N&&N.m(T,U),g(T,n,U),j&&j.m(T,U),g(T,o,U),g(T,r,U),p(r,i),p(i,f),p(i,u),p(r,s),w&&w.m(r,null),p(r,a),p(r,d),R[h].m(d,null),p(r,A),S.m(r,null),p(r,O),E&&E.m(r,null),P=!0},p(T,[U]){const W={};U&2&&(W.user=T[1]),e.$set(W),T[5]||T[4]?N?(N.p(T,U),U&48&&L(N,1)):(N=Wt(T),N.c(),L(N,1),N.m(n.parentNode,n)):N&&(te(),M(N,1,1,()=>{N=null}),ne()),T[5]?j?j.p(T,U):(j=Yt(T),j.c(),j.m(o.parentNode,o)):j&&(j.d(1),j=null),(!P||U&1)&&c!==(c=T[0].name+"")&&Y(u,c),T[0].desc?w?w.p(T,U):(w=Zt(T),w.c(),w.m(r,a)):w&&(w.d(1),w=null);let _e=h;h=I(T),h===_e?R[h].p(T,U):(te(),M(R[_e],1,1,()=>{R[_e]=null}),ne(),m=R[h],m?m.p(T,U):(m=R[h]=v[h](T),m.c()),L(m,1),m.m(d,null)),y===(y=k(T))&&S?S.p(T,U):(S.d(1),S=y(T),S&&(S.c(),S.m(r,O))),T[3]&&!T[4]?E?E.p(T,U):(E=tn(T),E.c(),E.m(r,null)):E&&(E.d(1),E=null)},i(T){P||(L(e.$$.fragment,T),L(N),L(m),P=!0)},o(T){M(e.$$.fragment,T),M(N),M(m),P=!1},d(T){T&&(b(l),b(n),b(o),b(r)),J(e,T),N&&N.d(T),j&&j.d(T),w&&w.d(),R[h].d(),S.d(),E&&E.d()}}}async function qo(){}function Jo(t,e,l){let{id:n}=e,o={name:"",id:0,desc:"",img_path:"",visibility:"",owner_id:0,owner:{name:""},moderators:[{name:"",uid:0}],members:[],registrations:[],mod_requests:[],threads:[]},r,i=!1,f=!1,c=!1,u=!1,s=!1,a=!1,d="",h=!1,m=[{id:1,visibility:"public"},{id:2,visibility:"registered"},{id:3,visibility:"groups"}],A;de(()=>{l(1,r=ke(ue)),O()});async function O(){fetch(`http://localhost:8000/api/group/${n}`,{method:"GET",credentials:"include",headers:{"Access-Control-Allow-Origin":"http://localhost:8000"}}).then(S=>S.json()).then(S=>{l(0,o=S),console.log(o),S.threads.length>0&&l(2,i=!0),l(3,f=S.members.some(E=>E.name===r.name)),l(4,c=S.moderators.some(E=>E.name===r.name)),l(5,u=S.owner_id===r.uid),l(6,s=S.registrations.some(E=>E.name===r.name)),l(7,a=S.mod_requests.some(E=>E.name===r.name))})}async function P(){fetch("http://localhost:8000/api/create_thread",{method:"POST",credentials:"include",headers:{"Access-Control-Allow-Origin":"http://localhost:8000","Content-Type":"application/json"},body:JSON.stringify({name:d,group_id:n})}).then(S=>S.json()).then(S=>{console.log(S),O()})}async function N(){fetch(`http://localhost:8000/api/group/${n}/join`,{method:"POST",credentials:"include",headers:{"Access-Control-Allow-Origin":"http://localhost:8000"}}).then(S=>S.json()).then(S=>{console.log(S),O()})}async function j(){fetch(`http://localhost:8000/api/group/${n}/request_mod`,{method:"POST",credentials:"include",headers:{"Access-Control-Allow-Origin":"http://localhost:8000"}}).then(S=>S.json()).then(S=>{console.log(S),O()})}async function w(){fetch(`http://localhost:8000/api/group/${n}/edit_desc`,{method:"POST",credentials:"include",headers:{"Access-Control-Allow-Origin":"http://localhost:8000","Content-Type":"application/json"},body:JSON.stringify({desc:o.desc})}).then(S=>S.json()).then(S=>{console.log(S),O()})}const v=()=>l(9,h=!0);function R(){o.desc=this.value,l(0,o)}function I(){A=Sn(this),l(10,A),l(11,m)}const k=()=>l(9,h=!1);function y(){d=this.value,l(8,d)}return t.$$set=S=>{"id"in S&&l(16,n=S.id)},[o,r,i,f,c,u,s,a,d,h,A,m,P,N,j,w,n,v,R,I,k,y]}class xo extends ae{constructor(e){super(),fe(this,e,Jo,Uo,oe,{id:16})}}function nn(t,e,l){const n=t.slice();return n[22]=e[l],n}function ln(t,e,l){const n=t.slice();return n[22]=e[l],n}function on(t,e,l){const n=t.slice();return n[27]=e[l],n}function rn(t){let e,l,n,o,r,i,f,c=X(t[0].moderators),u=[];for(let s=0;s<c.length;s+=1)u[s]=cn(on(t,c,s));return{c(){e=_("div"),e.textContent="Moderators",l=C(),n=_("div"),o=_("table"),r=_("thead"),r.innerHTML='<tr><th class="py-2 px-4 border-b text-center">Username</th> <th class="py-2 px-4 border-b text-center">Remove</th></tr>',i=C(),f=_("tbody");for(let s=0;s<u.length;s+=1)u[s].c();$(e,"class","text-center my-4 text-2xl font-bold"),$(o,"class","min-w-full bg-white border border-gray-300"),$(n,"class","overflow-x-auto")},m(s,a){g(s,e,a),g(s,l,a),g(s,n,a),p(n,o),p(o,r),p(o,i),p(o,f);for(let d=0;d<u.length;d+=1)u[d]&&u[d].m(f,null)},p(s,a){if(a&257){c=X(s[0].moderators);let d;for(d=0;d<c.length;d+=1){const h=on(s,c,d);u[d]?u[d].p(h,a):(u[d]=cn(h),u[d].c(),u[d].m(f,null))}for(;d<u.length;d+=1)u[d].d(1);u.length=c.length}},d(s){s&&(b(e),b(l),b(n)),ve(u,s)}}}function sn(t){let e,l,n=t[27].name+"",o,r,i,f,c,u,s,a;function d(){return t[12](t[27])}return{c(){e=_("tr"),l=_("td"),o=K(n),r=C(),i=_("td"),f=_("div"),c=_("button"),c.textContent="Remove",u=C(),$(l,"class","py-2 px-4 border-b text-center"),$(c,"class","text-red-500 hover:text-red-700 focus:outline-none"),$(f,"class","flex justify-center"),$(i,"class","py-2 px-4 border-b"),$(e,"class","hover:bg-gray-100")},m(h,m){g(h,e,m),p(e,l),p(l,o),p(e,r),p(e,i),p(i,f),p(f,c),p(e,u),s||(a=H(c,"click",d),s=!0)},p(h,m){t=h,m&1&&n!==(n=t[27].name+"")&&Y(o,n)},d(h){h&&b(e),s=!1,a()}}}function cn(t){let e,l=t[27].id!=t[0].owner_id&&sn(t);return{c(){l&&l.c(),e=re()},m(n,o){l&&l.m(n,o),g(n,e,o)},p(n,o){n[27].id!=n[0].owner_id?l?l.p(n,o):(l=sn(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(n){n&&b(e),l&&l.d(n)}}}function un(t){let e,l,n,o,r,i,f,c=t[4].length>0&&fn(t);return{c(){e=_("div"),e.textContent="Moderator Requests",l=C(),n=_("div"),o=_("table"),r=_("thead"),r.innerHTML='<tr><th class="py-2 px-4 border-b text-center">Name</th> <th class="py-2 px-4 border-b text-center">Accept</th> <th class="py-2 px-4 border-b text-center">Reject</th></tr>',i=C(),f=_("tbody"),c&&c.c(),$(e,"class","text-center my-4 text-2xl font-bold"),$(o,"class","min-w-full bg-white border border-gray-300"),$(n,"class","overflow-x-auto")},m(u,s){g(u,e,s),g(u,l,s),g(u,n,s),p(n,o),p(o,r),p(o,i),p(o,f),c&&c.m(f,null)},p(u,s){u[4].length>0?c?c.p(u,s):(c=fn(u),c.c(),c.m(f,null)):c&&(c.d(1),c=null)},d(u){u&&(b(e),b(l),b(n)),c&&c.d()}}}function fn(t){let e,l=X(t[4]),n=[];for(let o=0;o<l.length;o+=1)n[o]=an(ln(t,l,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=re()},m(o,r){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(o,r);g(o,e,r)},p(o,r){if(r&1552){l=X(o[4]);let i;for(i=0;i<l.length;i+=1){const f=ln(o,l,i);n[i]?n[i].p(f,r):(n[i]=an(f),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(o){o&&b(e),ve(n,o)}}}function an(t){let e,l,n=t[22].name+"",o,r,i,f,c,u,s,a,d,h,m,A;function O(){return t[13](t[22])}function P(){return t[14](t[22])}return{c(){e=_("tr"),l=_("td"),o=K(n),r=C(),i=_("td"),f=_("div"),c=_("button"),c.textContent="Accept",u=C(),s=_("td"),a=_("div"),d=_("button"),d.textContent="Reject",h=C(),$(l,"class","py-2 px-4 border-b text-center"),$(c,"class","bg-green-500 hover:bg-green-700 text-white py-1 px-2 rounded focus:outline-none"),$(f,"class","flex justify-center"),$(i,"class","py-2 px-4 border-b"),$(d,"class","bg-red-500 hover:bg-red-700 text-white py-1 px-2 rounded focus:outline-none"),$(a,"class","flex justify-center"),$(s,"class","py-2 px-4 border-b"),$(e,"class","hover:bg-gray-100")},m(N,j){g(N,e,j),p(e,l),p(l,o),p(e,r),p(e,i),p(i,f),p(f,c),p(e,u),p(e,s),p(s,a),p(a,d),p(e,h),m||(A=[H(c,"click",O),H(d,"click",P)],m=!0)},p(N,j){t=N,j&16&&n!==(n=t[22].name+"")&&Y(o,n)},d(N){N&&b(e),m=!1,le(A)}}}function dn(t){let e,l,n,o,r,i,f,c=t[5].length>0&&pn(t);return{c(){e=_("div"),e.textContent="Join requests",l=C(),n=_("div"),o=_("table"),r=_("thead"),r.innerHTML='<tr><th class="py-2 px-4 border-b text-center">Name</th> <th class="py-2 px-4 border-b text-center">Accept</th> <th class="py-2 px-4 border-b text-center">Reject</th></tr>',i=C(),f=_("tbody"),c&&c.c(),$(e,"class","text-center my-4 text-2xl font-bold"),$(o,"class","min-w-full bg-white border border-gray-300"),$(n,"class","overflow-x-auto")},m(u,s){g(u,e,s),g(u,l,s),g(u,n,s),p(n,o),p(o,r),p(o,i),p(o,f),c&&c.m(f,null)},p(u,s){u[5].length>0?c?c.p(u,s):(c=pn(u),c.c(),c.m(f,null)):c&&(c.d(1),c=null)},d(u){u&&(b(e),b(l),b(n)),c&&c.d()}}}function pn(t){let e,l=X(t[5]),n=[];for(let o=0;o<l.length;o+=1)n[o]=_n(nn(t,l,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=re()},m(o,r){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(o,r);g(o,e,r)},p(o,r){if(r&224){l=X(o[5]);let i;for(i=0;i<l.length;i+=1){const f=nn(o,l,i);n[i]?n[i].p(f,r):(n[i]=_n(f),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(o){o&&b(e),ve(n,o)}}}function _n(t){let e,l,n=t[22].name+"",o,r,i,f,c,u,s,a,d,h,m,A;function O(){return t[15](t[22])}function P(){return t[16](t[22])}return{c(){e=_("tr"),l=_("td"),o=K(n),r=C(),i=_("td"),f=_("div"),c=_("button"),c.textContent="Accept",u=C(),s=_("td"),a=_("div"),d=_("button"),d.textContent="Reject",h=C(),$(l,"class","py-2 px-4 border-b text-center"),$(c,"class","bg-green-500 hover:bg-green-700 text-white py-1 px-2 rounded focus:outline-none"),$(f,"class","flex justify-center"),$(i,"class","py-2 px-4 border-b"),$(d,"class","bg-red-500 hover:bg-red-700 text-white py-1 px-2 rounded focus:outline-none"),$(a,"class","flex justify-center"),$(s,"class","py-2 px-4 border-b"),$(e,"class","hover:bg-gray-100")},m(N,j){g(N,e,j),p(e,l),p(l,o),p(e,r),p(e,i),p(i,f),p(f,c),p(e,u),p(e,s),p(s,a),p(a,d),p(e,h),m||(A=[H(c,"click",O),H(d,"click",P)],m=!0)},p(N,j){t=N,j&32&&n!==(n=t[22].name+"")&&Y(o,n)},d(N){N&&b(e),m=!1,le(A)}}}function Ho(t){let e,l,n,o,r,i;e=new be({props:{user:t[1]}});let f=t[2]&&rn(t),c=t[2]&&un(t),u=(t[2]||t[3])&&dn(t);return{c(){x(e.$$.fragment),l=C(),f&&f.c(),n=C(),c&&c.c(),o=C(),u&&u.c(),r=re()},m(s,a){q(e,s,a),g(s,l,a),f&&f.m(s,a),g(s,n,a),c&&c.m(s,a),g(s,o,a),u&&u.m(s,a),g(s,r,a),i=!0},p(s,[a]){const d={};a&2&&(d.user=s[1]),e.$set(d),s[2]?f?f.p(s,a):(f=rn(s),f.c(),f.m(n.parentNode,n)):f&&(f.d(1),f=null),s[2]?c?c.p(s,a):(c=un(s),c.c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null),s[2]||s[3]?u?u.p(s,a):(u=dn(s),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},i(s){i||(L(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&(b(l),b(n),b(o),b(r)),J(e,s),f&&f.d(s),c&&c.d(s),u&&u.d(s)}}}function Ko(t,e,l){let{gid:n}=e,o,r,i=!1,f=!1,c=[],u=[];de(()=>{l(1,r=ke(ue)),s()});async function s(){try{await a(),d(),console.log(i),console.log(f),h(o.id),m(o.id)}catch(y){console.log(y)}}async function a(){return fetch(`http://localhost:8000/api/group/${n}`,{method:"GET",credentials:"include",headers:{"Access-Control-Allow-Origin":"http://localhost:8000"}}).then(y=>y.json()).then(y=>{l(0,o=y),console.log(o)})}async function d(){if(console.log("group"),console.log(`group.owner_id: ${o.owner_id}, user.uid: ${r.uid}`),o.owner_id===r.uid)return l(2,i=!0),!0;for(let y=0;y<o.moderators.length;y++)if(o.moderators[y].id===r.uid)return l(3,f=!0),!0;return!1}async function h(y){fetch("http://localhost:8000/api/group/"+y+"/mod_requests",{method:"GET",credentials:"include",headers:{"Access-Control-Allow-Origin":"http://localhost:8000"}}).then(S=>S.json()).then(S=>{console.log(S),l(4,c=S)})}async function m(y){fetch("http://localhost:8000/api/group/"+y+"/join_requests",{method:"GET",credentials:"include",headers:{"Access-Control-Allow-Origin":"http://localhost:8000"}}).then(S=>S.json()).then(S=>{console.log(S),l(5,u=S)})}async function A(y,S){fetch("http://localhost:8000/api/group/"+o.id+"/accept_join_request",{method:"POST",credentials:"include",headers:{"Access-Control-Allow-Origin":"http://localhost:8000","Content-Type":"application/json"},body:JSON.stringify({id:y,name:S})}).then(E=>E.json()).then(E=>{console.log(E),m(o.id)})}async function O(y,S){fetch("http://localhost:8000/api/group/"+o.id+"/reject_join_request",{method:"POST",credentials:"include",headers:{"Access-Control-Allow-Origin":"http://localhost:8000","Content-Type":"application/json"},body:JSON.stringify({id:y,name:S})}).then(E=>E.json()).then(E=>{console.log(E),m(o.id)})}async function P(y,S){fetch("http://localhost:8000/api/group/"+o.id+"/remove_mod",{method:"POST",credentials:"include",headers:{"Access-Control-Allow-Origin":"http://localhost:8000","Content-Type":"application/json"},body:JSON.stringify({id:y,name:S})}).then(E=>E.json()).then(E=>{console.log(E),a()})}async function N(y,S){fetch("http://localhost:8000/api/group/"+o.id+"/accept_mod_request",{method:"POST",credentials:"include",headers:{"Access-Control-Allow-Origin":"http://localhost:8000","Content-Type":"application/json"},body:JSON.stringify({id:y,name:S})}).then(E=>E.json()).then(E=>{console.log(E),h(o.id),a()})}async function j(y,S){fetch("http://localhost:8000/api/group/"+o.id+"/reject_mod_request",{method:"POST",credentials:"include",headers:{"Access-Control-Allow-Origin":"http://localhost:8000","Content-Type":"application/json"},body:JSON.stringify({id:y,name:S})}).then(E=>E.json()).then(E=>{console.log(E),h(o.id)})}const w=y=>{P(y.id,y.name)},v=y=>{N(y.id,y.name)},R=y=>{j(y.id,y.name)},I=y=>{A(y.id,y.name)},k=y=>{O(y.id,y.name)};return t.$$set=y=>{"gid"in y&&l(11,n=y.gid)},[o,r,i,f,c,u,A,O,P,N,j,n,w,v,R,I,k]}class Bo extends ae{constructor(e){super(),fe(this,e,Ko,Ho,oe,{gid:11})}}function hn(t,e,l){const n=t.slice();return n[23]=e[l],n}function Vo(t){let e;return{c(){e=_("p"),e.textContent="No posts yet."},m(l,n){g(l,e,n)},p:D,d(l){l&&b(e)}}}function zo(t){let e,l=X(t[2]),n=[];for(let o=0;o<l.length;o+=1)n[o]=gn(hn(t,l,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=re()},m(o,r){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(o,r);g(o,e,r)},p(o,r){if(r&429){l=X(o[2]);let i;for(i=0;i<l.length;i+=1){const f=hn(o,l,i);n[i]?n[i].p(f,r):(n[i]=gn(f),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(o){o&&b(e),ve(n,o)}}}function mn(t){let e,l;return{c(){e=_("img"),Je(e.src,l=t[5]+"/api/profile/"+t[23].author_id+"/image/"+t[23].author_image_path)||$(e,"src",l),$(e,"alt","Profile img"),$(e,"crossorigin","use-credentials")},m(n,o){g(n,e,o)},p(n,o){o&4&&!Je(e.src,l=n[5]+"/api/profile/"+n[23].author_id+"/image/"+n[23].author_image_path)&&$(e,"src",l)},d(n){n&&b(e)}}}function Fo(t){let e,l,n;function o(){return t[14](t[23])}return{c(){e=_("button"),e.textContent="Upvote",$(e,"class","bg-gray-500 hover:bg-green-700 text-white py-1 px-2 rounded focus:outline-none")},m(r,i){g(r,e,i),l||(n=H(e,"click",o),l=!0)},p(r,i){t=r},d(r){r&&b(e),l=!1,n()}}}function Wo(t){let e,l,n;function o(){return t[13](t[23])}return{c(){e=_("button"),e.textContent="Upvoted",$(e,"class","bg-green-500 hover:bg-gray-700 text-white py-1 px-2 rounded focus:outline-none")},m(r,i){g(r,e,i),l||(n=H(e,"click",o),l=!0)},p(r,i){t=r},d(r){r&&b(e),l=!1,n()}}}function Yo(t){let e,l,n;function o(){return t[16](t[23])}return{c(){e=_("button"),e.textContent="Downvote",$(e,"class","bg-gray-500 hover:bg-red-700 text-white py-1 px-2 rounded focus:outline-none")},m(r,i){g(r,e,i),l||(n=H(e,"click",o),l=!0)},p(r,i){t=r},d(r){r&&b(e),l=!1,n()}}}function Qo(t){let e,l,n;function o(){return t[15](t[23])}return{c(){e=_("button"),e.textContent="Downvoted",$(e,"class","bg-red-500 hover:bg-gray-700 text-white py-1 px-2 rounded focus:outline-none")},m(r,i){g(r,e,i),l||(n=H(e,"click",o),l=!0)},p(r,i){t=r},d(r){r&&b(e),l=!1,n()}}}function bn(t){let e,l,n,o;function r(){return t[17](t[23])}return{c(){e=_("div"),l=_("button"),l.textContent="Delete",$(l,"class","bg-red-500 hover:bg-red-700 text-white py-1 px-2 rounded focus:outline-none"),$(e,"class","bg-yellow-100")},m(i,f){g(i,e,f),p(e,l),n||(o=H(l,"click",r),n=!0)},p(i,f){t=i},d(i){i&&b(e),n=!1,o()}}}function gn(t){let e,l,n,o=t[23].author_name+"",r,i,f,c,u,s=t[23].content+"",a,d,h,m=t[23].rating+"",A,O,P,N,j,w,v,R,I,k,y,S,E=t[23].author_image_path&&mn(t);function T(V,F){return F&5&&(N=null),N==null&&(N=!!V[23].ratings.some(V[12])),N?Wo:Fo}let U=T(t,-1),W=U(t);function _e(V,F){return F&5&&(k=null),k==null&&(k=!!V[23].ratings.some(V[11])),k?Qo:Yo}let pe=_e(t,-1),se=pe(t),Z=t[3]&&bn(t);return{c(){e=_("div"),l=_("div"),n=_("div"),r=K(o),i=C(),f=_("div"),E&&E.c(),c=C(),u=_("div"),a=K(s),d=C(),h=_("div"),A=K(m),O=C(),P=_("div"),W.c(),j=C(),w=_("br"),v=C(),R=_("br"),I=C(),se.c(),y=C(),Z&&Z.c(),S=C(),$(n,"class","bg-red-100"),$(f,"class","bg-blue-100"),$(l,"class","flex flex-col"),$(u,"class","bg-slate-400"),$(h,"class","bg-green-100"),$(e,"class","flex flex-row border-2")},m(V,F){g(V,e,F),p(e,l),p(l,n),p(n,r),p(l,i),p(l,f),E&&E.m(f,null),p(e,c),p(e,u),p(u,a),p(e,d),p(e,h),p(h,A),p(e,O),p(e,P),W.m(P,null),p(P,j),p(P,w),p(P,v),p(P,R),p(P,I),se.m(P,null),p(e,y),Z&&Z.m(e,null),p(e,S)},p(V,F){F&4&&o!==(o=V[23].author_name+"")&&Y(r,o),V[23].author_image_path?E?E.p(V,F):(E=mn(V),E.c(),E.m(f,null)):E&&(E.d(1),E=null),F&4&&s!==(s=V[23].content+"")&&Y(a,s),F&4&&m!==(m=V[23].rating+"")&&Y(A,m),U===(U=T(V,F))&&W?W.p(V,F):(W.d(1),W=U(V),W&&(W.c(),W.m(P,j))),pe===(pe=_e(V,F))&&se?se.p(V,F):(se.d(1),se=pe(V),se&&(se.c(),se.m(P,null))),V[3]?Z?Z.p(V,F):(Z=bn(V),Z.c(),Z.m(e,S)):Z&&(Z.d(1),Z=null)},d(V){V&&b(e),E&&E.d(),W.d(),se.d(),Z&&Z.d()}}}function Xo(t){let e,l,n,o,r=t[4].name+"",i,f,c,u,s,a,d,h,m,A,O,P;e=new be({props:{user:t[0]}});function N(v,R){return v[2].length>0?zo:Vo}let j=N(t),w=j(t);return{c(){x(e.$$.fragment),l=C(),n=_("h1"),o=K("Thread "),i=K(r),f=C(),w.c(),c=C(),u=_("div"),s=_("label"),s.textContent="New Post",a=C(),d=_("input"),h=C(),m=_("button"),m.textContent="Post",$(n,"class","text-2xl font-semibold text-gray-800"),$(s,"for","success"),$(s,"class","block mb-2 text-sm font-bold"),$(d,"type","text"),$(d,"id","success"),$(d,"class","bg-green-50 border border-green-500 text-green-900 dark:text-green-400 placeholder-green-700 dark:placeholder-green-500 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5 dark:bg-gray-700 dark:border-green-500"),$(d,"placeholder","Post content"),$(m,"type","button"),$(m,"class","text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"),$(u,"class","mb-6")},m(v,R){q(e,v,R),g(v,l,R),g(v,n,R),p(n,o),p(n,i),g(v,f,R),w.m(v,R),g(v,c,R),g(v,u,R),p(u,s),p(u,a),p(u,d),Q(d,t[1]),p(u,h),p(u,m),A=!0,O||(P=[H(d,"input",t[18]),H(m,"click",t[6])],O=!0)},p(v,[R]){const I={};R&1&&(I.user=v[0]),e.$set(I),(!A||R&16)&&r!==(r=v[4].name+"")&&Y(i,r),j===(j=N(v))&&w?w.p(v,R):(w.d(1),w=j(v),w&&(w.c(),w.m(c.parentNode,c))),R&2&&d.value!==v[1]&&Q(d,v[1])},i(v){A||(L(e.$$.fragment,v),A=!0)},o(v){M(e.$$.fragment,v),A=!1},d(v){v&&(b(l),b(n),b(f),b(c),b(u)),J(e,v),w.d(v),O=!1,le(P)}}}function Zo(t,e,l){let{gid:n}=e,{tid:o}=e,r,i="",f=[],c=!1,u={name:""},s=`${z}`;de(()=>{l(0,r=ke(ue)),a(),d()});async function a(){fetch(`${z}/api/group/${n}`,{method:"GET",credentials:"include",headers:{"Access-Control-Allow-Origin":`${z}`}}).then(k=>k.json()).then(k=>{k.members.some(y=>y.name===r.name),l(3,c=k.moderators.some(y=>y.name===r.name)),l(4,u=k.threads.find(y=>y.id==o))})}async function d(){fetch(`${z}/api/group/${n}/thread/${o}`,{method:"GET",credentials:"include",headers:{"Access-Control-Allow-Origin":`${z}`}}).then(k=>k.json()).then(k=>{console.log(k),l(2,f=k)})}async function h(){fetch(`${z}/api/create_post`,{method:"POST",credentials:"include",headers:{"Access-Control-Allow-Origin":`${z}`,"Content-Type":"application/json"},body:JSON.stringify({content:i,thread_id:o})}).then(k=>k.json()).then(k=>{console.log(k),d()})}async function m(k){fetch(`${z}/api/delete_post/${k}`,{method:"DELETE",credentials:"include",headers:{"Access-Control-Allow-Origin":`${z}`}}).then(y=>y.json()).then(y=>{console.log(y),d()})}async function A(k,y){fetch(`${z}/api/vote_post/${k}`,{method:"POST",credentials:"include",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":`${z}`},body:JSON.stringify({rating:y})}).then(S=>S.json()).then(S=>{console.log(S),d()})}const O=k=>k.user_id===r.uid&&k.rating===-1,P=k=>k.user_id===r.uid&&k.rating===1,N=k=>{A(k.id,1)},j=k=>{A(k.id,1)},w=k=>{A(k.id,-1)},v=k=>{A(k.id,-1)},R=k=>{m(k.id)};function I(){i=this.value,l(1,i)}return t.$$set=k=>{"gid"in k&&l(9,n=k.gid),"tid"in k&&l(10,o=k.tid)},[r,i,f,c,u,s,h,m,A,n,o,O,P,N,j,w,v,R,I]}class er extends ae{constructor(e){super(),fe(this,e,Zo,Xo,oe,{gid:9,tid:10})}}function tr(t){let e,l;return e=new vo({props:{uid:t[3].id}}),{c(){x(e.$$.fragment)},m(n,o){q(e,n,o),l=!0},p(n,o){const r={};o&8&&(r.uid=n[3].id),e.$set(r)},i(n){l||(L(e.$$.fragment,n),l=!0)},o(n){M(e.$$.fragment,n),l=!1},d(n){J(e,n)}}}function nr(t){let e,l;return e=new xo({props:{id:t[3].id}}),{c(){x(e.$$.fragment)},m(n,o){q(e,n,o),l=!0},p(n,o){const r={};o&8&&(r.id=n[3].id),e.$set(r)},i(n){l||(L(e.$$.fragment,n),l=!0)},o(n){M(e.$$.fragment,n),l=!1},d(n){J(e,n)}}}function lr(t){let e,l;return e=new Bo({props:{gid:t[3].id}}),{c(){x(e.$$.fragment)},m(n,o){q(e,n,o),l=!0},p(n,o){const r={};o&8&&(r.gid=n[3].id),e.$set(r)},i(n){l||(L(e.$$.fragment,n),l=!0)},o(n){M(e.$$.fragment,n),l=!1},d(n){J(e,n)}}}function or(t){let e,l;return e=new er({props:{gid:t[3].gid,tid:t[3].tid}}),{c(){x(e.$$.fragment)},m(n,o){q(e,n,o),l=!0},p(n,o){const r={};o&8&&(r.gid=n[3].gid),o&8&&(r.tid=n[3].tid),e.$set(r)},i(n){l||(L(e.$$.fragment,n),l=!0)},o(n){M(e.$$.fragment,n),l=!1},d(n){J(e,n)}}}function rr(t){let e,l;return e=new Wl({}),{c(){x(e.$$.fragment)},m(n,o){q(e,n,o),l=!0},i(n){l||(L(e.$$.fragment,n),l=!0)},o(n){M(e.$$.fragment,n),l=!1},d(n){J(e,n)}}}function ir(t){let e,l,n,o,r,i,f,c,u,s,a,d,h,m,A,O,P,N,j;return l=new he({props:{path:"/login",component:Zl}}),o=new he({props:{path:"/register",component:lo}}),i=new he({props:{path:"/profiles",component:uo}}),c=new he({props:{path:"/profile/:id",$$slots:{default:[tr,({params:w})=>({3:w}),({params:w})=>w?8:0]},$$scope:{ctx:t}}}),s=new he({props:{path:"/groups",component:jo}}),d=new he({props:{path:"/group/:id",$$slots:{default:[nr,({params:w})=>({3:w}),({params:w})=>w?8:0]},$$scope:{ctx:t}}}),m=new he({props:{path:"/group/:id/manage",$$slots:{default:[lr,({params:w})=>({3:w}),({params:w})=>w?8:0]},$$scope:{ctx:t}}}),O=new he({props:{path:"/group/:gid/thread/:tid",$$slots:{default:[or,({params:w})=>({3:w}),({params:w})=>w?8:0]},$$scope:{ctx:t}}}),N=new he({props:{path:"/",$$slots:{default:[rr]},$$scope:{ctx:t}}}),{c(){e=_("div"),x(l.$$.fragment),n=C(),x(o.$$.fragment),r=C(),x(i.$$.fragment),f=C(),x(c.$$.fragment),u=C(),x(s.$$.fragment),a=C(),x(d.$$.fragment),h=C(),x(m.$$.fragment),A=C(),x(O.$$.fragment),P=C(),x(N.$$.fragment),$(e,"class","bg-blue-100 h-screen svelte-1joi4ca")},m(w,v){g(w,e,v),q(l,e,null),p(e,n),q(o,e,null),p(e,r),q(i,e,null),p(e,f),q(c,e,null),p(e,u),q(s,e,null),p(e,a),q(d,e,null),p(e,h),q(m,e,null),p(e,A),q(O,e,null),p(e,P),q(N,e,null),j=!0},p(w,v){const R={};v&24&&(R.$$scope={dirty:v,ctx:w}),c.$set(R);const I={};v&24&&(I.$$scope={dirty:v,ctx:w}),d.$set(I);const k={};v&24&&(k.$$scope={dirty:v,ctx:w}),m.$set(k);const y={};v&24&&(y.$$scope={dirty:v,ctx:w}),O.$set(y);const S={};v&16&&(S.$$scope={dirty:v,ctx:w}),N.$set(S)},i(w){j||(L(l.$$.fragment,w),L(o.$$.fragment,w),L(i.$$.fragment,w),L(c.$$.fragment,w),L(s.$$.fragment,w),L(d.$$.fragment,w),L(m.$$.fragment,w),L(O.$$.fragment,w),L(N.$$.fragment,w),j=!0)},o(w){M(l.$$.fragment,w),M(o.$$.fragment,w),M(i.$$.fragment,w),M(c.$$.fragment,w),M(s.$$.fragment,w),M(d.$$.fragment,w),M(m.$$.fragment,w),M(O.$$.fragment,w),M(N.$$.fragment,w),j=!1},d(w){w&&b(e),J(l),J(o),J(i),J(c),J(s),J(d),J(m),J(O),J(N)}}}function sr(t){let e,l;return e=new Il({props:{url:t[0],$$slots:{default:[ir]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(n,o){q(e,n,o),l=!0},p(n,[o]){const r={};o&1&&(r.url=n[0]),o&16&&(r.$$scope={dirty:o,ctx:n}),e.$set(r)},i(n){l||(L(e.$$.fragment,n),l=!0)},o(n){M(e.$$.fragment,n),l=!1},d(n){J(e,n)}}}function cr(t,e,l){let n;ge(t,ue,i=>l(2,n=i)),localStorage.theme="light";let o=!1;de(async()=>{let i=window.sessionStorage.getItem("store");i&&(console.log("sob-- ~ loading ses",i),qn(ue,n=JSON.parse(i),n)),l(1,o=!0)});let{url:r=""}=e;return t.$$set=i=>{"url"in i&&l(0,r=i.url)},t.$$.update=()=>{t.$$.dirty&6&&o&&n&&window.sessionStorage.setItem("store",JSON.stringify(n))},[r,o,n]}class ur extends ae{constructor(e){super(),fe(this,e,cr,sr,oe,{url:0})}}new ur({target:document.getElementById("app")});
