var Yn=Object.defineProperty;var Kn=(l,e,t)=>e in l?Yn(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var We=(l,e,t)=>(Kn(l,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function I(){}const jn=l=>l;function he(l,e){for(const t in e)l[t]=e[t];return l}function Wn(l){return!!l&&(typeof l=="object"||typeof l=="function")&&typeof l.then=="function"}function Dn(l){return l()}function dt(){return Object.create(null)}function ne(l){l.forEach(Dn)}function Te(l){return typeof l=="function"}function le(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}let Oe;function Ue(l,e){return l===e?!0:(Oe||(Oe=document.createElement("a")),Oe.href=e,l===Oe.href)}function Qn(l){return Object.keys(l).length===0}function st(l,...e){if(l==null){for(const n of e)n(void 0);return I}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Xn(l){let e;return st(l,t=>e=t)(),e}function pe(l,e,t){l.$$.on_destroy.push(st(e,t))}function Je(l,e,t,n){if(l){const r=Ln(l,e,t,n);return l[0](r)}}function Ln(l,e,t,n){return l[1]&&n?he(t.ctx.slice(),l[1](n(e))):t.ctx}function ze(l,e,t,n){if(l[2]&&n){const r=l[2](n(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const o=[],s=Math.max(e.dirty.length,r.length);for(let f=0;f<s;f+=1)o[f]=e.dirty[f]|r[f];return o}return e.dirty|r}return e.dirty}function Ve(l,e,t,n,r,o){if(r){const s=Ln(e,t,n,o);l.p(s,r)}}function Fe(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function tt(l){const e={};for(const t in l)t[0]!=="$"&&(e[t]=l[t]);return e}function _t(l,e){const t={};e=new Set(e);for(const n in l)!e.has(n)&&n[0]!=="$"&&(t[n]=l[n]);return t}function Zn(l,e,t){return l.set(t),e}const Tn=typeof window<"u";let On=Tn?()=>window.performance.now():()=>Date.now(),it=Tn?l=>requestAnimationFrame(l):I;const Ne=new Set;function In(l){Ne.forEach(e=>{e.c(l)||(Ne.delete(e),e.f())}),Ne.size!==0&&it(In)}function Mn(l){let e;return Ne.size===0&&it(In),{promise:new Promise(t=>{Ne.add(e={c:l,f:t})}),abort(){Ne.delete(e)}}}function p(l,e){l.appendChild(e)}function Un(l){if(!l)return document;const e=l.getRootNode?l.getRootNode():l.ownerDocument;return e&&e.host?e:l.ownerDocument}function xn(l){const e=m("style");return e.textContent="/* empty */",el(Un(l),e),e.sheet}function el(l,e){return p(l.head||l,e),e.sheet}function w(l,e,t){l.insertBefore(e,t||null)}function y(l){l.parentNode&&l.parentNode.removeChild(l)}function ye(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function m(l){return document.createElement(l)}function V(l){return document.createTextNode(l)}function R(){return V(" ")}function Q(){return V("")}function B(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function Ye(l){return function(e){return e.preventDefault(),l.call(this,e)}}function b(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}const tl=["width","height"];function pt(l,e){const t=Object.getOwnPropertyDescriptors(l.__proto__);for(const n in e)e[n]==null?l.removeAttribute(n):n==="style"?l.style.cssText=e[n]:n==="__value"?l.value=l[n]=e[n]:t[n]&&t[n].set&&tl.indexOf(n)===-1?l[n]=e[n]:b(l,n,e[n])}function nl(l){return Array.from(l.childNodes)}function X(l,e){e=""+e,l.data!==e&&(l.data=e)}function x(l,e){l.value=e??""}function Ae(l,e,t){for(let n=0;n<l.options.length;n+=1){const r=l.options[n];if(r.__value===e){r.selected=!0;return}}(!t||e!==void 0)&&(l.selectedIndex=-1)}function An(l){const e=l.querySelector(":checked");return e&&e.__value}function qn(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}function mt(l,e){return new l(e)}const qe=new Map;let Ge=0;function ll(l){let e=5381,t=l.length;for(;t--;)e=(e<<5)-e^l.charCodeAt(t);return e>>>0}function rl(l,e){const t={stylesheet:xn(e),rules:{}};return qe.set(l,t),t}function Gn(l,e,t,n,r,o,s,f=0){const i=16.666/n;let a=`{
`;for(let k=0;k<=1;k+=i){const C=e+(t-e)*o(k);a+=k*100+`%{${s(C,1-C)}}
`}const u=a+`100% {${s(t,1-t)}}
}`,d=`__svelte_${ll(u)}_${f}`,c=Un(l),{stylesheet:_,rules:g}=qe.get(c)||rl(c,l);g[d]||(g[d]=!0,_.insertRule(`@keyframes ${d} ${u}`,_.cssRules.length));const S=l.style.animation||"";return l.style.animation=`${S?`${S}, `:""}${d} ${n}ms linear ${r}ms 1 both`,Ge+=1,d}function nt(l,e){const t=(l.style.animation||"").split(", "),n=t.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),r=t.length-n.length;r&&(l.style.animation=n.join(", "),Ge-=r,Ge||ol())}function ol(){it(()=>{Ge||(qe.forEach(l=>{const{ownerNode:e}=l.stylesheet;e&&y(e)}),qe.clear())})}let De;function de(l){De=l}function Ee(){if(!De)throw new Error("Function called outside component initialization");return De}function ue(l){Ee().$$.on_mount.push(l)}function sl(l){Ee().$$.on_destroy.push(l)}function il(){const l=Ee();return(e,t,{cancelable:n=!1}={})=>{const r=l.$$.callbacks[e];if(r){const o=qn(e,t,{cancelable:n});return r.slice().forEach(s=>{s.call(l,o)}),!o.defaultPrevented}return!0}}function Qe(l,e){return Ee().$$.context.set(l,e),e}function Pe(l){return Ee().$$.context.get(l)}const ve=[],bt=[];let Se=[];const gt=[],ul=Promise.resolve();let lt=!1;function fl(){lt||(lt=!0,ul.then(ut))}function be(l){Se.push(l)}const Xe=new Set;let we=0;function ut(){if(we!==0)return;const l=De;do{try{for(;we<ve.length;){const e=ve[we];we++,de(e),cl(e.$$)}}catch(e){throw ve.length=0,we=0,e}for(de(null),ve.length=0,we=0;bt.length;)bt.pop()();for(let e=0;e<Se.length;e+=1){const t=Se[e];Xe.has(t)||(Xe.add(t),t())}Se.length=0}while(ve.length);for(;gt.length;)gt.pop()();lt=!1,Xe.clear(),de(l)}function cl(l){if(l.fragment!==null){l.update(),ne(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(be)}}function al(l){const e=[],t=[];Se.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Se=e}let je;function Hn(){return je||(je=Promise.resolve(),je.then(()=>{je=null})),je}function He(l,e,t){l.dispatchEvent(qn(`${e?"intro":"outro"}${t}`))}const Me=new Set;let me;function Y(){me={r:0,c:[],p:me}}function K(){me.r||ne(me.c),me=me.p}function E(l,e){l&&l.i&&(Me.delete(l),l.i(e))}function L(l,e,t,n){if(l&&l.o){if(Me.has(l))return;Me.add(l),me.c.push(()=>{Me.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}const Bn={duration:0};function dl(l,e,t){const n={direction:"in"};let r=e(l,t,n),o=!1,s,f,i=0;function a(){s&&nt(l,s)}function u(){const{delay:c=0,duration:_=300,easing:g=jn,tick:S=I,css:k}=r||Bn;k&&(s=Gn(l,0,1,_,c,g,k,i++)),S(0,1);const C=On()+c,v=C+_;f&&f.abort(),o=!0,be(()=>He(l,!0,"start")),f=Mn(D=>{if(o){if(D>=v)return S(1,0),He(l,!0,"end"),a(),o=!1;if(D>=C){const $=g((D-C)/_);S($,1-$)}}return o})}let d=!1;return{start(){d||(d=!0,nt(l),Te(r)?(r=r(n),Hn().then(u)):u())},invalidate(){d=!1},end(){o&&(a(),o=!1)}}}function _l(l,e,t){const n={direction:"out"};let r=e(l,t,n),o=!0,s;const f=me;f.r+=1;let i;function a(){const{delay:u=0,duration:d=300,easing:c=jn,tick:_=I,css:g}=r||Bn;g&&(s=Gn(l,1,0,d,u,c,g));const S=On()+u,k=S+d;be(()=>He(l,!1,"start")),"inert"in l&&(i=l.inert,l.inert=!0),Mn(C=>{if(o){if(C>=k)return _(0,1),He(l,!1,"end"),--f.r||ne(f.c),!1;if(C>=S){const v=c((C-S)/d);_(1-v,v)}}return o})}return Te(r)?Hn().then(()=>{r=r(n),a()}):a(),{end(u){u&&"inert"in l&&(l.inert=i),u&&r.tick&&r.tick(1,0),o&&(s&&nt(l,s),o=!1)}}}function ht(l,e){const t=e.token={};function n(r,o,s,f){if(e.token!==t)return;e.resolved=f;let i=e.ctx;s!==void 0&&(i=i.slice(),i[s]=f);const a=r&&(e.current=r)(i);let u=!1;e.block&&(e.blocks?e.blocks.forEach((d,c)=>{c!==o&&d&&(Y(),L(d,1,1,()=>{e.blocks[c]===d&&(e.blocks[c]=null)}),K())}):e.block.d(1),a.c(),E(a,1),a.m(e.mount(),e.anchor),u=!0),e.block=a,e.blocks&&(e.blocks[o]=a),u&&ut()}if(Wn(l)){const r=Ee();if(l.then(o=>{de(r),n(e.then,1,e.value,o),de(null)},o=>{if(de(r),n(e.catch,2,e.error,o),de(null),!e.hasCatch)throw o}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,l),!0;e.resolved=l}}function pl(l,e,t){const n=e.slice(),{resolved:r}=l;l.current===l.then&&(n[l.value]=r),l.current===l.catch&&(n[l.error]=r),l.block.p(n,t)}function ee(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function ft(l,e){L(l,1,1,()=>{e.delete(l.key)})}function ct(l,e,t,n,r,o,s,f,i,a,u,d){let c=l.length,_=o.length,g=c;const S={};for(;g--;)S[l[g].key]=g;const k=[],C=new Map,v=new Map,D=[];for(g=_;g--;){const O=d(r,o,g),j=t(O);let h=s.get(j);h?n&&D.push(()=>h.p(O,e)):(h=a(j,O),h.c()),C.set(j,k[g]=h),j in S&&v.set(j,Math.abs(g-S[j]))}const $=new Set,T=new Set;function M(O){E(O,1),O.m(f,u),s.set(O.key,O),u=O.first,_--}for(;c&&_;){const O=k[_-1],j=l[c-1],h=O.key,P=j.key;O===j?(u=O.first,c--,_--):C.has(P)?!s.has(h)||$.has(h)?M(O):T.has(P)?c--:v.get(h)>v.get(P)?(T.add(h),M(O)):($.add(P),c--):(i(j,s),c--)}for(;c--;){const O=l[c];C.has(O.key)||i(O,s)}for(;_;)M(k[_-1]);return ne(D),k}function rt(l,e){const t={},n={},r={$$scope:1};let o=l.length;for(;o--;){const s=l[o],f=e[o];if(f){for(const i in s)i in f||(n[i]=1);for(const i in f)r[i]||(t[i]=f[i],r[i]=1);l[o]=f}else for(const i in s)r[i]=1}for(const s in n)s in t||(t[s]=void 0);return t}function Ie(l){return typeof l=="object"&&l!==null?l:{}}function G(l){l&&l.c()}function A(l,e,t){const{fragment:n,after_update:r}=l.$$;n&&n.m(e,t),be(()=>{const o=l.$$.on_mount.map(Dn).filter(Te);l.$$.on_destroy?l.$$.on_destroy.push(...o):ne(o),l.$$.on_mount=[]}),r.forEach(be)}function q(l,e){const t=l.$$;t.fragment!==null&&(al(t.after_update),ne(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function ml(l,e){l.$$.dirty[0]===-1&&(ve.push(l),fl(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function oe(l,e,t,n,r,o,s=null,f=[-1]){const i=De;de(l);const a=l.$$={fragment:null,ctx:[],props:o,update:I,not_equal:r,bound:dt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(i?i.$$.context:[])),callbacks:dt(),dirty:f,skip_bound:!1,root:e.target||i.$$.root};s&&s(a.root);let u=!1;if(a.ctx=t?t(l,e.props||{},(d,c,..._)=>{const g=_.length?_[0]:c;return a.ctx&&r(a.ctx[d],a.ctx[d]=g)&&(!a.skip_bound&&a.bound[d]&&a.bound[d](g),u&&ml(l,d)),c}):[],a.update(),u=!0,ne(a.before_update),a.fragment=n?n(a.ctx):!1,e.target){if(e.hydrate){const d=nl(e.target);a.fragment&&a.fragment.l(d),d.forEach(y)}else a.fragment&&a.fragment.c();e.intro&&E(l.$$.fragment),A(l,e.target,e.anchor),ut()}de(i)}class se{constructor(){We(this,"$$");We(this,"$$set")}$destroy(){q(this,1),this.$destroy=I}$on(e,t){if(!Te(t))return I;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!Qn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const bl="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(bl);const ot={},Be={},Jn={},zn=/^:(.+)/,kt=4,gl=3,hl=2,kl=1,yl=1,Le=l=>l.replace(/(^\/+|\/+$)/g,"").split("/"),Ze=l=>l.replace(/(^\/+|\/+$)/g,""),wl=(l,e)=>{const t=l.default?0:Le(l.path).reduce((n,r)=>(n+=kt,r===""?n+=yl:zn.test(r)?n+=hl:r[0]==="*"?n-=kt+kl:n+=gl,n),0);return{route:l,score:t,index:e}},$l=l=>l.map(wl).sort((e,t)=>e.score<t.score?1:e.score>t.score?-1:e.index-t.index),yt=(l,e)=>{let t,n;const[r]=e.split("?"),o=Le(r),s=o[0]==="",f=$l(l);for(let i=0,a=f.length;i<a;i++){const u=f[i].route;let d=!1;if(u.default){n={route:u,params:{},uri:e};continue}const c=Le(u.path),_={},g=Math.max(o.length,c.length);let S=0;for(;S<g;S++){const k=c[S],C=o[S];if(k&&k[0]==="*"){const D=k==="*"?"*":k.slice(1);_[D]=o.slice(S).map(decodeURIComponent).join("/");break}if(typeof C>"u"){d=!0;break}const v=zn.exec(k);if(v&&!s){const D=decodeURIComponent(C);_[v[1]]=D}else if(k!==C){d=!0;break}}if(!d){t={route:u,params:_,uri:"/"+o.slice(0,S).join("/")};break}}return t||n||null},xe=(l,e)=>l+(e?`?${e}`:""),vl=(l,e)=>{if(l.startsWith("/"))return l;const[t,n]=l.split("?"),[r]=e.split("?"),o=Le(t),s=Le(r);if(o[0]==="")return xe(r,n);if(!o[0].startsWith(".")){const a=s.concat(o).join("/");return xe((r==="/"?"":"/")+a,n)}const f=s.concat(o),i=[];return f.forEach(a=>{a===".."?i.pop():a!=="."&&i.push(a)}),xe("/"+i.join("/"),n)},wt=(l,e)=>`${Ze(e==="/"?l:`${Ze(l)}/${Ze(e)}`)}/`,Cl=l=>!l.defaultPrevented&&l.button===0&&!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey),Vn=()=>typeof window<"u"&&"document"in window&&"location"in window,Nl=l=>({active:l&4}),$t=l=>({active:!!l[2]});function Pl(l){let e,t,n,r;const o=l[17].default,s=Je(o,l,l[16],$t);let f=[{href:l[0]},{"aria-current":l[2]},l[1],l[6]],i={};for(let a=0;a<f.length;a+=1)i=he(i,f[a]);return{c(){e=m("a"),s&&s.c(),pt(e,i)},m(a,u){w(a,e,u),s&&s.m(e,null),t=!0,n||(r=B(e,"click",l[5]),n=!0)},p(a,[u]){s&&s.p&&(!t||u&65540)&&Ve(s,o,a,a[16],t?ze(o,a[16],u,Nl):Fe(a[16]),$t),pt(e,i=rt(f,[(!t||u&1)&&{href:a[0]},(!t||u&4)&&{"aria-current":a[2]},u&2&&a[1],u&64&&a[6]]))},i(a){t||(E(s,a),t=!0)},o(a){L(s,a),t=!1},d(a){a&&y(e),s&&s.d(a),n=!1,r()}}}function Sl(l,e,t){let n;const r=["to","replace","state","getProps","preserveScroll"];let o=_t(e,r),s,f,{$$slots:i={},$$scope:a}=e,{to:u="#"}=e,{replace:d=!1}=e,{state:c={}}=e,{getProps:_=()=>({})}=e,{preserveScroll:g=!1}=e;const S=Pe(ot);pe(l,S,j=>t(14,s=j));const{base:k}=Pe(Be);pe(l,k,j=>t(15,f=j));const{navigate:C}=Pe(Jn),v=il();let D,$,T,M;const O=j=>{if(v("click",j),Cl(j)){j.preventDefault();const h=s.pathname===D||d;C(D,{state:c,replace:h,preserveScroll:g})}};return l.$$set=j=>{e=he(he({},e),tt(j)),t(6,o=_t(e,r)),"to"in j&&t(7,u=j.to),"replace"in j&&t(8,d=j.replace),"state"in j&&t(9,c=j.state),"getProps"in j&&t(10,_=j.getProps),"preserveScroll"in j&&t(11,g=j.preserveScroll),"$$scope"in j&&t(16,a=j.$$scope)},l.$$.update=()=>{l.$$.dirty&32896&&t(0,D=u==="/"?f.uri:vl(u,f.uri)),l.$$.dirty&16385&&t(12,$=s.pathname.startsWith(D)),l.$$.dirty&16385&&t(13,T=D===s.pathname),l.$$.dirty&8192&&t(2,n=T?"page":void 0),t(1,M=_({location:s,href:D,isPartiallyCurrent:$,isCurrent:T,existingProps:o}))},[D,M,n,S,k,O,o,u,d,c,_,g,$,T,s,f,a,i]}class ie extends se{constructor(e){super(),oe(this,e,Sl,Pl,le,{to:7,replace:8,state:9,getProps:10,preserveScroll:11})}}const Rl=l=>({params:l&4}),vt=l=>({params:l[2]});function Ct(l){let e,t,n,r;const o=[jl,El],s=[];function f(i,a){return i[0]?0:1}return e=f(l),t=s[e]=o[e](l),{c(){t.c(),n=Q()},m(i,a){s[e].m(i,a),w(i,n,a),r=!0},p(i,a){let u=e;e=f(i),e===u?s[e].p(i,a):(Y(),L(s[u],1,1,()=>{s[u]=null}),K(),t=s[e],t?t.p(i,a):(t=s[e]=o[e](i),t.c()),E(t,1),t.m(n.parentNode,n))},i(i){r||(E(t),r=!0)},o(i){L(t),r=!1},d(i){i&&y(n),s[e].d(i)}}}function El(l){let e;const t=l[8].default,n=Je(t,l,l[7],vt);return{c(){n&&n.c()},m(r,o){n&&n.m(r,o),e=!0},p(r,o){n&&n.p&&(!e||o&132)&&Ve(n,t,r,r[7],e?ze(t,r[7],o,Rl):Fe(r[7]),vt)},i(r){e||(E(n,r),e=!0)},o(r){L(n,r),e=!1},d(r){n&&n.d(r)}}}function jl(l){let e,t,n,r={ctx:l,current:null,token:null,hasCatch:!1,pending:Tl,then:Ll,catch:Dl,value:12,blocks:[,,,]};return ht(t=l[0],r),{c(){e=Q(),r.block.c()},m(o,s){w(o,e,s),r.block.m(o,r.anchor=s),r.mount=()=>e.parentNode,r.anchor=e,n=!0},p(o,s){l=o,r.ctx=l,s&1&&t!==(t=l[0])&&ht(t,r)||pl(r,l,s)},i(o){n||(E(r.block),n=!0)},o(o){for(let s=0;s<3;s+=1){const f=r.blocks[s];L(f)}n=!1},d(o){o&&y(e),r.block.d(o),r.token=null,r=null}}}function Dl(l){return{c:I,m:I,p:I,i:I,o:I,d:I}}function Ll(l){var f;let e,t,n;const r=[l[2],l[3]];var o=((f=l[12])==null?void 0:f.default)||l[12];function s(i,a){let u={};if(a!==void 0&&a&12)u=rt(r,[a&4&&Ie(i[2]),a&8&&Ie(i[3])]);else for(let d=0;d<r.length;d+=1)u=he(u,r[d]);return{props:u}}return o&&(e=mt(o,s(l))),{c(){e&&G(e.$$.fragment),t=Q()},m(i,a){e&&A(e,i,a),w(i,t,a),n=!0},p(i,a){var u;if(a&1&&o!==(o=((u=i[12])==null?void 0:u.default)||i[12])){if(e){Y();const d=e;L(d.$$.fragment,1,0,()=>{q(d,1)}),K()}o?(e=mt(o,s(i,a)),G(e.$$.fragment),E(e.$$.fragment,1),A(e,t.parentNode,t)):e=null}else if(o){const d=a&12?rt(r,[a&4&&Ie(i[2]),a&8&&Ie(i[3])]):{};e.$set(d)}},i(i){n||(e&&E(e.$$.fragment,i),n=!0)},o(i){e&&L(e.$$.fragment,i),n=!1},d(i){i&&y(t),e&&q(e,i)}}}function Tl(l){return{c:I,m:I,p:I,i:I,o:I,d:I}}function Ol(l){let e,t,n=l[1]&&l[1].route===l[5]&&Ct(l);return{c(){n&&n.c(),e=Q()},m(r,o){n&&n.m(r,o),w(r,e,o),t=!0},p(r,[o]){r[1]&&r[1].route===r[5]?n?(n.p(r,o),o&2&&E(n,1)):(n=Ct(r),n.c(),E(n,1),n.m(e.parentNode,e)):n&&(Y(),L(n,1,1,()=>{n=null}),K())},i(r){t||(E(n),t=!0)},o(r){L(n),t=!1},d(r){r&&y(e),n&&n.d(r)}}}function Il(l,e,t){let n,{$$slots:r={},$$scope:o}=e,{path:s=""}=e,{component:f=null}=e,i={},a={};const{registerRoute:u,unregisterRoute:d,activeRoute:c}=Pe(Be);pe(l,c,g=>t(1,n=g));const _={path:s,default:s===""};return u(_),sl(()=>{d(_)}),l.$$set=g=>{t(11,e=he(he({},e),tt(g))),"path"in g&&t(6,s=g.path),"component"in g&&t(0,f=g.component),"$$scope"in g&&t(7,o=g.$$scope)},l.$$.update=()=>{if(n&&n.route===_){t(2,i=n.params);const{component:g,path:S,...k}=e;t(3,a=k),g&&(g.toString().startsWith("class ")?t(0,f=g):t(0,f=g())),Vn()&&!n.preserveScroll&&(window==null||window.scrollTo(0,0))}},e=tt(e),[f,n,i,a,c,_,s,o,r]}class ae extends se{constructor(e){super(),oe(this,e,Il,Ol,le,{path:6,component:0})}}const $e=[];function Ml(l,e){return{subscribe:Ce(l,e).subscribe}}function Ce(l,e=I){let t;const n=new Set;function r(f){if(le(l,f)&&(l=f,t)){const i=!$e.length;for(const a of n)a[1](),$e.push(a,l);if(i){for(let a=0;a<$e.length;a+=2)$e[a][0]($e[a+1]);$e.length=0}}}function o(f){r(f(l))}function s(f,i=I){const a=[f,i];return n.add(a),n.size===1&&(t=e(r,o)||I),f(l),()=>{n.delete(a),n.size===0&&t&&(t(),t=null)}}return{set:r,update:o,subscribe:s}}function Ul(l,e,t){const n=!Array.isArray(l),r=n?[l]:l;if(!r.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=e.length<2;return Ml(t,(s,f)=>{let i=!1;const a=[];let u=0,d=I;const c=()=>{if(u)return;d();const g=e(n?a[0]:a,s,f);o?s(g):d=Te(g)?g:I},_=r.map((g,S)=>st(g,k=>{a[S]=k,u&=~(1<<S),i&&c()},()=>{u|=1<<S}));return i=!0,c(),function(){ne(_),d(),i=!1}})}const et=l=>({...l.location,state:l.history.state,key:l.history.state&&l.history.state.key||"initial"}),Al=l=>{const e=[];let t=et(l);return{get location(){return t},listen(n){e.push(n);const r=()=>{t=et(l),n({location:t,action:"POP"})};return l.addEventListener("popstate",r),()=>{l.removeEventListener("popstate",r);const o=e.indexOf(n);e.splice(o,1)}},navigate(n,{state:r,replace:o=!1,preserveScroll:s=!1}={}){r={...r,key:Date.now()+""};try{o?l.history.replaceState(r,"",n):l.history.pushState(r,"",n)}catch{l.location[o?"replace":"assign"](n)}t=et(l),e.forEach(f=>f({location:t,action:"PUSH",preserveScroll:s})),document.activeElement.blur()}}},ql=(l="/")=>{let e=0;const t=[{pathname:l,search:""}],n=[];return{get location(){return t[e]},addEventListener(r,o){},removeEventListener(r,o){},history:{get entries(){return t},get index(){return e},get state(){return n[e]},pushState(r,o,s){const[f,i=""]=s.split("?");e++,t.push({pathname:f,search:i}),n.push(r)},replaceState(r,o,s){const[f,i=""]=s.split("?");t[e]={pathname:f,search:i},n[e]=r}}}},Fn=Al(Vn()?window:ql()),{navigate:ke}=Fn,Gl=l=>({route:l&4,location:l&2}),Nt=l=>({route:l[2]&&l[2].uri,location:l[1]}),Hl=l=>({route:l&4,location:l&2}),Pt=l=>({route:l[2]&&l[2].uri,location:l[1]});function Bl(l){let e;const t=l[15].default,n=Je(t,l,l[14],Nt);return{c(){n&&n.c()},m(r,o){n&&n.m(r,o),e=!0},p(r,o){n&&n.p&&(!e||o&16390)&&Ve(n,t,r,r[14],e?ze(t,r[14],o,Gl):Fe(r[14]),Nt)},i(r){e||(E(n,r),e=!0)},o(r){L(n,r),e=!1},d(r){n&&n.d(r)}}}function Jl(l){let e=l[1].pathname,t,n,r=St(l);return{c(){r.c(),t=Q()},m(o,s){r.m(o,s),w(o,t,s),n=!0},p(o,s){s&2&&le(e,e=o[1].pathname)?(Y(),L(r,1,1,I),K(),r=St(o),r.c(),E(r,1),r.m(t.parentNode,t)):r.p(o,s)},i(o){n||(E(r),n=!0)},o(o){L(r),n=!1},d(o){o&&y(t),r.d(o)}}}function St(l){let e,t,n,r;const o=l[15].default,s=Je(o,l,l[14],Pt);return{c(){e=m("div"),s&&s.c()},m(f,i){w(f,e,i),s&&s.m(e,null),r=!0},p(f,i){s&&s.p&&(!r||i&16390)&&Ve(s,o,f,f[14],r?ze(o,f[14],i,Hl):Fe(f[14]),Pt)},i(f){r||(E(s,f),f&&be(()=>{r&&(n&&n.end(1),t=dl(e,l[3],{}),t.start())}),r=!0)},o(f){L(s,f),t&&t.invalidate(),f&&(n=_l(e,l[3],{})),r=!1},d(f){f&&y(e),s&&s.d(f),f&&n&&n.end()}}}function zl(l){let e,t,n,r;const o=[Jl,Bl],s=[];function f(i,a){return i[0]?0:1}return e=f(l),t=s[e]=o[e](l),{c(){t.c(),n=Q()},m(i,a){s[e].m(i,a),w(i,n,a),r=!0},p(i,[a]){let u=e;e=f(i),e===u?s[e].p(i,a):(Y(),L(s[u],1,1,()=>{s[u]=null}),K(),t=s[e],t?t.p(i,a):(t=s[e]=o[e](i),t.c()),E(t,1),t.m(n.parentNode,n))},i(i){r||(E(t),r=!0)},o(i){L(t),r=!1},d(i){i&&y(n),s[e].d(i)}}}function Vl(l,e,t){let n,r,o,s,{$$slots:f={},$$scope:i}=e,{basepath:a="/"}=e,{url:u=null}=e,{viewtransition:d=null}=e,{history:c=Fn}=e;const _=(h,P,N)=>{const U=d(N);return typeof(U==null?void 0:U.fn)=="function"?U.fn(h,U):U};Qe(Jn,c);const g=Pe(ot),S=Pe(Be),k=Ce([]);pe(l,k,h=>t(12,r=h));const C=Ce(null);pe(l,C,h=>t(2,s=h));let v=!1;const D=g||Ce(u?{pathname:u}:c.location);pe(l,D,h=>t(1,n=h));const $=S?S.routerBase:Ce({path:a,uri:a});pe(l,$,h=>t(13,o=h));const T=Ul([$,C],([h,P])=>{if(!P)return h;const{path:N}=h,{route:U,uri:J}=P;return{path:U.default?N:U.path.replace(/\*.*$/,""),uri:J}}),M=h=>{const{path:P}=o;let{path:N}=h;if(h._path=N,h.path=wt(P,N),typeof window>"u"){if(v)return;const U=yt([h],n.pathname);U&&(C.set(U),v=!0)}else k.update(U=>[...U,h])},O=h=>{k.update(P=>P.filter(N=>N!==h))};let j=!1;return g||(ue(()=>c.listen(P=>{t(11,j=P.preserveScroll||!1),D.set(P.location)})),Qe(ot,D)),Qe(Be,{activeRoute:C,base:$,routerBase:T,registerRoute:M,unregisterRoute:O}),l.$$set=h=>{"basepath"in h&&t(8,a=h.basepath),"url"in h&&t(9,u=h.url),"viewtransition"in h&&t(0,d=h.viewtransition),"history"in h&&t(10,c=h.history),"$$scope"in h&&t(14,i=h.$$scope)},l.$$.update=()=>{if(l.$$.dirty&8192){const{path:h}=o;k.update(P=>P.map(N=>Object.assign(N,{path:wt(h,N._path)})))}if(l.$$.dirty&6146){const h=yt(r,n.pathname);C.set(h&&{...h,preserveScroll:j})}},[d,n,s,_,k,C,D,$,a,u,c,j,r,o,i,f]}class Fl extends se{constructor(e){super(),oe(this,e,Vl,zl,le,{basepath:8,url:9,viewtransition:0,history:10})}}function Yl(l){function e(n){return n.replace(/([.*+?\^$(){}|\[\]\/\\])/g,"\\$1")}var t=document.cookie.match(RegExp("(?:^|;\\s*)"+e(l)+"=([^;]*)"));return t?t[1]:null}const Re=Ce(null);function ce(){return Yl("SID")||Re.set({name:null,uid:null,admin:!1}),Xn(Re)}async function Kl(l){return await(await fetch(`${Wl}/user/${l}/groups`,{method:"GET",credentials:"include"})).json()}const Wl="https://iis-project.dolezal.it";async function fe(l){try{const e=await fetch(l,{method:"GET",credentials:"include"}),t=await e.json();return e.ok?[!0,t]:[!1,t]}catch(e){return console.log(e),[!1,{detail:"Server error. Please try again later."}]}}async function re(l,e){try{const t=await fetch(l,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();return t.ok?[!0,n]:[!1,n]}catch(t){return console.log(t),[!1,{detail:"Server error. Please try again later."}]}}async function Ql(l,e){try{const t=await fetch(l,{method:"POST",credentials:"include",body:e}),n=await t.json();return t.ok?[!0,n]:[!1,n]}catch(t){return console.log(t),[!1,{detail:"Server error. Please try again later."}]}}async function Ke(l){try{const e=await fetch(l,{method:"DELETE",credentials:"include"}),t=await e.json();return e.ok?[!0,t]:[!1,t]}catch(e){return console.log(e),[!1,{detail:"Server error. Please try again later."}]}}const z="https://iis-project.dolezal.it";function Rt(l){let e,t,n,r,o,s,f,i,a,u,d,c;n=new ie({props:{to:"/",$$slots:{default:[Xl]},$$scope:{ctx:l}}}),o=new ie({props:{to:"/groups",$$slots:{default:[Zl]},$$scope:{ctx:l}}}),f=new ie({props:{to:"/profiles",$$slots:{default:[xl]},$$scope:{ctx:l}}});const _=[tr,er],g=[];function S(k,C){return k[0].name?0:1}return u=S(l),d=g[u]=_[u](l),{c(){e=m("div"),t=m("div"),G(n.$$.fragment),r=R(),G(o.$$.fragment),s=R(),G(f.$$.fragment),i=R(),a=m("div"),d.c(),b(t,"class","order-1"),b(a,"class","order-2"),b(e,"class","flex justify-between bg-[#a6f3d9] p-4")},m(k,C){w(k,e,C),p(e,t),A(n,t,null),p(t,r),A(o,t,null),p(t,s),A(f,t,null),p(e,i),p(e,a),g[u].m(a,null),c=!0},p(k,C){const v={};C&8&&(v.$$scope={dirty:C,ctx:k}),n.$set(v);const D={};C&8&&(D.$$scope={dirty:C,ctx:k}),o.$set(D);const $={};C&8&&($.$$scope={dirty:C,ctx:k}),f.$set($);let T=u;u=S(k),u===T?g[u].p(k,C):(Y(),L(g[T],1,1,()=>{g[T]=null}),K(),d=g[u],d?d.p(k,C):(d=g[u]=_[u](k),d.c()),E(d,1),d.m(a,null))},i(k){c||(E(n.$$.fragment,k),E(o.$$.fragment,k),E(f.$$.fragment,k),E(d),c=!0)},o(k){L(n.$$.fragment,k),L(o.$$.fragment,k),L(f.$$.fragment,k),L(d),c=!1},d(k){k&&y(e),q(n),q(o),q(f),g[u].d()}}}function Xl(l){let e;return{c(){e=m("b"),e.textContent="Home",b(e,"class","mr-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(t,n){w(t,e,n)},p:I,d(t){t&&y(e)}}}function Zl(l){let e;return{c(){e=m("b"),e.textContent="Groups",b(e,"class","mr-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(t,n){w(t,e,n)},p:I,d(t){t&&y(e)}}}function xl(l){let e;return{c(){e=m("b"),e.textContent="Profiles",b(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(t,n){w(t,e,n)},p:I,d(t){t&&y(e)}}}function er(l){let e,t,n,r;return e=new ie({props:{to:"/login",$$slots:{default:[nr]},$$scope:{ctx:l}}}),n=new ie({props:{to:"/register",$$slots:{default:[lr]},$$scope:{ctx:l}}}),{c(){G(e.$$.fragment),t=R(),G(n.$$.fragment)},m(o,s){A(e,o,s),w(o,t,s),A(n,o,s),r=!0},p(o,s){const f={};s&8&&(f.$$scope={dirty:s,ctx:o}),e.$set(f);const i={};s&8&&(i.$$scope={dirty:s,ctx:o}),n.$set(i)},i(o){r||(E(e.$$.fragment,o),E(n.$$.fragment,o),r=!0)},o(o){L(e.$$.fragment,o),L(n.$$.fragment,o),r=!1},d(o){o&&y(t),q(e,o),q(n,o)}}}function tr(l){let e,t,n,r;return e=new ie({props:{to:"/profile/"+l[0].uid,$$slots:{default:[rr]},$$scope:{ctx:l}}}),n=new ie({props:{to:"/logout",$$slots:{default:[or]},$$scope:{ctx:l}}}),n.$on("click",l[2]),{c(){G(e.$$.fragment),t=R(),G(n.$$.fragment)},m(o,s){A(e,o,s),w(o,t,s),A(n,o,s),r=!0},p(o,s){const f={};s&1&&(f.to="/profile/"+o[0].uid),s&8&&(f.$$scope={dirty:s,ctx:o}),e.$set(f);const i={};s&8&&(i.$$scope={dirty:s,ctx:o}),n.$set(i)},i(o){r||(E(e.$$.fragment,o),E(n.$$.fragment,o),r=!0)},o(o){L(e.$$.fragment,o),L(n.$$.fragment,o),r=!1},d(o){o&&y(t),q(e,o),q(n,o)}}}function nr(l){let e;return{c(){e=m("b"),e.textContent="Log in",b(e,"class","mr-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(t,n){w(t,e,n)},p:I,d(t){t&&y(e)}}}function lr(l){let e;return{c(){e=m("b"),e.textContent="Register",b(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(t,n){w(t,e,n)},p:I,d(t){t&&y(e)}}}function rr(l){let e;return{c(){e=m("b"),e.textContent="Profile",b(e,"class","mr-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(t,n){w(t,e,n)},p:I,d(t){t&&y(e)}}}function or(l){let e;return{c(){e=m("b"),e.textContent="Logout",b(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(t,n){w(t,e,n)},p:I,d(t){t&&y(e)}}}function sr(l){let e,t,n=l[1]&&Rt(l);return{c(){n&&n.c(),e=Q()},m(r,o){n&&n.m(r,o),w(r,e,o),t=!0},p(r,[o]){r[1]?n?(n.p(r,o),o&2&&E(n,1)):(n=Rt(r),n.c(),E(n,1),n.m(e.parentNode,e)):n&&(Y(),L(n,1,1,()=>{n=null}),K())},i(r){t||(E(n),t=!0)},o(r){L(n),t=!1},d(r){r&&y(e),n&&n.d(r)}}}function ir(l,e,t){let{user:n}=e,r=!1;ue(()=>{n||(t(0,n=ce()),t(1,r=!0))});async function o(){const[s,f]=await fe(`${z}/logout`);s?(console.log("Logged out."),ke("/",{replace:!0})):console.log(f.detail)}return l.$$set=s=>{"user"in s&&t(0,n=s.user)},[n,r,o]}class _e extends se{constructor(e){super(),oe(this,e,ir,sr,le,{user:0})}}function Et(l){let e,t,n,r,o=l[0].name&&jt(l);return{c(){e=m("div"),t=m("div"),t.innerHTML='<p class="text-6xl text-gray-900 font-extralight dark:text-gray-900">Welcome to the <span class="font-bold text-blue-500">Thread Nest</span></p>',n=R(),r=m("div"),o&&o.c(),b(t,"class","flex justify-center pt-8"),b(r,"class","flex flex-col justify-center items-center flex-grow"),b(e,"class","flex flex-col h-screen")},m(s,f){w(s,e,f),p(e,t),p(e,n),p(e,r),o&&o.m(r,null)},p(s,f){s[0].name?o?o.p(s,f):(o=jt(s),o.c(),o.m(r,null)):o&&(o.d(1),o=null)},d(s){s&&y(e),o&&o.d()}}}function jt(l){let e,t,n,r=l[0].name+"",o,s,f,i,a;return{c(){e=m("p"),t=V("Logged in as "),n=m("span"),o=V(r),s=R(),f=m("br"),i=R(),a=m("p"),a.textContent="A place to share your thoughts and ideas with others",b(n,"class","font-bold text-blue-500"),b(e,"class","text-2xl"),b(a,"class","text-4xl text-gray-900 font-extralight dark:text-gray-900")},m(u,d){w(u,e,d),p(e,t),p(e,n),p(n,o),w(u,s,d),w(u,f,d),w(u,i,d),w(u,a,d)},p(u,d){d&1&&r!==(r=u[0].name+"")&&X(o,r)},d(u){u&&(y(e),y(s),y(f),y(i),y(a))}}}function ur(l){let e,t,n,r;e=new _e({props:{user:l[0]}});let o=l[1]&&Et(l);return{c(){G(e.$$.fragment),t=R(),o&&o.c(),n=Q()},m(s,f){A(e,s,f),w(s,t,f),o&&o.m(s,f),w(s,n,f),r=!0},p(s,[f]){const i={};f&1&&(i.user=s[0]),e.$set(i),s[1]?o?o.p(s,f):(o=Et(s),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i(s){r||(E(e.$$.fragment,s),r=!0)},o(s){L(e.$$.fragment,s),r=!1},d(s){s&&(y(t),y(n)),q(e,s),o&&o.d(s)}}}function fr(l,e,t){let n,r=!1;return ue(()=>{n||(t(0,n=ce()),t(1,r=!0))}),[n,r]}class cr extends se{constructor(e){super(),oe(this,e,fr,ur,le,{})}}function ar(l){let e,t;return{c(){e=m("div"),t=V(l[1]),b(e,"class","bg-green-500 text-white p-4 rounded")},m(n,r){w(n,e,r),p(e,t)},p(n,r){r&2&&X(t,n[1])},d(n){n&&y(e)}}}function dr(l){let e,t;return{c(){e=m("div"),t=V(l[1]),b(e,"class","bg-red-500 text-white p-4 rounded")},m(n,r){w(n,e,r),p(e,t)},p(n,r){r&2&&X(t,n[1])},d(n){n&&y(e)}}}function _r(l){let e;function t(o,s){return o[0]?dr:ar}let n=t(l),r=n(l);return{c(){r.c(),e=Q()},m(o,s){r.m(o,s),w(o,e,s)},p(o,[s]){n===(n=t(o))&&r?r.p(o,s):(r.d(1),r=n(o),r&&(r.c(),r.m(e.parentNode,e)))},i:I,o:I,d(o){o&&y(e),r.d(o)}}}function pr(l,e,t){let{is_error:n}=e,{msg:r}=e;return l.$$set=o=>{"is_error"in o&&t(0,n=o.is_error),"msg"in o&&t(1,r=o.msg)},[n,r]}class ge extends se{constructor(e){super(),oe(this,e,pr,_r,le,{is_error:0,msg:1})}}function Dt(l){let e,t;return e=new ge({props:{is_error:l[4],msg:l[3]}}),{c(){G(e.$$.fragment)},m(n,r){A(e,n,r),t=!0},p(n,r){const o={};r&16&&(o.is_error=n[4]),r&8&&(o.msg=n[3]),e.$set(o)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function mr(l){let e;return{c(){e=m("b"),e.textContent="Register ",b(e,"class","font-medium text-blue-600 dark:text-blue-500 hover:underline")},m(t,n){w(t,e,n)},p:I,d(t){t&&y(e)}}}function br(l){let e,t,n,r,o,s,f,i,a,u,d,c,_,g,S,k,C,v,D,$,T,M,O,j;e=new _e({props:{user:l[2]}});let h=l[3]&&Dt(l);return $=new ie({props:{to:"/register",$$slots:{default:[mr]},$$scope:{ctx:l}}}),{c(){G(e.$$.fragment),t=R(),h&&h.c(),n=R(),r=m("div"),o=m("h1"),o.textContent="Login",s=R(),f=m("form"),i=m("label"),i.textContent="Username:",a=R(),u=m("input"),d=R(),c=m("label"),c.textContent="Password:",_=R(),g=m("input"),S=R(),k=m("button"),k.textContent="Login",C=R(),v=m("p"),D=V("Don't have an account yet? "),G($.$$.fragment),T=V("."),b(i,"for","username"),b(u,"type","text"),b(u,"id","username"),b(c,"for","password"),b(g,"type","password"),b(g,"id","password"),b(k,"type","submit"),b(k,"class","dark:bg-green-500 bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded")},m(P,N){A(e,P,N),w(P,t,N),h&&h.m(P,N),w(P,n,N),w(P,r,N),p(r,o),p(r,s),p(r,f),p(f,i),p(f,a),p(f,u),x(u,l[0]),p(f,d),p(f,c),p(f,_),p(f,g),x(g,l[1]),p(f,S),p(f,k),p(r,C),p(r,v),p(v,D),A($,v,null),p(v,T),M=!0,O||(j=[B(u,"input",l[6]),B(g,"input",l[7]),B(f,"submit",Ye(l[5]))],O=!0)},p(P,[N]){const U={};N&4&&(U.user=P[2]),e.$set(U),P[3]?h?(h.p(P,N),N&8&&E(h,1)):(h=Dt(P),h.c(),E(h,1),h.m(n.parentNode,n)):h&&(Y(),L(h,1,1,()=>{h=null}),K()),N&1&&u.value!==P[0]&&x(u,P[0]),N&2&&g.value!==P[1]&&x(g,P[1]);const J={};N&256&&(J.$$scope={dirty:N,ctx:P}),$.$set(J)},i(P){M||(E(e.$$.fragment,P),E(h),E($.$$.fragment,P),M=!0)},o(P){L(e.$$.fragment,P),L(h),L($.$$.fragment,P),M=!1},d(P){P&&(y(t),y(n),y(r)),q(e,P),h&&h.d(P),q($),O=!1,ne(j)}}}function gr(l,e,t){let n="",r="",o,s="",f=!1;ue(()=>{t(2,o=ce()),o.name&&(console.log("Already logged in."),ke("/",{replace:!0}))});async function i(){const[d,c]=await re(`${z}/login`,{name:n,pw:r});d?(Re.set({name:n,uid:c.uid,admin:c.admin}),ke("/",{replace:!0})):(t(3,s=c.detail),t(4,f=!0))}function a(){n=this.value,t(0,n)}function u(){r=this.value,t(1,r)}return[n,r,o,s,f,i,a,u]}class hr extends se{constructor(e){super(),oe(this,e,gr,br,le,{})}}function Lt(l){let e,t;return e=new ge({props:{is_error:l[4],msg:l[3]}}),{c(){G(e.$$.fragment)},m(n,r){A(e,n,r),t=!0},p(n,r){const o={};r&16&&(o.is_error=n[4]),r&8&&(o.msg=n[3]),e.$set(o)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function kr(l){let e,t;return{c(){e=m("b"),e.textContent="Login",t=R(),b(e,"class","font-medium text-blue-600 dark:text-blue-500 hover:underline")},m(n,r){w(n,e,r),w(n,t,r)},p:I,d(n){n&&(y(e),y(t))}}}function yr(l){let e,t,n,r,o,s,f,i,a,u,d,c,_,g,S,k,C,v,D,$,T,M,O,j;e=new _e({props:{user:l[2]}});let h=l[3]&&Lt(l);return $=new ie({props:{to:"/login",$$slots:{default:[kr]},$$scope:{ctx:l}}}),{c(){G(e.$$.fragment),t=R(),h&&h.c(),n=R(),r=m("div"),o=m("h1"),o.textContent="Register",s=R(),f=m("form"),i=m("label"),i.textContent="Username:",a=R(),u=m("input"),d=R(),c=m("label"),c.textContent="Password:",_=R(),g=m("input"),S=R(),k=m("button"),k.textContent="Register",C=R(),v=m("p"),D=V("Already have an account? "),G($.$$.fragment),T=V("."),b(i,"for","username"),b(u,"type","text"),b(u,"id","username"),b(c,"for","password"),b(g,"type","password"),b(g,"id","password"),b(k,"type","submit"),b(k,"class","bg-green-500 dark:bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded")},m(P,N){A(e,P,N),w(P,t,N),h&&h.m(P,N),w(P,n,N),w(P,r,N),p(r,o),p(r,s),p(r,f),p(f,i),p(f,a),p(f,u),x(u,l[0]),p(f,d),p(f,c),p(f,_),p(f,g),x(g,l[1]),p(f,S),p(f,k),p(r,C),p(r,v),p(v,D),A($,v,null),p(v,T),M=!0,O||(j=[B(u,"input",l[6]),B(g,"input",l[7]),B(f,"submit",Ye(l[5]))],O=!0)},p(P,[N]){const U={};N&4&&(U.user=P[2]),e.$set(U),P[3]?h?(h.p(P,N),N&8&&E(h,1)):(h=Lt(P),h.c(),E(h,1),h.m(n.parentNode,n)):h&&(Y(),L(h,1,1,()=>{h=null}),K()),N&1&&u.value!==P[0]&&x(u,P[0]),N&2&&g.value!==P[1]&&x(g,P[1]);const J={};N&256&&(J.$$scope={dirty:N,ctx:P}),$.$set(J)},i(P){M||(E(e.$$.fragment,P),E(h),E($.$$.fragment,P),M=!0)},o(P){L(e.$$.fragment,P),L(h),L($.$$.fragment,P),M=!1},d(P){P&&(y(t),y(n),y(r)),q(e,P),h&&h.d(P),q($),O=!1,ne(j)}}}function wr(l,e,t){let n="",r="",o,s="",f=!1;ue(()=>{t(2,o=ce()),o.name&&(console.log("Already logged in."),ke("/",{replace:!0}))});async function i(){const[d,c]=await re(`${z}/register`,{name:n,pw:r});d?(Re.set({name:n,uid:c.uid,admin:c.admin}),ke("/",{replace:!0})):(t(3,s=c.detail),t(4,f=!0))}function a(){n=this.value,t(0,n)}function u(){r=this.value,t(1,r)}return[n,r,o,s,f,i,a,u]}class $r extends se{constructor(e){super(),oe(this,e,wr,yr,le,{})}}function Tt(l,e,t){const n=l.slice();return n[8]=e[t],n}function Ot(l){let e,t;return e=new ge({props:{msg:l[3],is_error:l[4]}}),{c(){G(e.$$.fragment)},m(n,r){A(e,n,r),t=!0},p(n,r){const o={};r&8&&(o.msg=n[3]),r&16&&(o.is_error=n[4]),e.$set(o)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function vr(l){let e,t,n,r;const o=[Pr,Nr],s=[];function f(i,a){return i[0].length>0?0:1}return e=f(l),t=s[e]=o[e](l),{c(){t.c(),n=Q()},m(i,a){s[e].m(i,a),w(i,n,a),r=!0},p(i,a){let u=e;e=f(i),e===u?s[e].p(i,a):(Y(),L(s[u],1,1,()=>{s[u]=null}),K(),t=s[e],t?t.p(i,a):(t=s[e]=o[e](i),t.c()),E(t,1),t.m(n.parentNode,n))},i(i){r||(E(t),r=!0)},o(i){L(t),r=!1},d(i){i&&y(n),s[e].d(i)}}}function Cr(l){let e;return{c(){e=m("p"),e.textContent="Loading..."},m(t,n){w(t,e,n)},p:I,i:I,o:I,d(t){t&&y(e)}}}function Nr(l){let e;return{c(){e=m("p"),e.textContent="No profiles to show."},m(t,n){w(t,e,n)},p:I,i:I,o:I,d(t){t&&y(e)}}}function Pr(l){let e,t,n,r,o,s,f,i,a,u,d,c,_,g=l[1]&&l[1].admin&&It(),S=ee(l[0]),k=[];for(let v=0;v<S.length;v+=1)k[v]=Ut(Tt(l,S,v));const C=v=>L(k[v],1,1,()=>{k[v]=null});return{c(){e=m("div"),e.textContent="Profiles",t=R(),n=m("div"),r=m("table"),o=m("thead"),s=m("tr"),f=m("th"),f.textContent="Username",i=R(),a=m("th"),a.textContent="Profile Description",u=R(),g&&g.c(),d=R(),c=m("tbody");for(let v=0;v<k.length;v+=1)k[v].c();b(e,"class","text-center my-4 text-2xl font-bold"),b(f,"class","py-2 px-4 border-b text-center"),b(a,"class","py-2 px-4 border-b text-center"),b(r,"class","min-w-full bg-white border border-gray-300"),b(n,"class","overflow-x-auto")},m(v,D){w(v,e,D),w(v,t,D),w(v,n,D),p(n,r),p(r,o),p(o,s),p(s,f),p(s,i),p(s,a),p(s,u),g&&g.m(s,null),p(r,d),p(r,c);for(let $=0;$<k.length;$+=1)k[$]&&k[$].m(c,null);_=!0},p(v,D){if(v[1]&&v[1].admin?g||(g=It(),g.c(),g.m(s,null)):g&&(g.d(1),g=null),D&35){S=ee(v[0]);let $;for($=0;$<S.length;$+=1){const T=Tt(v,S,$);k[$]?(k[$].p(T,D),E(k[$],1)):(k[$]=Ut(T),k[$].c(),E(k[$],1),k[$].m(c,null))}for(Y(),$=S.length;$<k.length;$+=1)C($);K()}},i(v){if(!_){for(let D=0;D<S.length;D+=1)E(k[D]);_=!0}},o(v){k=k.filter(Boolean);for(let D=0;D<k.length;D+=1)L(k[D]);_=!1},d(v){v&&(y(e),y(t),y(n)),g&&g.d(),ye(k,v)}}}function It(l){let e;return{c(){e=m("th"),e.textContent="Actions",b(e,"class","py-2 px-4 border-b text-center")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Sr(l){let e=l[8].name+"",t;return{c(){t=V(e)},m(n,r){w(n,t,r)},p(n,r){r&1&&e!==(e=n[8].name+"")&&X(t,e)},d(n){n&&y(t)}}}function Mt(l){let e,t,n,r;function o(){return l[6](l[8])}return{c(){e=m("td"),t=m("button"),t.textContent="Delete",b(t,"class","bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded"),b(e,"class","py-2 px-4 border-b text-center")},m(s,f){w(s,e,f),p(e,t),n||(r=B(t,"click",o),n=!0)},p(s,f){l=s},d(s){s&&y(e),n=!1,r()}}}function Ut(l){let e,t,n,r,o,s=l[8].profile_desc+"",f,i,a,u;n=new ie({props:{to:"/profile/"+l[8].id,$$slots:{default:[Sr]},$$scope:{ctx:l}}});let d=l[1]&&l[1].admin&&l[1].uid!=l[8].id&&Mt(l);return{c(){e=m("tr"),t=m("td"),G(n.$$.fragment),r=R(),o=m("td"),f=V(s),i=R(),d&&d.c(),a=R(),b(t,"class","py-2 px-4 border-b text-center"),b(o,"class","py-2 px-4 border-b text-center"),b(e,"class","hover:bg-gray-100")},m(c,_){w(c,e,_),p(e,t),A(n,t,null),p(e,r),p(e,o),p(o,f),p(e,i),d&&d.m(e,null),p(e,a),u=!0},p(c,_){const g={};_&1&&(g.to="/profile/"+c[8].id),_&2049&&(g.$$scope={dirty:_,ctx:c}),n.$set(g),(!u||_&1)&&s!==(s=c[8].profile_desc+"")&&X(f,s),c[1]&&c[1].admin&&c[1].uid!=c[8].id?d?d.p(c,_):(d=Mt(c),d.c(),d.m(e,a)):d&&(d.d(1),d=null)},i(c){u||(E(n.$$.fragment,c),u=!0)},o(c){L(n.$$.fragment,c),u=!1},d(c){c&&y(e),q(n),d&&d.d()}}}function Rr(l){let e,t,n,r,o,s,f;e=new _e({props:{user:l[1]}});let i=l[3]&&Ot(l);const a=[Cr,vr],u=[];function d(c,_){return c[2]?1:0}return o=d(l),s=u[o]=a[o](l),{c(){G(e.$$.fragment),t=R(),i&&i.c(),n=R(),r=m("div"),s.c()},m(c,_){A(e,c,_),w(c,t,_),i&&i.m(c,_),w(c,n,_),w(c,r,_),u[o].m(r,null),f=!0},p(c,[_]){const g={};_&2&&(g.user=c[1]),e.$set(g),c[3]?i?(i.p(c,_),_&8&&E(i,1)):(i=Ot(c),i.c(),E(i,1),i.m(n.parentNode,n)):i&&(Y(),L(i,1,1,()=>{i=null}),K());let S=o;o=d(c),o===S?u[o].p(c,_):(Y(),L(u[S],1,1,()=>{u[S]=null}),K(),s=u[o],s?s.p(c,_):(s=u[o]=a[o](c),s.c()),E(s,1),s.m(r,null))},i(c){f||(E(e.$$.fragment,c),E(i),E(s),f=!0)},o(c){L(e.$$.fragment,c),L(i),L(s),f=!1},d(c){c&&(y(t),y(n),y(r)),q(e,c),i&&i.d(c),u[o].d()}}}function Er(l,e,t){let n=[],r,o=!1,s="",f=!1;ue(()=>{t(1,r=ce()),i()});async function i(){const[d,c]=await fe(`${z}/users`);d?(t(0,n=c),t(2,o=!0)):(t(3,s=c.detail),t(4,f=!0))}async function a(d){const[c,_]=await Ke(`${z}/user/${d}/delete`);c?(i(),t(3,s=_.detail),t(4,f=!1)):(t(3,s=_.detail),t(4,f=!0))}return[n,r,o,s,f,a,d=>{a(d.id)}]}class jr extends se{constructor(e){super(),oe(this,e,Er,Rr,le,{})}}function At(l,e,t){const n=l.slice();return n[22]=e[t],n}function qt(l,e,t){const n=l.slice();return n[25]=e[t],n}function Gt(l){let e,t;return e=new ge({props:{is_error:l[7],msg:l[6]}}),{c(){G(e.$$.fragment)},m(n,r){A(e,n,r),t=!0},p(n,r){const o={};r&128&&(o.is_error=n[7]),r&64&&(o.msg=n[6]),e.$set(o)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Dr(l){let e,t,n,r,o,s=l[0].admin&&l[0].uid!=l[1].id&&Ht(l);const f=[Or,Tr],i=[];function a(u,d){return u[5]?1:0}return t=a(l),n=i[t]=f[t](l),{c(){s&&s.c(),e=R(),n.c(),r=Q()},m(u,d){s&&s.m(u,d),w(u,e,d),i[t].m(u,d),w(u,r,d),o=!0},p(u,d){u[0].admin&&u[0].uid!=u[1].id?s?s.p(u,d):(s=Ht(u),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null);let c=t;t=a(u),t===c?i[t].p(u,d):(Y(),L(i[c],1,1,()=>{i[c]=null}),K(),n=i[t],n?n.p(u,d):(n=i[t]=f[t](u),n.c()),E(n,1),n.m(r.parentNode,r))},i(u){o||(E(n),o=!0)},o(u){L(n),o=!1},d(u){u&&(y(e),y(r)),s&&s.d(u),i[t].d(u)}}}function Lr(l){let e;return{c(){e=m("p"),e.textContent="Loading..."},m(t,n){w(t,e,n)},p:I,i:I,o:I,d(t){t&&y(e)}}}function Ht(l){let e,t,n;return{c(){e=m("button"),e.textContent="Delete User",b(e,"class","bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded")},m(r,o){w(r,e,o),t||(n=B(e,"click",l[15]),t=!0)},p:I,d(r){r&&y(e),t=!1,n()}}}function Tr(l){let e,t,n,r=l[1].name+"",o,s,f,i,a,u,d,c,_,g,S,k,C=l[1].profile_img_path&&Bt(l);function v(h,P){return h[1].profile_desc===null?Mr:Ir}let D=v(l),$=D(l),T=l[2]&&Jt(l);const M=[Ar,Ur],O=[];function j(h,P){return h[1].groups.length===0?0:1}return g=j(l),S=O[g]=M[g](l),{c(){e=m("div"),t=m("div"),n=m("h1"),o=V(r),s=V("'s profile"),f=R(),C&&C.c(),i=R(),a=m("p"),a.textContent="Profile Description",u=R(),$.c(),d=R(),T&&T.c(),c=R(),_=m("div"),S.c(),b(n,"class","text-4xl font-bold text-gray-900 dark:text-gray-500"),b(t,"class","flex items-center"),b(a,"class","font-bold"),b(e,"class","flex flex-col items-center"),b(_,"class","flex justify-center")},m(h,P){w(h,e,P),p(e,t),p(t,n),p(n,o),p(n,s),p(e,f),C&&C.m(e,null),p(e,i),p(e,a),p(e,u),$.m(e,null),w(h,d,P),T&&T.m(h,P),w(h,c,P),w(h,_,P),O[g].m(_,null),k=!0},p(h,P){(!k||P&2)&&r!==(r=h[1].name+"")&&X(o,r),h[1].profile_img_path?C?C.p(h,P):(C=Bt(h),C.c(),C.m(e,i)):C&&(C.d(1),C=null),D===(D=v(h))&&$?$.p(h,P):($.d(1),$=D(h),$&&($.c(),$.m(e,null))),h[2]?T?T.p(h,P):(T=Jt(h),T.c(),T.m(c.parentNode,c)):T&&(T.d(1),T=null);let N=g;g=j(h),g===N?O[g].p(h,P):(Y(),L(O[N],1,1,()=>{O[N]=null}),K(),S=O[g],S?S.p(h,P):(S=O[g]=M[g](h),S.c()),E(S,1),S.m(_,null))},i(h){k||(E(S),k=!0)},o(h){L(S),k=!1},d(h){h&&(y(e),y(d),y(c),y(_)),C&&C.d(),$.d(),T&&T.d(h),O[g].d()}}}function Or(l){let e;function t(o,s){return o[1].visibility==2?Hr:Gr}let n=t(l),r=n(l);return{c(){r.c(),e=Q()},m(o,s){r.m(o,s),w(o,e,s)},p(o,s){n!==(n=t(o))&&(r.d(1),r=n(o),r&&(r.c(),r.m(e.parentNode,e)))},i:I,o:I,d(o){o&&y(e),r.d(o)}}}function Bt(l){let e,t;return{c(){e=m("img"),b(e,"id","userImage"),Ue(e.src,t=l[9]+"/user/"+l[1].id+"/image/"+l[1].profile_img_path)||b(e,"src",t),b(e,"alt","User img"),b(e,"crossorigin","use-credentials"),b(e,"class","my-4")},m(n,r){w(n,e,r)},p(n,r){r&2&&!Ue(e.src,t=n[9]+"/user/"+n[1].id+"/image/"+n[1].profile_img_path)&&b(e,"src",t)},d(n){n&&y(e)}}}function Ir(l){let e,t=l[1].profile_desc+"",n;return{c(){e=m("p"),n=V(t)},m(r,o){w(r,e,o),p(e,n)},p(r,o){o&2&&t!==(t=r[1].profile_desc+"")&&X(n,t)},d(r){r&&y(e)}}}function Mr(l){let e;return{c(){e=m("p"),e.textContent="Empty"},m(t,n){w(t,e,n)},p:I,d(t){t&&y(e)}}}function Jt(l){let e,t,n,r,o,s=l[3]&&zt(l);return{c(){e=m("div"),t=m("button"),t.textContent="Edit Profile",n=R(),s&&s.c(),b(t,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"),b(e,"class","flex flex-col items-center")},m(f,i){w(f,e,i),p(e,t),p(e,n),s&&s.m(e,null),r||(o=B(t,"click",l[16]),r=!0)},p(f,i){f[3]?s?s.p(f,i):(s=zt(f),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(f){f&&y(e),s&&s.d(),r=!1,o()}}}function zt(l){let e,t,n,r,o,s,f,i,a,u,d,c,_,g,S,k,C,v,D,$,T,M,O,j=ee(l[8]),h=[];for(let P=0;P<j.length;P+=1)h[P]=Vt(qt(l,j,P));return{c(){e=m("div"),t=m("label"),t.textContent="Profile Description:",n=R(),r=m("input"),o=R(),s=m("button"),s.textContent="Save",f=R(),i=m("div"),a=m("label"),a.textContent="Profile Image:",u=R(),d=m("input"),c=R(),_=m("button"),_.textContent="Edit Profile Image",g=R(),S=m("form"),k=m("select");for(let P=0;P<h.length;P+=1)h[P].c();C=R(),v=m("button"),v.textContent="Edit Profile Visibility",D=R(),$=m("div"),T=m("button"),T.textContent="Cancel Profile Edit",b(t,"for","profileDesc"),b(r,"type","text"),b(r,"class","backdrop-blur-3xl my-2"),b(s,"class","bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"),b(a,"for","profileImg"),b(d,"type","file"),b(d,"id","profileImg"),b(d,"name","profileImg"),b(d,"accept","image/png, image/jpeg"),b(d,"class","backdrop-blur-3xl my-2"),b(_,"class","bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"),b(i,"class","my-4"),l[4]===void 0&&be(()=>l[18].call(k)),b(v,"type","submit"),b(v,"class","bg-green-500 dark:bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded mt-2"),b(S,"class","my-4"),b(T,"class","bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded mt-4"),b($,"class","flex flex-col items-center"),b(e,"class","mt-4")},m(P,N){w(P,e,N),p(e,t),p(e,n),p(e,r),x(r,l[1].profile_desc),p(e,o),p(e,s),p(e,f),p(e,i),p(i,a),p(i,u),p(i,d),p(i,c),p(i,_),p(e,g),p(e,S),p(S,k);for(let U=0;U<h.length;U+=1)h[U]&&h[U].m(k,null);Ae(k,l[4],!0),p(S,C),p(S,v),p(e,D),p(e,$),p($,T),M||(O=[B(r,"input",l[17]),B(s,"click",l[10]),B(_,"click",l[11]),B(k,"change",l[18]),B(S,"submit",Ye(l[12])),B(T,"click",l[19])],M=!0)},p(P,N){if(N&2&&r.value!==P[1].profile_desc&&x(r,P[1].profile_desc),N&256){j=ee(P[8]);let U;for(U=0;U<j.length;U+=1){const J=qt(P,j,U);h[U]?h[U].p(J,N):(h[U]=Vt(J),h[U].c(),h[U].m(k,null))}for(;U<h.length;U+=1)h[U].d(1);h.length=j.length}N&272&&Ae(k,P[4])},d(P){P&&y(e),ye(h,P),M=!1,ne(O)}}}function Vt(l){let e,t=l[25].visibility+"",n;return{c(){e=m("option"),n=V(t),e.__value=l[25],x(e,e.__value)},m(r,o){w(r,e,o),p(e,n)},p:I,d(r){r&&y(e)}}}function Ur(l){let e,t,n,r,o=[],s=new Map,f,i=ee(l[1].groups);const a=u=>u[22].id;for(let u=0;u<i.length;u+=1){let d=At(l,i,u),c=a(d);s.set(c,o[u]=Ft(c,d))}return{c(){e=m("table"),t=m("thead"),t.innerHTML='<tr><th class="text-2xl">Joined Groups</th></tr>',n=R(),r=m("tbody");for(let u=0;u<o.length;u+=1)o[u].c();b(e,"class","min-w-max")},m(u,d){w(u,e,d),p(e,t),p(e,n),p(e,r);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(r,null);f=!0},p(u,d){d&2&&(i=ee(u[1].groups),Y(),o=ct(o,d,a,1,u,i,s,r,ft,Ft,null,At),K())},i(u){if(!f){for(let d=0;d<i.length;d+=1)E(o[d]);f=!0}},o(u){for(let d=0;d<o.length;d+=1)L(o[d]);f=!1},d(u){u&&y(e);for(let d=0;d<o.length;d+=1)o[d].d()}}}function Ar(l){let e;return{c(){e=m("table"),e.innerHTML='<thead><tr><th class="text-2xl">Joined Groups</th></tr></thead> <tbody><tr><td class="font-bold"><p>No groups joined</p></td></tr></tbody>',b(e,"class","min-w-max")},m(t,n){w(t,e,n)},p:I,i:I,o:I,d(t){t&&y(e)}}}function qr(l){let e=l[22].name+"",t;return{c(){t=V(e)},m(n,r){w(n,t,r)},p(n,r){r&2&&e!==(e=n[22].name+"")&&X(t,e)},d(n){n&&y(t)}}}function Ft(l,e){let t,n,r,o,s;return r=new ie({props:{to:`group/${e[22].id}`,class:"block hover:text-blue-600",$$slots:{default:[qr]},$$scope:{ctx:e}}}),{key:l,first:null,c(){t=m("tr"),n=m("td"),G(r.$$.fragment),o=R(),b(n,"class","font-bold p-3 rounded-lg"),b(t,"class","bg-blue-100 rounded-lg"),this.first=t},m(f,i){w(f,t,i),p(t,n),A(r,n,null),p(t,o),s=!0},p(f,i){e=f;const a={};i&2&&(a.to=`group/${e[22].id}`),i&268435458&&(a.$$scope={dirty:i,ctx:e}),r.$set(a)},i(f){s||(E(r.$$.fragment,f),s=!0)},o(f){L(r.$$.fragment,f),s=!1},d(f){f&&y(t),q(r)}}}function Gr(l){let e;return{c(){e=m("p"),e.textContent="Profile not visible, because you are not in any of the groups this user is in."},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Hr(l){let e;return{c(){e=m("p"),e.textContent="Profile not visible, because you are not registered."},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Br(l){let e,t,n,r,o,s,f;e=new _e({props:{user:l[0]}});let i=l[6]&&Gt(l);const a=[Lr,Dr],u=[];function d(c,_){return c[1].name?1:0}return r=d(l),o=u[r]=a[r](l),{c(){G(e.$$.fragment),t=R(),i&&i.c(),n=R(),o.c(),s=Q()},m(c,_){A(e,c,_),w(c,t,_),i&&i.m(c,_),w(c,n,_),u[r].m(c,_),w(c,s,_),f=!0},p(c,[_]){const g={};_&1&&(g.user=c[0]),e.$set(g),c[6]?i?(i.p(c,_),_&64&&E(i,1)):(i=Gt(c),i.c(),E(i,1),i.m(n.parentNode,n)):i&&(Y(),L(i,1,1,()=>{i=null}),K());let S=r;r=d(c),r===S?u[r].p(c,_):(Y(),L(u[S],1,1,()=>{u[S]=null}),K(),o=u[r],o?o.p(c,_):(o=u[r]=a[r](c),o.c()),E(o,1),o.m(s.parentNode,s))},i(c){f||(E(e.$$.fragment,c),E(i),E(o),f=!0)},o(c){L(e.$$.fragment,c),L(i),L(o),f=!1},d(c){c&&(y(t),y(n),y(s)),q(e,c),i&&i.d(c),u[r].d(c)}}}function Jr(l,e,t){let{uid:n}=e,r,o={groups:[]},s=!1,f=!1,i=[{id:1,visibility:"public"},{id:2,visibility:"registered"},{id:3,visibility:"groups"}],a,u=!1,d=`${z}`,c="",_=!1;ue(()=>{if(t(0,r=ce()),!r.name){ke("/",{replace:!0});return}g()});async function g(){const[h,P]=await fe(`${z}/user/${n}/profile`);if(!h){t(6,c=P.detail),t(7,_=!0);return}t(1,o=P),o.name===r.name&&t(2,s=!0),r.uid!=o.id?S():t(5,u=!0)}async function S(){if(o.visibility===1)t(5,u=!0);else if(o.visibility===2)r?t(5,u=!0):t(5,u=!1);else if(o.visibility===3)if(r){let h=await Kl(r.uid);for(let P=0;P<h.length;P++)for(let N=0;N<o.groups.length;N++)if(h[P].id===o.groups[N].id){t(5,u=!0);return}t(5,u=!1)}else t(5,u=!1)}async function k(){const[h,P]=await re(`${z}/user/${n}/edit_desc`,{name:o.name,desc:o.profile_desc});h?(t(6,c="Profile description updated."),t(7,_=!1)):(t(6,c=P.detail),t(7,_=!0))}async function C(){let h=new FormData;if(!document.getElementById("profileImg").files[0]){t(6,c="No file selected."),t(7,_=!0);return}h.append("file",document.getElementById("profileImg").files[0]);const[P,N]=await Ql(`${z}/user/${n}/edit_image`,h);if(!P){t(6,c=N.detail),t(7,_=!0);return}t(1,o.profile_img_path=N.path,o),t(1,o),t(6,c="Profile image updated."),t(7,_=!1)}async function v(){const[h,P]=await re(`${z}/user/${n}/edit_visibility`,{name:o.name,visibility:a.visibility});h?(t(6,c="Profile visibility updated."),t(7,_=!1)):(t(6,c=P.detail),t(7,_=!0))}async function D(h){const[P,N]=await Ke(`${z}/user/${h}/delete`);P?(console.log("User deleted."),ke("/",{replace:!0})):(t(6,c=N.detail),t(7,_=!0))}const $=()=>D(o.id),T=()=>t(3,f=!0);function M(){o.profile_desc=this.value,t(1,o)}function O(){a=An(this),t(4,a),t(8,i)}const j=()=>t(3,f=!1);return l.$$set=h=>{"uid"in h&&t(14,n=h.uid)},[r,o,s,f,a,u,c,_,i,d,k,C,v,D,n,$,T,M,O,j]}class zr extends se{constructor(e){super(),oe(this,e,Jr,Br,le,{uid:14})}}function Yt(l,e,t){const n=l.slice();return n[9]=e[t],n}function Kt(l){let e,t;return e=new ge({props:{msg:l[4],is_error:l[5]}}),{c(){G(e.$$.fragment)},m(n,r){A(e,n,r),t=!0},p(n,r){const o={};r&16&&(o.msg=n[4]),r&32&&(o.is_error=n[5]),e.$set(o)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Vr(l){let e,t,n,r,o,s;const f=[Kr,Yr],i=[];function a(d,c){return d[0],0;return 1}t=a(l),n=i[t]=f[t](l);let u=l[1].name&&Qt(l);return{c(){e=m("div"),n.c(),r=R(),u&&u.c(),o=Q(),b(e,"class","relative overflow-x-auto")},m(d,c){w(d,e,c),i[t].m(e,null),w(d,r,c),u&&u.m(d,c),w(d,o,c),s=!0},p(d,c){let _=t;t=a(d),t===_?i[t].p(d,c):(Y(),L(i[_],1,1,()=>{i[_]=null}),K(),n=i[t],n?n.p(d,c):(n=i[t]=f[t](d),n.c()),E(n,1),n.m(e,null)),d[1].name?u?u.p(d,c):(u=Qt(d),u.c(),u.m(o.parentNode,o)):u&&(u.d(1),u=null)},i(d){s||(E(n),s=!0)},o(d){L(n),s=!1},d(d){d&&(y(e),y(r),y(o)),i[t].d(),u&&u.d(d)}}}function Fr(l){let e;return{c(){e=m("p"),e.textContent="Loading..."},m(t,n){w(t,e,n)},p:I,i:I,o:I,d(t){t&&y(e)}}}function Yr(l){let e;return{c(){e=m("p"),e.textContent="No groups to show..."},m(t,n){w(t,e,n)},p:I,i:I,o:I,d(t){t&&y(e)}}}function Kr(l){let e,t,n,r,o=[],s=new Map,f,i=ee(l[0]);const a=u=>u[9].id;for(let u=0;u<i.length;u+=1){let d=Yt(l,i,u),c=a(d);s.set(c,o[u]=Wt(c,d))}return{c(){e=m("table"),t=m("thead"),t.innerHTML='<tr><th scope="col" class="px-6 py-3">Group Name</th> <th scope="col" class="px-6 py-3">Description</th></tr>',n=R(),r=m("tbody");for(let u=0;u<o.length;u+=1)o[u].c();b(t,"class","text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"),b(e,"class","w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400")},m(u,d){w(u,e,d),p(e,t),p(e,n),p(e,r);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(r,null);f=!0},p(u,d){d&1&&(i=ee(u[0]),Y(),o=ct(o,d,a,1,u,i,s,r,ft,Wt,null,Yt),K())},i(u){if(!f){for(let d=0;d<i.length;d+=1)E(o[d]);f=!0}},o(u){for(let d=0;d<o.length;d+=1)L(o[d]);f=!1},d(u){u&&y(e);for(let d=0;d<o.length;d+=1)o[d].d()}}}function Wr(l){let e=l[9].name+"",t;return{c(){t=V(e)},m(n,r){w(n,t,r)},p(n,r){r&1&&e!==(e=n[9].name+"")&&X(t,e)},d(n){n&&y(t)}}}function Wt(l,e){let t,n,r,o,s,f=e[9].desc+"",i,a,u;return r=new ie({props:{to:`group/${e[9].id}`,$$slots:{default:[Wr]},$$scope:{ctx:e}}}),{key:l,first:null,c(){t=m("tr"),n=m("th"),G(r.$$.fragment),o=R(),s=m("td"),i=V(f),a=R(),b(n,"scope","row"),b(n,"class","px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"),b(s,"class","px-6 py-4"),b(t,"class","bg-white border-b dark:bg-gray-800 dark:border-gray-700"),this.first=t},m(d,c){w(d,t,c),p(t,n),A(r,n,null),p(t,o),p(t,s),p(s,i),p(t,a),u=!0},p(d,c){e=d;const _={};c&1&&(_.to=`group/${e[9].id}`),c&4097&&(_.$$scope={dirty:c,ctx:e}),r.$set(_),(!u||c&1)&&f!==(f=e[9].desc+"")&&X(i,f)},i(d){u||(E(r.$$.fragment,d),u=!0)},o(d){L(r.$$.fragment,d),u=!1},d(d){d&&y(t),q(r)}}}function Qt(l){let e,t,n,r,o,s,f,i;return{c(){e=m("div"),t=m("label"),t.textContent="New Group Name",n=R(),r=m("input"),o=R(),s=m("button"),s.textContent="Create Group",b(t,"for","success"),b(t,"class","block mb-2 text-sm font-bold"),b(r,"type","text"),b(r,"id","success"),b(r,"class","bg-green-50 border border-green-500 text-green-900 dark:text-green-400 placeholder-green-700 dark:placeholder-green-500 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5 dark:bg-gray-700 dark:border-green-500"),b(r,"placeholder","Enter group name"),b(s,"type","button"),b(s,"class","text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"),b(e,"class","mb-6")},m(a,u){w(a,e,u),p(e,t),p(e,n),p(e,r),x(r,l[2]),p(e,o),p(e,s),f||(i=[B(r,"input",l[7]),B(s,"click",l[6])],f=!0)},p(a,u){u&4&&r.value!==a[2]&&x(r,a[2])},d(a){a&&y(e),f=!1,ne(i)}}}function Qr(l){let e,t,n,r,o,s,f;e=new _e({props:{user:l[1]}});let i=l[4]&&Kt(l);const a=[Fr,Vr],u=[];function d(c,_){return c[3]?1:0}return o=d(l),s=u[o]=a[o](l),{c(){G(e.$$.fragment),t=R(),i&&i.c(),n=R(),r=m("div"),s.c()},m(c,_){A(e,c,_),w(c,t,_),i&&i.m(c,_),w(c,n,_),w(c,r,_),u[o].m(r,null),f=!0},p(c,[_]){const g={};_&2&&(g.user=c[1]),e.$set(g),c[4]?i?(i.p(c,_),_&16&&E(i,1)):(i=Kt(c),i.c(),E(i,1),i.m(n.parentNode,n)):i&&(Y(),L(i,1,1,()=>{i=null}),K());let S=o;o=d(c),o===S?u[o].p(c,_):(Y(),L(u[S],1,1,()=>{u[S]=null}),K(),s=u[o],s?s.p(c,_):(s=u[o]=a[o](c),s.c()),E(s,1),s.m(r,null))},i(c){f||(E(e.$$.fragment,c),E(i),E(s),f=!0)},o(c){L(e.$$.fragment,c),L(i),L(s),f=!1},d(c){c&&(y(t),y(n),y(r)),q(e,c),i&&i.d(c),u[o].d()}}}function Xr(l,e,t){let n=[],r,o="",s=!1,f="",i=!1;ue(()=>{t(1,r=ce()),a()});async function a(){const[c,_]=await fe(`${z}/groups`);c?(t(0,n=_),t(3,s=!0)):(t(4,f=_.detail),t(5,i=!0))}async function u(){if(!o){t(4,f="Please enter a group name."),t(5,i=!0);return}const[c,_]=await re(`${z}/group/create`,{name:o});c?(t(4,f=_.detail),t(5,i=!1),a()):(t(4,f=_.detail),t(5,i=!0))}function d(){o=this.value,t(2,o)}return[n,r,o,s,f,i,u,d]}class Zr extends se{constructor(e){super(),oe(this,e,Xr,Qr,le,{})}}function Xt(l,e,t){const n=l.slice();return n[30]=e[t],n}function Zt(l,e,t){const n=l.slice();return n[33]=e[t],n}function xt(l){let e,t;return e=new ge({props:{msg:l[12],is_error:l[13]}}),{c(){G(e.$$.fragment)},m(n,r){A(e,n,r),t=!0},p(n,r){const o={};r[0]&4096&&(o.msg=n[12]),r[0]&8192&&(o.is_error=n[13]),e.$set(o)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function xr(l){let e,t,n,r,o;const s=[no,to],f=[];function i(u,d){return u[0].visibility===2&&!u[3]?0:1}e=i(l),t=f[e]=s[e](l);let a=!l[3]&&l[1]&&an(l);return{c(){t.c(),n=R(),a&&a.c(),r=Q()},m(u,d){f[e].m(u,d),w(u,n,d),a&&a.m(u,d),w(u,r,d),o=!0},p(u,d){let c=e;e=i(u),e===c?f[e].p(u,d):(Y(),L(f[c],1,1,()=>{f[c]=null}),K(),t=f[e],t?t.p(u,d):(t=f[e]=s[e](u),t.c()),E(t,1),t.m(n.parentNode,n)),!u[3]&&u[1]?a?a.p(u,d):(a=an(u),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i(u){o||(E(t),o=!0)},o(u){L(t),o=!1},d(u){u&&(y(n),y(r)),f[e].d(u),a&&a.d(u)}}}function eo(l){let e;return{c(){e=m("p"),e.textContent="Loading..."},m(t,n){w(t,e,n)},p:I,i:I,o:I,d(t){t&&y(e)}}}function to(l){let e,t,n,r,o,s=l[0].name+"",f,i,a,u,d,c,_,g,S,k=(l[5]||l[4])&&en(l),C=l[5]&&tn(l),v=l[0].desc&&rn(l);const D=[oo,ro],$=[];function T(j,h){return j[2]?0:1}d=T(l),c=$[d]=D[d](l);let M=l[3]&&fn(l),O=l[3]&&!l[4]&&cn(l);return{c(){k&&k.c(),e=R(),C&&C.c(),t=R(),n=m("div"),r=m("h1"),o=V("Group "),f=V(s),i=R(),v&&v.c(),a=R(),u=m("div"),c.c(),_=R(),M&&M.c(),g=R(),O&&O.c(),b(r,"class","text-2xl font-semibold text-gray-800"),b(u,"class","relative overflow-x-auto")},m(j,h){k&&k.m(j,h),w(j,e,h),C&&C.m(j,h),w(j,t,h),w(j,n,h),p(n,r),p(r,o),p(r,f),p(n,i),v&&v.m(n,null),p(n,a),p(n,u),$[d].m(u,null),p(n,_),M&&M.m(n,null),p(n,g),O&&O.m(n,null),S=!0},p(j,h){j[5]||j[4]?k?(k.p(j,h),h[0]&48&&E(k,1)):(k=en(j),k.c(),E(k,1),k.m(e.parentNode,e)):k&&(Y(),L(k,1,1,()=>{k=null}),K()),j[5]?C?C.p(j,h):(C=tn(j),C.c(),C.m(t.parentNode,t)):C&&(C.d(1),C=null),(!S||h[0]&1)&&s!==(s=j[0].name+"")&&X(f,s),j[0].desc?v?v.p(j,h):(v=rn(j),v.c(),v.m(n,a)):v&&(v.d(1),v=null);let P=d;d=T(j),d===P?$[d].p(j,h):(Y(),L($[P],1,1,()=>{$[P]=null}),K(),c=$[d],c?c.p(j,h):(c=$[d]=D[d](j),c.c()),E(c,1),c.m(u,null)),j[3]?M?M.p(j,h):(M=fn(j),M.c(),M.m(n,g)):M&&(M.d(1),M=null),j[3]&&!j[4]?O?O.p(j,h):(O=cn(j),O.c(),O.m(n,null)):O&&(O.d(1),O=null)},i(j){S||(E(k),E(c),S=!0)},o(j){L(k),L(c),S=!1},d(j){j&&(y(e),y(t),y(n)),k&&k.d(j),C&&C.d(j),v&&v.d(),$[d].d(),M&&M.d(),O&&O.d()}}}function no(l){let e;return{c(){e=m("p"),e.textContent="You are not a member of this group.",b(e,"class","text-4xl text-gray-900 font-extralight dark:text-gray-900")},m(t,n){w(t,e,n)},p:I,i:I,o:I,d(t){t&&y(e)}}}function en(l){let e,t,n,r,o,s,f;return t=new ie({props:{to:`group/${l[0].id}/manage`,$$slots:{default:[lo]},$$scope:{ctx:l}}}),{c(){e=m("button"),G(t.$$.fragment),n=R(),r=m("br"),o=R(),s=m("br"),b(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(i,a){w(i,e,a),A(t,e,null),w(i,n,a),w(i,r,a),w(i,o,a),w(i,s,a),f=!0},p(i,a){const u={};a[0]&1&&(u.to=`group/${i[0].id}/manage`),a[1]&32&&(u.$$scope={dirty:a,ctx:i}),t.$set(u)},i(i){f||(E(t.$$.fragment,i),f=!0)},o(i){L(t.$$.fragment,i),f=!1},d(i){i&&(y(e),y(n),y(r),y(o),y(s)),q(t)}}}function lo(l){let e;return{c(){e=V("Manage Group")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function tn(l){let e,t,n,r,o,s=l[9]&&nn(l);return{c(){e=m("button"),e.textContent="Edit Group",t=R(),s&&s.c(),n=Q(),b(e,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded")},m(f,i){w(f,e,i),w(f,t,i),s&&s.m(f,i),w(f,n,i),r||(o=B(e,"click",l[22]),r=!0)},p(f,i){f[9]?s?s.p(f,i):(s=nn(f),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},d(f){f&&(y(e),y(t),y(n)),s&&s.d(f),r=!1,o()}}}function nn(l){let e,t,n,r,o,s,f,i,a,u,d,c,_,g,S,k,C,v,D=ee(l[14]),$=[];for(let T=0;T<D.length;T+=1)$[T]=ln(Zt(l,D,T));return{c(){e=m("br"),t=R(),n=m("label"),n.textContent="Group Description:",r=R(),o=m("input"),s=R(),f=m("button"),f.textContent="Save",i=R(),a=m("form"),u=m("select");for(let T=0;T<$.length;T+=1)$[T].c();d=R(),c=m("br"),_=R(),g=m("button"),g.textContent="Edit Group Visibility",S=R(),k=m("button"),k.textContent="Cancel Group Edit",b(n,"for","groupDesc"),b(o,"type","text"),b(o,"class","backdrop-blur-3xl"),b(f,"class","bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"),l[10]===void 0&&be(()=>l[24].call(u)),b(g,"type","submit"),b(g,"class","bg-green-500 dark:bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"),b(k,"class","bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded")},m(T,M){w(T,e,M),w(T,t,M),w(T,n,M),w(T,r,M),w(T,o,M),x(o,l[0].desc),w(T,s,M),w(T,f,M),w(T,i,M),w(T,a,M),p(a,u);for(let O=0;O<$.length;O+=1)$[O]&&$[O].m(u,null);Ae(u,l[10],!0),p(a,d),p(a,c),p(a,_),p(a,g),w(T,S,M),w(T,k,M),C||(v=[B(o,"input",l[23]),B(f,"click",l[18]),B(u,"change",l[24]),B(a,"submit",Ye(l[20])),B(k,"click",l[25])],C=!0)},p(T,M){if(M[0]&1&&o.value!==T[0].desc&&x(o,T[0].desc),M[0]&16384){D=ee(T[14]);let O;for(O=0;O<D.length;O+=1){const j=Zt(T,D,O);$[O]?$[O].p(j,M):($[O]=ln(j),$[O].c(),$[O].m(u,null))}for(;O<$.length;O+=1)$[O].d(1);$.length=D.length}M[0]&17408&&Ae(u,T[10])},d(T){T&&(y(e),y(t),y(n),y(r),y(o),y(s),y(f),y(i),y(a),y(S),y(k)),ye($,T),C=!1,ne(v)}}}function ln(l){let e,t=l[33].visibility+"",n;return{c(){e=m("option"),n=V(t),e.__value=l[33],x(e,e.__value)},m(r,o){w(r,e,o),p(e,n)},p:I,d(r){r&&y(e)}}}function rn(l){let e,t=l[0].desc+"",n;return{c(){e=m("h1"),n=V(t),b(e,"class","text-2x3 font-semibold text-gray-800")},m(r,o){w(r,e,o),p(e,n)},p(r,o){o[0]&1&&t!==(t=r[0].desc+"")&&X(n,t)},d(r){r&&y(e)}}}function ro(l){let e;return{c(){e=m("p"),e.textContent="No threads to show..."},m(t,n){w(t,e,n)},p:I,i:I,o:I,d(t){t&&y(e)}}}function oo(l){let e,t,n,r,o,s,f,i,a,u=[],d=new Map,c,_=l[4]&&on(),g=ee(l[0].threads);const S=k=>k[30].id;for(let k=0;k<g.length;k+=1){let C=Xt(l,g,k),v=S(C);d.set(v,u[k]=un(v,C))}return{c(){e=m("table"),t=m("thead"),n=m("tr"),r=m("th"),r.textContent="Thread Name",o=R(),s=m("th"),s.textContent="Description",f=R(),_&&_.c(),i=R(),a=m("tbody");for(let k=0;k<u.length;k+=1)u[k].c();b(r,"scope","col"),b(r,"class","px-6 py-3"),b(s,"scope","col"),b(s,"class","px-6 py-3"),b(t,"class","text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"),b(e,"class","w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400")},m(k,C){w(k,e,C),p(e,t),p(t,n),p(n,r),p(n,o),p(n,s),p(n,f),_&&_.m(n,null),p(e,i),p(e,a);for(let v=0;v<u.length;v+=1)u[v]&&u[v].m(a,null);c=!0},p(k,C){k[4]?_||(_=on(),_.c(),_.m(n,null)):_&&(_.d(1),_=null),C[0]&524305&&(g=ee(k[0].threads),Y(),u=ct(u,C,S,1,k,g,d,a,ft,un,null,Xt),K())},i(k){if(!c){for(let C=0;C<g.length;C+=1)E(u[C]);c=!0}},o(k){for(let C=0;C<u.length;C+=1)L(u[C]);c=!1},d(k){k&&y(e),_&&_.d();for(let C=0;C<u.length;C+=1)u[C].d()}}}function on(l){let e;return{c(){e=m("th"),e.textContent="Delete",b(e,"scope","col"),b(e,"class","px-6 py-3")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function so(l){let e=l[30].name+"",t;return{c(){t=V(e)},m(n,r){w(n,t,r)},p(n,r){r[0]&1&&e!==(e=n[30].name+"")&&X(t,e)},d(n){n&&y(t)}}}function sn(l){let e,t,n,r;function o(){return l[26](l[30])}return{c(){e=m("td"),t=m("button"),t.textContent="Delete",b(t,"class","bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded"),b(e,"class","px-6 py-4")},m(s,f){w(s,e,f),p(e,t),n||(r=B(t,"click",o),n=!0)},p(s,f){l=s},d(s){s&&y(e),n=!1,r()}}}function un(l,e){let t,n,r,o,s,f=e[30].desc+"",i,a,u,d;r=new ie({props:{to:`group/${e[0].id}/thread/${e[30].id}`,$$slots:{default:[so]},$$scope:{ctx:e}}});let c=e[4]&&sn(e);return{key:l,first:null,c(){t=m("tr"),n=m("th"),G(r.$$.fragment),o=R(),s=m("td"),i=V(f),a=R(),c&&c.c(),u=R(),b(n,"scope","row"),b(n,"class","px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"),b(s,"class","px-6 py-4"),b(t,"class","bg-white border-b dark:bg-gray-800 dark:border-gray-700"),this.first=t},m(_,g){w(_,t,g),p(t,n),A(r,n,null),p(t,o),p(t,s),p(s,i),p(t,a),c&&c.m(t,null),p(t,u),d=!0},p(_,g){e=_;const S={};g[0]&1&&(S.to=`group/${e[0].id}/thread/${e[30].id}`),g[0]&1|g[1]&32&&(S.$$scope={dirty:g,ctx:e}),r.$set(S),(!d||g[0]&1)&&f!==(f=e[30].desc+"")&&X(i,f),e[4]?c?c.p(e,g):(c=sn(e),c.c(),c.m(t,u)):c&&(c.d(1),c=null)},i(_){d||(E(r.$$.fragment,_),d=!0)},o(_){L(r.$$.fragment,_),d=!1},d(_){_&&y(t),q(r),c&&c.d()}}}function fn(l){let e,t,n,r,o,s,f,i;return{c(){e=m("div"),t=m("label"),t.textContent="New Thread",n=R(),r=m("input"),o=R(),s=m("button"),s.textContent="Create Thread",b(t,"for","success"),b(t,"class","block mb-2 text-sm font-bold"),b(r,"type","text"),b(r,"id","success"),b(r,"class","bg-green-50 border border-green-500 text-green-900 dark:text-green-400 placeholder-green-700 dark:placeholder-green-500 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5 dark:bg-gray-700 dark:border-green-500"),b(r,"placeholder","Enter thread name"),b(s,"type","button"),b(s,"class","text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"),b(e,"class","mb-6")},m(a,u){w(a,e,u),p(e,t),p(e,n),p(e,r),x(r,l[8]),p(e,o),p(e,s),f||(i=[B(r,"input",l[27]),B(s,"click",l[15])],f=!0)},p(a,u){u[0]&256&&r.value!==a[8]&&x(r,a[8])},d(a){a&&y(e),f=!1,ne(i)}}}function cn(l){let e;function t(o,s){return o[7]?io:uo}let n=t(l),r=n(l);return{c(){r.c(),e=Q()},m(o,s){r.m(o,s),w(o,e,s)},p(o,s){n===(n=t(o))&&r?r.p(o,s):(r.d(1),r=n(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){o&&y(e),r.d(o)}}}function io(l){let e;return{c(){e=m("p"),e.textContent="You have already requested to be a moderator.",b(e,"class","text-4xl text-gray-900 font-extralight dark:text-gray-900")},m(t,n){w(t,e,n)},p:I,d(t){t&&y(e)}}}function uo(l){let e,t,n;return{c(){e=m("button"),e.textContent="Request moderator",b(e,"class","text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800")},m(r,o){w(r,e,o),t||(n=B(e,"click",l[17]),t=!0)},p:I,d(r){r&&y(e),t=!1,n()}}}function an(l){let e;function t(o,s){return o[6]?fo:co}let n=t(l),r=n(l);return{c(){r.c(),e=Q()},m(o,s){r.m(o,s),w(o,e,s)},p(o,s){n===(n=t(o))&&r?r.p(o,s):(r.d(1),r=n(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){o&&y(e),r.d(o)}}}function fo(l){let e;return{c(){e=m("p"),e.textContent="You are registered for this group.",b(e,"class","text-4xl text-gray-900 font-extralight dark:text-gray-900")},m(t,n){w(t,e,n)},p:I,d(t){t&&y(e)}}}function co(l){let e,t,n;return{c(){e=m("button"),e.textContent="Request to join group",b(e,"class","text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800")},m(r,o){w(r,e,o),t||(n=B(e,"click",l[16]),t=!0)},p:I,d(r){r&&y(e),t=!1,n()}}}function ao(l){let e,t,n,r,o,s,f;e=new _e({props:{user:l[1]}});let i=l[12]&&xt(l);const a=[eo,xr],u=[];function d(c,_){return c[11]?1:0}return r=d(l),o=u[r]=a[r](l),{c(){G(e.$$.fragment),t=R(),i&&i.c(),n=R(),o.c(),s=Q()},m(c,_){A(e,c,_),w(c,t,_),i&&i.m(c,_),w(c,n,_),u[r].m(c,_),w(c,s,_),f=!0},p(c,_){const g={};_[0]&2&&(g.user=c[1]),e.$set(g),c[12]?i?(i.p(c,_),_[0]&4096&&E(i,1)):(i=xt(c),i.c(),E(i,1),i.m(n.parentNode,n)):i&&(Y(),L(i,1,1,()=>{i=null}),K());let S=r;r=d(c),r===S?u[r].p(c,_):(Y(),L(u[S],1,1,()=>{u[S]=null}),K(),o=u[r],o?o.p(c,_):(o=u[r]=a[r](c),o.c()),E(o,1),o.m(s.parentNode,s))},i(c){f||(E(e.$$.fragment,c),E(i),E(o),f=!0)},o(c){L(e.$$.fragment,c),L(i),L(o),f=!1},d(c){c&&(y(t),y(n),y(s)),q(e,c),i&&i.d(c),u[r].d(c)}}}function _o(l,e,t){let{id:n}=e,r={name:"",id:0,desc:"",img_path:"",visibility:0,owner_id:0,owner:{name:""},moderators:[{name:"",uid:0}],members:[],registrations:[],mod_requests:[],threads:[]},o,s=!1,f=!1,i=!1,a=!1,u=!1,d=!1,c="",_=!1,g=[{id:1,visibility:"public"},{id:2,visibility:"registered"}],S,k=!1,C="",v=!1;ue(()=>{t(1,o=ce()),$()});function D(){t(3,f=r.members.some(H=>H.name===o.name)),t(4,i=r.moderators.some(H=>H.name===o.name)),t(5,a=r.owner_id===o.uid),t(6,u=r.registrations.some(H=>H.name===o.name)),t(7,d=r.mod_requests.some(H=>H.name===o.name))}async function $(){const[H,te]=await fe(`${z}/group/${n}`);H?(t(0,r=te),r.threads.length>0&&t(2,s=!0),o&&D(),t(11,k=!0)):(t(12,C=te.detail),t(13,v=!0))}async function T(){if(!c){t(12,C="Please enter a thread name."),t(13,v=!0);return}const[H,te]=await re(`${z}/thread/create`,{name:c,group_id:n});H?(t(12,C=te.detail),t(13,v=!1),$()):(t(12,C=te.detail),t(13,v=!0))}async function M(){const[H,te]=await re(`${z}/group/${n}/request_join`);H?(t(12,C=te.detail),t(13,v=!1),$()):(t(12,C=te.detail),t(13,v=!0))}async function O(){const[H,te]=await re(`${z}/group/${n}/request_mod`);H?(t(12,C=te.detail),t(13,v=!1),$()):(t(12,C=te.detail),t(13,v=!0))}async function j(){if(!r.desc){t(12,C="Please enter a group description."),t(13,v=!0);return}const[H,te]=await re(`${z}/group/${n}/edit_desc`,{desc:r.desc});H?(t(12,C=te.detail),t(13,v=!1),$()):(t(12,C=te.detail),t(13,v=!0))}async function h(H){const[te,at]=await Ke(`${z}/thread/${H}/delete`);te?(t(12,C=at.detail),t(13,v=!1),$()):(t(12,C=at.detail),t(13,v=!0))}async function P(){const[H,te]=await re(`${z}/group/${n}/edit_visibility`,{name:r.name,visibility:S.visibility});H?(t(12,C=te.detail),t(13,v=!1),$()):(t(12,C=te.detail),t(13,v=!0))}const N=()=>t(9,_=!0);function U(){r.desc=this.value,t(0,r)}function J(){S=An(this),t(10,S),t(14,g)}const W=()=>t(9,_=!1),Z=H=>{h(H.id)};function F(){c=this.value,t(8,c)}return l.$$set=H=>{"id"in H&&t(21,n=H.id)},[r,o,s,f,i,a,u,d,c,_,S,k,C,v,g,T,M,O,j,h,P,n,N,U,J,W,Z,F]}class po extends se{constructor(e){super(),oe(this,e,_o,ao,le,{id:21},null,[-1,-1])}}function dn(l,e,t){const n=l.slice();return n[24]=e[t],n}function _n(l,e,t){const n=l.slice();return n[24]=e[t],n}function pn(l,e,t){const n=l.slice();return n[29]=e[t],n}function mn(l){let e,t;return e=new ge({props:{msg:l[7],is_error:l[8]}}),{c(){G(e.$$.fragment)},m(n,r){A(e,n,r),t=!0},p(n,r){const o={};r[0]&128&&(o.msg=n[7]),r[0]&256&&(o.is_error=n[8]),e.$set(o)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function mo(l){let e,t,n,r=l[2]&&bn(l),o=l[2]&&kn(l),s=(l[2]||l[3])&&$n(l);return{c(){r&&r.c(),e=R(),o&&o.c(),t=R(),s&&s.c(),n=Q()},m(f,i){r&&r.m(f,i),w(f,e,i),o&&o.m(f,i),w(f,t,i),s&&s.m(f,i),w(f,n,i)},p(f,i){f[2]?r?r.p(f,i):(r=bn(f),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),f[2]?o?o.p(f,i):(o=kn(f),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),f[2]||f[3]?s?s.p(f,i):(s=$n(f),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},d(f){f&&(y(e),y(t),y(n)),r&&r.d(f),o&&o.d(f),s&&s.d(f)}}}function bo(l){let e;return{c(){e=m("p"),e.textContent="Loading..."},m(t,n){w(t,e,n)},p:I,d(t){t&&y(e)}}}function bn(l){let e,t,n,r,o,s,f,i=ee(l[0].moderators),a=[];for(let u=0;u<i.length;u+=1)a[u]=hn(pn(l,i,u));return{c(){e=m("div"),e.textContent="Moderators",t=R(),n=m("div"),r=m("table"),o=m("thead"),o.innerHTML='<tr><th class="py-2 px-4 border-b text-center">Username</th> <th class="py-2 px-4 border-b text-center">Remove</th></tr>',s=R(),f=m("tbody");for(let u=0;u<a.length;u+=1)a[u].c();b(e,"class","text-center my-4 text-2xl font-bold"),b(r,"class","min-w-full bg-white border border-gray-300"),b(n,"class","overflow-x-auto")},m(u,d){w(u,e,d),w(u,t,d),w(u,n,d),p(n,r),p(r,o),p(r,s),p(r,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(f,null)},p(u,d){if(d[0]&1025){i=ee(u[0].moderators);let c;for(c=0;c<i.length;c+=1){const _=pn(u,i,c);a[c]?a[c].p(_,d):(a[c]=hn(_),a[c].c(),a[c].m(f,null))}for(;c<a.length;c+=1)a[c].d(1);a.length=i.length}},d(u){u&&(y(e),y(t),y(n)),ye(a,u)}}}function gn(l){let e,t,n=l[29].name+"",r,o,s,f,i,a,u,d;function c(){return l[13](l[29])}return{c(){e=m("tr"),t=m("td"),r=V(n),o=R(),s=m("td"),f=m("div"),i=m("button"),i.textContent="Remove",a=R(),b(t,"class","py-2 px-4 border-b text-center"),b(i,"class","text-red-500 hover:text-red-700 focus:outline-none"),b(f,"class","flex justify-center"),b(s,"class","py-2 px-4 border-b"),b(e,"class","hover:bg-gray-100")},m(_,g){w(_,e,g),p(e,t),p(t,r),p(e,o),p(e,s),p(s,f),p(f,i),p(e,a),u||(d=B(i,"click",c),u=!0)},p(_,g){l=_,g[0]&1&&n!==(n=l[29].name+"")&&X(r,n)},d(_){_&&y(e),u=!1,d()}}}function hn(l){let e,t=l[29].id!=l[0].owner_id&&gn(l);return{c(){t&&t.c(),e=Q()},m(n,r){t&&t.m(n,r),w(n,e,r)},p(n,r){n[29].id!=n[0].owner_id?t?t.p(n,r):(t=gn(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&y(e),t&&t.d(n)}}}function kn(l){let e,t,n,r,o,s,f,i=l[4].length>0&&yn(l);return{c(){e=m("div"),e.textContent="Moderator Requests",t=R(),n=m("div"),r=m("table"),o=m("thead"),o.innerHTML='<tr><th class="py-2 px-4 border-b text-center">Name</th> <th class="py-2 px-4 border-b text-center">Accept</th> <th class="py-2 px-4 border-b text-center">Reject</th></tr>',s=R(),f=m("tbody"),i&&i.c(),b(e,"class","text-center my-4 text-2xl font-bold"),b(r,"class","min-w-full bg-white border border-gray-300"),b(n,"class","overflow-x-auto")},m(a,u){w(a,e,u),w(a,t,u),w(a,n,u),p(n,r),p(r,o),p(r,s),p(r,f),i&&i.m(f,null)},p(a,u){a[4].length>0?i?i.p(a,u):(i=yn(a),i.c(),i.m(f,null)):i&&(i.d(1),i=null)},d(a){a&&(y(e),y(t),y(n)),i&&i.d()}}}function yn(l){let e,t=ee(l[4]),n=[];for(let r=0;r<t.length;r+=1)n[r]=wn(_n(l,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=Q()},m(r,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,o);w(r,e,o)},p(r,o){if(o[0]&2064){t=ee(r[4]);let s;for(s=0;s<t.length;s+=1){const f=_n(r,t,s);n[s]?n[s].p(f,o):(n[s]=wn(f),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(r){r&&y(e),ye(n,r)}}}function wn(l){let e,t,n=l[24].name+"",r,o,s,f,i,a,u,d,c,_,g,S;function k(){return l[14](l[24])}function C(){return l[15](l[24])}return{c(){e=m("tr"),t=m("td"),r=V(n),o=R(),s=m("td"),f=m("div"),i=m("button"),i.textContent="Accept",a=R(),u=m("td"),d=m("div"),c=m("button"),c.textContent="Reject",_=R(),b(t,"class","py-2 px-4 border-b text-center"),b(i,"class","bg-green-500 hover:bg-green-700 text-white py-1 px-2 rounded focus:outline-none"),b(f,"class","flex justify-center"),b(s,"class","py-2 px-4 border-b"),b(c,"class","bg-red-500 hover:bg-red-700 text-white py-1 px-2 rounded focus:outline-none"),b(d,"class","flex justify-center"),b(u,"class","py-2 px-4 border-b"),b(e,"class","hover:bg-gray-100")},m(v,D){w(v,e,D),p(e,t),p(t,r),p(e,o),p(e,s),p(s,f),p(f,i),p(e,a),p(e,u),p(u,d),p(d,c),p(e,_),g||(S=[B(i,"click",k),B(c,"click",C)],g=!0)},p(v,D){l=v,D[0]&16&&n!==(n=l[24].name+"")&&X(r,n)},d(v){v&&y(e),g=!1,ne(S)}}}function $n(l){let e,t,n,r,o,s,f,i=l[5].length>0&&vn(l);return{c(){e=m("div"),e.textContent="Join requests",t=R(),n=m("div"),r=m("table"),o=m("thead"),o.innerHTML='<tr><th class="py-2 px-4 border-b text-center">Name</th> <th class="py-2 px-4 border-b text-center">Accept</th> <th class="py-2 px-4 border-b text-center">Reject</th></tr>',s=R(),f=m("tbody"),i&&i.c(),b(e,"class","text-center my-4 text-2xl font-bold"),b(r,"class","min-w-full bg-white border border-gray-300"),b(n,"class","overflow-x-auto")},m(a,u){w(a,e,u),w(a,t,u),w(a,n,u),p(n,r),p(r,o),p(r,s),p(r,f),i&&i.m(f,null)},p(a,u){a[5].length>0?i?i.p(a,u):(i=vn(a),i.c(),i.m(f,null)):i&&(i.d(1),i=null)},d(a){a&&(y(e),y(t),y(n)),i&&i.d()}}}function vn(l){let e,t=ee(l[5]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Cn(dn(l,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=Q()},m(r,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,o);w(r,e,o)},p(r,o){if(o[0]&544){t=ee(r[5]);let s;for(s=0;s<t.length;s+=1){const f=dn(r,t,s);n[s]?n[s].p(f,o):(n[s]=Cn(f),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(r){r&&y(e),ye(n,r)}}}function Cn(l){let e,t,n=l[24].name+"",r,o,s,f,i,a,u,d,c,_,g,S;function k(){return l[16](l[24])}function C(){return l[17](l[24])}return{c(){e=m("tr"),t=m("td"),r=V(n),o=R(),s=m("td"),f=m("div"),i=m("button"),i.textContent="Accept",a=R(),u=m("td"),d=m("div"),c=m("button"),c.textContent="Reject",_=R(),b(t,"class","py-2 px-4 border-b text-center"),b(i,"class","bg-green-500 hover:bg-green-700 text-white py-1 px-2 rounded focus:outline-none"),b(f,"class","flex justify-center"),b(s,"class","py-2 px-4 border-b"),b(c,"class","bg-red-500 hover:bg-red-700 text-white py-1 px-2 rounded focus:outline-none"),b(d,"class","flex justify-center"),b(u,"class","py-2 px-4 border-b"),b(e,"class","hover:bg-gray-100")},m(v,D){w(v,e,D),p(e,t),p(t,r),p(e,o),p(e,s),p(s,f),p(f,i),p(e,a),p(e,u),p(u,d),p(d,c),p(e,_),g||(S=[B(i,"click",k),B(c,"click",C)],g=!0)},p(v,D){l=v,D[0]&32&&n!==(n=l[24].name+"")&&X(r,n)},d(v){v&&y(e),g=!1,ne(S)}}}function go(l){let e,t,n,r,o;e=new _e({props:{user:l[1]}});let s=l[7]&&mn(l);function f(u,d){return u[6]?mo:bo}let i=f(l),a=i(l);return{c(){G(e.$$.fragment),t=R(),s&&s.c(),n=R(),a.c(),r=Q()},m(u,d){A(e,u,d),w(u,t,d),s&&s.m(u,d),w(u,n,d),a.m(u,d),w(u,r,d),o=!0},p(u,d){const c={};d[0]&2&&(c.user=u[1]),e.$set(c),u[7]?s?(s.p(u,d),d[0]&128&&E(s,1)):(s=mn(u),s.c(),E(s,1),s.m(n.parentNode,n)):s&&(Y(),L(s,1,1,()=>{s=null}),K()),i===(i=f(u))&&a?a.p(u,d):(a.d(1),a=i(u),a&&(a.c(),a.m(r.parentNode,r)))},i(u){o||(E(e.$$.fragment,u),E(s),o=!0)},o(u){L(e.$$.fragment,u),L(s),o=!1},d(u){u&&(y(t),y(n),y(r)),q(e,u),s&&s.d(u),a.d(u)}}}function ho(l,e,t){let{gid:n}=e,r,o,s=!1,f=!1,i=[],a=[],u=!1,d="",c=!1;ue(()=>{t(1,o=ce()),_()});async function _(){try{await g(),t(2,s=S()),t(3,f=k()),C(r.id),v(r.id)}catch(N){console.log(N)}}async function g(){const[N,U]=await fe(`${z}/group/${n}`);N?(t(0,r=U),t(6,u=!0)):(t(7,d=U.detail),t(8,c=!0))}function S(){return r.owner_id===o.uid}function k(){for(let N=0;N<r.moderators.length;N++)if(r.moderators[N].id===o.uid)return!0;return!1}async function C(N){const[U,J]=await fe(`${z}/group/${N}/mod_requests`);U?t(4,i=J):(t(7,d=J.detail),t(8,c=!0))}async function v(N){const[U,J]=await fe(`${z}/group/${N}/join_requests`);U?t(5,a=J):(t(7,d=J.detail),t(8,c=!0))}async function D(N,U,J){let W;J?W=`${z}/group/${n}/accept_join_request`:W=`${z}/group/${n}/reject_join_request`;const[Z,F]=await re(W,{id:N,name:U});Z?(v(r.id),t(7,d=F.detail),t(8,c=!1)):(t(7,d=F.detail),t(8,c=!0))}async function $(N,U){const[J,W]=await re(`${z}/group/${n}/remove_mod`,{id:N,name:U});J?(g(),t(7,d=W.detail),t(8,c=!1)):(t(7,d=W.detail),t(8,c=!0))}async function T(N,U,J){let W;J?W=`${z}/group/${n}/accept_mod_request`:W=`${z}/group/${n}/reject_mod_request`;const[Z,F]=await re(W,{id:N,name:U});Z?(C(r.id),g(),t(7,d=F.detail),t(8,c=!1)):(t(7,d=F.detail),t(8,c=!0))}const M=N=>{$(N.id,N.name)},O=N=>{T(N.id,N.name,!0)},j=N=>{T(N.id,N.name,!1)},h=N=>{D(N.id,N.name,!0)},P=N=>{D(N.id,N.name,!1)};return l.$$set=N=>{"gid"in N&&t(12,n=N.gid)},[r,o,s,f,i,a,u,d,c,D,$,T,n,M,O,j,h,P]}class ko extends se{constructor(e){super(),oe(this,e,ho,go,le,{gid:12},null,[-1,-1])}}function Nn(l,e,t){const n=l.slice();return n[25]=e[t],n}function Pn(l){let e,t;return e=new ge({props:{msg:l[6],is_error:l[7]}}),{c(){G(e.$$.fragment)},m(n,r){A(e,n,r),t=!0},p(n,r){const o={};r&64&&(o.msg=n[6]),r&128&&(o.is_error=n[7]),e.$set(o)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function yo(l){let e,t,n=l[4].name+"",r,o,s,f,i,a,u,d,c,_,g,S;function k(D,$){return D[2].length>0?vo:$o}let C=k(l),v=C(l);return{c(){e=m("h1"),t=V("Thread "),r=V(n),o=R(),s=m("div"),f=m("label"),f.textContent="New Post",i=R(),a=m("input"),u=R(),d=m("button"),d.textContent="Post",c=R(),v.c(),_=Q(),b(e,"class","text-2xl font-semibold text-gray-800"),b(f,"for","success"),b(f,"class","block mb-2 text-sm font-bold"),b(a,"type","text"),b(a,"id","success"),b(a,"class","bg-green-50 border border-green-500 text-green-900 dark:text-green-400 placeholder-green-700 dark:placeholder-green-500 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5 dark:bg-gray-700 dark:border-green-500"),b(a,"placeholder","Post content"),b(d,"type","button"),b(d,"class","text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"),b(s,"class","mb-6")},m(D,$){w(D,e,$),p(e,t),p(e,r),w(D,o,$),w(D,s,$),p(s,f),p(s,i),p(s,a),x(a,l[1]),p(s,u),p(s,d),w(D,c,$),v.m(D,$),w(D,_,$),g||(S=[B(a,"input",l[15]),B(d,"click",l[8])],g=!0)},p(D,$){$&16&&n!==(n=D[4].name+"")&&X(r,n),$&2&&a.value!==D[1]&&x(a,D[1]),C===(C=k(D))&&v?v.p(D,$):(v.d(1),v=C(D),v&&(v.c(),v.m(_.parentNode,_)))},d(D){D&&(y(e),y(o),y(s),y(c),y(_)),v.d(D),g=!1,ne(S)}}}function wo(l){let e;return{c(){e=m("p"),e.textContent="Loading..."},m(t,n){w(t,e,n)},p:I,d(t){t&&y(e)}}}function $o(l){let e;return{c(){e=m("p"),e.textContent="This thread is empty"},m(t,n){w(t,e,n)},p:I,d(t){t&&y(e)}}}function vo(l){let e,t=ee(l[2]),n=[];for(let r=0;r<t.length;r+=1)n[r]=En(Nn(l,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=Q()},m(r,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,o);w(r,e,o)},p(r,o){if(o&1549){t=ee(r[2]);let s;for(s=0;s<t.length;s+=1){const f=Nn(r,t,s);n[s]?n[s].p(f,o):(n[s]=En(f),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(r){r&&y(e),ye(n,r)}}}function Sn(l){let e,t;return{c(){e=m("img"),b(e,"class","w-10 h-10"),Ue(e.src,t=z+"/user/"+l[25].author_id+"/image/"+l[25].author_image_path)||b(e,"src",t),b(e,"alt","Profile img"),b(e,"crossorigin","use-credentials")},m(n,r){w(n,e,r)},p(n,r){r&4&&!Ue(e.src,t=z+"/user/"+n[25].author_id+"/image/"+n[25].author_image_path)&&b(e,"src",t)},d(n){n&&y(e)}}}function Co(l){let e,t,n;function r(){return l[17](l[25])}return{c(){e=m("button"),e.textContent="Upvote",b(e,"class","bg-gray-500 hover:bg-green-700 text-white py-1 px-2 rounded focus:outline-none")},m(o,s){w(o,e,s),t||(n=B(e,"click",r),t=!0)},p(o,s){l=o},d(o){o&&y(e),t=!1,n()}}}function No(l){let e,t,n;function r(){return l[16](l[25])}return{c(){e=m("button"),e.textContent="Upvoted",b(e,"class","bg-green-500 hover:bg-gray-700 text-white py-1 px-2 rounded focus:outline-none")},m(o,s){w(o,e,s),t||(n=B(e,"click",r),t=!0)},p(o,s){l=o},d(o){o&&y(e),t=!1,n()}}}function Po(l){let e,t,n;function r(){return l[19](l[25])}return{c(){e=m("button"),e.textContent="Downvote",b(e,"class","bg-gray-500 hover:bg-red-700 text-white py-1 px-2 rounded focus:outline-none")},m(o,s){w(o,e,s),t||(n=B(e,"click",r),t=!0)},p(o,s){l=o},d(o){o&&y(e),t=!1,n()}}}function So(l){let e,t,n;function r(){return l[18](l[25])}return{c(){e=m("button"),e.textContent="Downvoted",b(e,"class","bg-red-500 hover:bg-gray-700 text-white py-1 px-2 rounded focus:outline-none")},m(o,s){w(o,e,s),t||(n=B(e,"click",r),t=!0)},p(o,s){l=o},d(o){o&&y(e),t=!1,n()}}}function Rn(l){let e,t,n,r;function o(){return l[20](l[25])}return{c(){e=m("div"),t=m("button"),t.textContent="Delete",b(t,"class","bg-red-500 hover:bg-red-700 text-white py-1 px-2 rounded focus:outline-none"),b(e,"class","")},m(s,f){w(s,e,f),p(e,t),n||(r=B(t,"click",o),n=!0)},p(s,f){l=s},d(s){s&&y(e),n=!1,r()}}}function En(l){let e,t,n,r=l[25].author_name+"",o,s,f,i,a,u=l[25].content+"",d,c,_,g,S=l[25].rating+"",k,C,v,D,$,T,M,O,j=l[25].author_image_path&&Sn(l);function h(F,H){return H&5&&(D=null),D==null&&(D=!!F[25].ratings.some(F[14])),D?No:Co}let P=h(l,-1),N=P(l);function U(F,H){return H&5&&(T=null),T==null&&(T=!!F[25].ratings.some(F[13])),T?So:Po}let J=U(l,-1),W=J(l),Z=l[3]&&Rn(l);return{c(){e=m("div"),t=m("div"),n=m("div"),o=V(r),s=R(),f=m("div"),j&&j.c(),i=R(),a=m("div"),d=V(u),c=R(),_=m("div"),g=V("rating "),k=V(S),C=R(),v=m("div"),N.c(),$=R(),W.c(),M=R(),Z&&Z.c(),O=R(),b(n,"class","flex-none font-bold text-green-700"),b(f,"class","bg-blue-100"),b(t,"class","flex flex-col"),b(a,"class","flex-1 w-64 bg-slate-400 py-1 px-2 rounded"),b(_,"class","bg-green-100 font-bold"),b(e,"class","flex flex-row border-2")},m(F,H){w(F,e,H),p(e,t),p(t,n),p(n,o),p(t,s),p(t,f),j&&j.m(f,null),p(e,i),p(e,a),p(a,d),p(e,c),p(e,_),p(_,g),p(_,k),p(e,C),p(e,v),N.m(v,null),p(v,$),W.m(v,null),p(e,M),Z&&Z.m(e,null),p(e,O)},p(F,H){H&4&&r!==(r=F[25].author_name+"")&&X(o,r),F[25].author_image_path?j?j.p(F,H):(j=Sn(F),j.c(),j.m(f,null)):j&&(j.d(1),j=null),H&4&&u!==(u=F[25].content+"")&&X(d,u),H&4&&S!==(S=F[25].rating+"")&&X(k,S),P===(P=h(F,H))&&N?N.p(F,H):(N.d(1),N=P(F),N&&(N.c(),N.m(v,$))),J===(J=U(F,H))&&W?W.p(F,H):(W.d(1),W=J(F),W&&(W.c(),W.m(v,null))),F[3]?Z?Z.p(F,H):(Z=Rn(F),Z.c(),Z.m(e,O)):Z&&(Z.d(1),Z=null)},d(F){F&&y(e),j&&j.d(),N.d(),W.d(),Z&&Z.d()}}}function Ro(l){let e,t,n,r,o;e=new _e({props:{user:l[0]}});let s=l[6]&&Pn(l);function f(u,d){return u[5]?yo:wo}let i=f(l),a=i(l);return{c(){G(e.$$.fragment),t=R(),s&&s.c(),n=R(),a.c(),r=Q()},m(u,d){A(e,u,d),w(u,t,d),s&&s.m(u,d),w(u,n,d),a.m(u,d),w(u,r,d),o=!0},p(u,[d]){const c={};d&1&&(c.user=u[0]),e.$set(c),u[6]?s?(s.p(u,d),d&64&&E(s,1)):(s=Pn(u),s.c(),E(s,1),s.m(n.parentNode,n)):s&&(Y(),L(s,1,1,()=>{s=null}),K()),i===(i=f(u))&&a?a.p(u,d):(a.d(1),a=i(u),a&&(a.c(),a.m(r.parentNode,r)))},i(u){o||(E(e.$$.fragment,u),E(s),o=!0)},o(u){L(e.$$.fragment,u),L(s),o=!1},d(u){u&&(y(t),y(n),y(r)),q(e,u),s&&s.d(u),a.d(u)}}}function Eo(l,e,t){let{gid:n}=e,{tid:r}=e,o,s="",f=[],i={name:"",id:0,desc:"",img_path:"",visibility:"",owner_id:0,owner:{name:""},moderators:[{name:"",uid:0}],members:[],registrations:[],mod_requests:[],threads:[]},a=!1,u={name:""},d=!1,c="",_=!1;ue(()=>{t(0,o=ce()),g(),S()});async function g(){const[N,U]=await fe(`${z}/group/${n}`);if(!N){t(6,c=U.detail),t(7,_=!0);return}i=U,i.members.some(J=>J.name===o.name),t(3,a=i.moderators.some(J=>J.name===o.name)),t(4,u=i.threads.find(J=>J.id==r)),t(5,d=!0)}async function S(){const[N,U]=await fe(`${z}/thread/${r}/posts`);N?(t(2,f=U),f.reverse()):(t(6,c=U.detail),t(7,_=!0))}async function k(){const[N,U]=await re(`${z}/post/create`,{content:s,thread_id:r});N?(S(),t(1,s="")):(t(6,c=U.detail),t(7,_=!0))}async function C(N){const[U,J]=await Ke(`${z}/post/${N}/delete`);U?(S(),t(6,c=J.detail),t(7,_=!1)):(t(6,c=J.detail),t(7,_=!0))}async function v(N,U){const[J,W]=await re(`${z}/post/${N}/vote`,{rating:U});J?(S(),t(6,c=W.detail),t(7,_=!1)):(t(6,c=W.detail),t(7,_=!0))}const D=N=>N.user_id===o.uid&&N.rating===-1,$=N=>N.user_id===o.uid&&N.rating===1;function T(){s=this.value,t(1,s)}const M=N=>{v(N.id,1)},O=N=>{v(N.id,1)},j=N=>{v(N.id,-1)},h=N=>{v(N.id,-1)},P=N=>{C(N.id)};return l.$$set=N=>{"gid"in N&&t(11,n=N.gid),"tid"in N&&t(12,r=N.tid)},[o,s,f,a,u,d,c,_,k,C,v,n,r,D,$,T,M,O,j,h,P]}class jo extends se{constructor(e){super(),oe(this,e,Eo,Ro,le,{gid:11,tid:12})}}function Do(l){let e,t;return e=new zr({props:{uid:l[3].id}}),{c(){G(e.$$.fragment)},m(n,r){A(e,n,r),t=!0},p(n,r){const o={};r&8&&(o.uid=n[3].id),e.$set(o)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Lo(l){let e,t;return e=new po({props:{id:l[3].id}}),{c(){G(e.$$.fragment)},m(n,r){A(e,n,r),t=!0},p(n,r){const o={};r&8&&(o.id=n[3].id),e.$set(o)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function To(l){let e,t;return e=new ko({props:{gid:l[3].id}}),{c(){G(e.$$.fragment)},m(n,r){A(e,n,r),t=!0},p(n,r){const o={};r&8&&(o.gid=n[3].id),e.$set(o)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Oo(l){let e,t;return e=new jo({props:{gid:l[3].gid,tid:l[3].tid}}),{c(){G(e.$$.fragment)},m(n,r){A(e,n,r),t=!0},p(n,r){const o={};r&8&&(o.gid=n[3].gid),r&8&&(o.tid=n[3].tid),e.$set(o)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Io(l){let e,t;return e=new cr({}),{c(){G(e.$$.fragment)},m(n,r){A(e,n,r),t=!0},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Mo(l){let e,t,n,r,o,s,f,i,a,u,d,c,_,g,S,k,C,v,D;return t=new ae({props:{path:"/login",component:hr}}),r=new ae({props:{path:"/register",component:$r}}),s=new ae({props:{path:"/profiles",component:jr}}),i=new ae({props:{path:"/profile/:id",$$slots:{default:[Do,({params:$})=>({3:$}),({params:$})=>$?8:0]},$$scope:{ctx:l}}}),u=new ae({props:{path:"/groups",component:Zr}}),c=new ae({props:{path:"/group/:id",$$slots:{default:[Lo,({params:$})=>({3:$}),({params:$})=>$?8:0]},$$scope:{ctx:l}}}),g=new ae({props:{path:"/group/:id/manage",$$slots:{default:[To,({params:$})=>({3:$}),({params:$})=>$?8:0]},$$scope:{ctx:l}}}),k=new ae({props:{path:"/group/:gid/thread/:tid",$$slots:{default:[Oo,({params:$})=>({3:$}),({params:$})=>$?8:0]},$$scope:{ctx:l}}}),v=new ae({props:{path:"/",$$slots:{default:[Io]},$$scope:{ctx:l}}}),{c(){e=m("div"),G(t.$$.fragment),n=R(),G(r.$$.fragment),o=R(),G(s.$$.fragment),f=R(),G(i.$$.fragment),a=R(),G(u.$$.fragment),d=R(),G(c.$$.fragment),_=R(),G(g.$$.fragment),S=R(),G(k.$$.fragment),C=R(),G(v.$$.fragment),b(e,"class","bg-blue-100 h-screen svelte-1cyy7ro")},m($,T){w($,e,T),A(t,e,null),p(e,n),A(r,e,null),p(e,o),A(s,e,null),p(e,f),A(i,e,null),p(e,a),A(u,e,null),p(e,d),A(c,e,null),p(e,_),A(g,e,null),p(e,S),A(k,e,null),p(e,C),A(v,e,null),D=!0},p($,T){const M={};T&24&&(M.$$scope={dirty:T,ctx:$}),i.$set(M);const O={};T&24&&(O.$$scope={dirty:T,ctx:$}),c.$set(O);const j={};T&24&&(j.$$scope={dirty:T,ctx:$}),g.$set(j);const h={};T&24&&(h.$$scope={dirty:T,ctx:$}),k.$set(h);const P={};T&16&&(P.$$scope={dirty:T,ctx:$}),v.$set(P)},i($){D||(E(t.$$.fragment,$),E(r.$$.fragment,$),E(s.$$.fragment,$),E(i.$$.fragment,$),E(u.$$.fragment,$),E(c.$$.fragment,$),E(g.$$.fragment,$),E(k.$$.fragment,$),E(v.$$.fragment,$),D=!0)},o($){L(t.$$.fragment,$),L(r.$$.fragment,$),L(s.$$.fragment,$),L(i.$$.fragment,$),L(u.$$.fragment,$),L(c.$$.fragment,$),L(g.$$.fragment,$),L(k.$$.fragment,$),L(v.$$.fragment,$),D=!1},d($){$&&y(e),q(t),q(r),q(s),q(i),q(u),q(c),q(g),q(k),q(v)}}}function Uo(l){let e,t;return e=new Fl({props:{url:l[0],$$slots:{default:[Mo]},$$scope:{ctx:l}}}),{c(){G(e.$$.fragment)},m(n,r){A(e,n,r),t=!0},p(n,[r]){const o={};r&1&&(o.url=n[0]),r&16&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Ao(l,e,t){let n;pe(l,Re,s=>t(2,n=s)),localStorage.theme="light";let r=!1;ue(async()=>{let s=window.sessionStorage.getItem("store");s&&(console.log("sob-- ~ loading ses",s),Zn(Re,n=JSON.parse(s),n)),t(1,r=!0)});let{url:o=""}=e;return l.$$set=s=>{"url"in s&&t(0,o=s.url)},l.$$.update=()=>{l.$$.dirty&6&&r&&n&&window.sessionStorage.setItem("store",JSON.stringify(n))},[o,r,n]}class qo extends se{constructor(e){super(),oe(this,e,Ao,Uo,le,{url:0})}}new qo({target:document.getElementById("app")});
